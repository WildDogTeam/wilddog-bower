(function(){var define=null;!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.eio=e()}}(function(){var e;return function t(e,r,n){function o(i,a){if(!r[i]){if(!e[i]){var c="function"==typeof require&&require;if(!a&&c)return c(i,!0);if(s)return s(i,!0);var p=new Error("Cannot find module '"+i+"'");throw p.code="MODULE_NOT_FOUND",p}var u=r[i]={exports:{}};e[i][0].call(u.exports,function(t){var r=e[i][1][t];return o(r?r:t)},u,u.exports,t,e,r,n)}return r[i].exports}for(var s="function"==typeof require&&require,i=0;i<n.length;i++)o(n[i]);return o}({1:[function(e,t,r){t.exports=e("./lib/")},{"./lib/":2}],2:[function(e,t,r){t.exports=e("./socket"),t.exports.parser=e("engine.io-parser")},{"./socket":3,"engine.io-parser":20}],3:[function(e,t,r){(function(r){function n(e,t){if(!(this instanceof n))return new n(e,t);t=t||{},e&&"object"==typeof e&&(t=e,e=null),e?(e=u(e),t.hostname=e.host,t.secure="https"==e.protocol||"wss"==e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=u(t.host).host),this.secure=null!=t.secure?t.secure:r.location&&"https:"==location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||(r.location?location.hostname:"localhost"),this.port=t.port||(r.location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"==typeof this.query&&(this.query=f.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=!1!==t.perMessageDeflate&&(t.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=void 0===t.rejectUnauthorized||t.rejectUnauthorized;var o="object"==typeof r&&r;o.global===o&&t.extraHeaders&&Object.keys(t.extraHeaders).length>0&&(this.extraHeaders=t.extraHeaders),this.open()}function o(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}var s=e("./transports"),i=e("component-emitter"),a=e("debug")("engine.io-client:socket"),c=e("indexof"),p=e("engine.io-parser"),u=e("parseuri"),h=e("parsejson"),f=e("parseqs");t.exports=n,n.priorWebsocketSuccess=!1,i(n.prototype),n.protocol=p.protocol,n.Socket=n,n.Transport=e("./transport"),n.transports=e("./transports"),n.parser=e("engine.io-parser"),n.prototype.createTransport=function(e){a('creating transport "%s"',e);var t=o(this.query);t.EIO=p.protocol,t.transport=e,this.id&&(t.sid=this.id);var r=new s[e]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:t,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized,perMessageDeflate:this.perMessageDeflate,extraHeaders:this.extraHeaders});return r},n.prototype.open=function(){var e;if(this.rememberUpgrade&&n.priorWebsocketSuccess&&this.transports.indexOf("websocket")!=-1)e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout(function(){t.emit("error","No transports available")},0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(r){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},n.prototype.setTransport=function(e){a("setting transport %s",e.name);var t=this;this.transport&&(a("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){t.onDrain()}).on("packet",function(e){t.onPacket(e)}).on("error",function(e){t.onError(e)}).on("close",function(){t.onClose("transport close")})},n.prototype.probe=function(e){function t(){if(f.onlyBinaryUpgrades){var t=!this.supportsBinary&&f.transport.supportsBinary;h=h||t}h||(a('probe transport "%s" opened',e),u.send([{type:"ping",data:"probe"}]),u.once("packet",function(t){if(!h)if("pong"==t.type&&"probe"==t.data){if(a('probe transport "%s" pong',e),f.upgrading=!0,f.emit("upgrading",u),!u)return;n.priorWebsocketSuccess="websocket"==u.name,a('pausing current transport "%s"',f.transport.name),f.transport.pause(function(){h||"closed"!=f.readyState&&(a("changing transport and sending upgrade packet"),p(),f.setTransport(u),u.send([{type:"upgrade"}]),f.emit("upgrade",u),u=null,f.upgrading=!1,f.flush())})}else{a('probe transport "%s" failed',e);var r=new Error("probe error");r.transport=u.name,f.emit("upgradeError",r)}}))}function r(){h||(h=!0,p(),u.close(),u=null)}function o(t){var n=new Error("probe error: "+t);n.transport=u.name,r(),a('probe transport "%s" failed because of error: %s',e,t),f.emit("upgradeError",n)}function s(){o("transport closed")}function i(){o("socket closed")}function c(e){u&&e.name!=u.name&&(a('"%s" works - aborting "%s"',e.name,u.name),r())}function p(){u.removeListener("open",t),u.removeListener("error",o),u.removeListener("close",s),f.removeListener("close",i),f.removeListener("upgrading",c)}a('probing transport "%s"',e);var u=this.createTransport(e,{probe:1}),h=!1,f=this;n.priorWebsocketSuccess=!1,u.once("open",t),u.once("error",o),u.once("close",s),this.once("close",i),this.once("upgrading",c),u.open()},n.prototype.onOpen=function(){if(a("socket open"),this.readyState="open",n.priorWebsocketSuccess="websocket"==this.transport.name,this.emit("open"),this.flush(),"open"==this.readyState&&this.upgrade&&this.transport.pause){a("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},n.prototype.onPacket=function(e){if("opening"==this.readyState||"open"==this.readyState)switch(a('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(h(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else a('packet received with socket readyState "%s"',this.readyState)},n.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!=this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},n.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){"closed"!=t.readyState&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)},n.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){a("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)},n.prototype.ping=function(){var e=this;this.sendPacket("ping",function(){e.emit("ping")})},n.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},n.prototype.flush=function(){"closed"!=this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(a("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},n.prototype.write=n.prototype.send=function(e,t,r){return this.sendPacket("message",e,t,r),this},n.prototype.sendPacket=function(e,t,r,n){if("function"==typeof t&&(n=t,t=void 0),"function"==typeof r&&(n=r,r=null),"closing"!=this.readyState&&"closed"!=this.readyState){r=r||{},r.compress=!1!==r.compress;var o={type:e,data:t,options:r};this.emit("packetCreate",o),this.writeBuffer.push(o),n&&this.once("flush",n),this.flush()}},n.prototype.close=function(){function e(){n.onClose("forced close"),a("socket closing - telling transport to close"),n.transport.close()}function t(){n.removeListener("upgrade",t),n.removeListener("upgradeError",t),e()}function r(){n.once("upgrade",t),n.once("upgradeError",t)}if("opening"==this.readyState||"open"==this.readyState){this.readyState="closing";var n=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?r():e()}):this.upgrading?r():e()}return this},n.prototype.onError=function(e){a("socket error %j",e),n.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},n.prototype.onClose=function(e,t){if("opening"==this.readyState||"open"==this.readyState||"closing"==this.readyState){a('socket close with reason: "%s"',e);var r=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),r.writeBuffer=[],r.prevBufferLen=0}},n.prototype.filterUpgrades=function(e){for(var t=[],r=0,n=e.length;r<n;r++)~c(this.transports,e[r])&&t.push(e[r]);return t}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./transport":4,"./transports":5,"component-emitter":16,debug:18,"engine.io-parser":20,indexof:24,parsejson:27,parseqs:28,parseuri:29}],4:[function(e,t,r){function n(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders}var o=e("engine.io-parser"),s=e("component-emitter");t.exports=n,s(n.prototype),n.prototype.onError=function(e,t){var r=new Error(e);return r.type="TransportError",r.description=t,this.emit("error",r),this},n.prototype.open=function(){return"closed"!=this.readyState&&""!=this.readyState||(this.readyState="opening",this.doOpen()),this},n.prototype.close=function(){return"opening"!=this.readyState&&"open"!=this.readyState||(this.doClose(),this.onClose()),this},n.prototype.send=function(e){if("open"!=this.readyState)throw new Error("Transport not open");this.write(e)},n.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},n.prototype.onData=function(e){var t=o.decodePacket(e,this.socket.binaryType);this.onPacket(t)},n.prototype.onPacket=function(e){this.emit("packet",e)},n.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},{"component-emitter":16,"engine.io-parser":20}],5:[function(e,t,r){(function(t){function n(e){var r,n=!1,a=!1,c=!1!==e.jsonp;if(t.location){var p="https:"==location.protocol,u=location.port;u||(u=p?443:80),n=e.hostname!=location.hostname||u!=e.port,a=e.secure!=p}if(e.xdomain=n,e.xscheme=a,r=new o(e),"open"in r&&!e.forceJSONP)return new s(e);if(!c)throw new Error("JSONP disabled");return new i(e)}var o=e("xmlhttprequest-ssl"),s=e("./polling-xhr"),i=e("./polling-jsonp"),a=e("./websocket");r.polling=n,r.websocket=a}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./polling-jsonp":6,"./polling-xhr":7,"./websocket":9,"xmlhttprequest-ssl":10}],6:[function(e,t,r){(function(r){function n(){}function o(e){s.call(this,e),this.query=this.query||{},a||(r.___eio||(r.___eio=[]),a=r.___eio),this.index=a.length;var t=this;a.push(function(e){t.onData(e)}),this.query.j=this.index,r.document&&r.addEventListener&&r.addEventListener("beforeunload",function(){t.script&&(t.script.onerror=n)},!1)}var s=e("./polling"),i=e("component-inherit");t.exports=o;var a,c=/\n/g,p=/\\n/g;i(o,s),o.prototype.supportsBinary=!1,o.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),s.prototype.doClose.call(this)},o.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var r=document.getElementsByTagName("script")[0];r?r.parentNode.insertBefore(t,r):(document.head||document.body).appendChild(t),this.script=t;var n="undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent);n&&setTimeout(function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)},100)},o.prototype.doWrite=function(e,t){function r(){n(),t()}function n(){if(o.iframe)try{o.form.removeChild(o.iframe)}catch(e){o.onError("jsonp polling iframe removal error",e)}try{var t='<iframe src="javascript:0" name="'+o.iframeId+'">';s=document.createElement(t)}catch(e){s=document.createElement("iframe"),s.name=o.iframeId,s.src="javascript:0"}s.id=o.iframeId,o.form.appendChild(s),o.iframe=s}var o=this;if(!this.form){var s,i=document.createElement("form"),a=document.createElement("textarea"),u=this.iframeId="eio_iframe_"+this.index;i.className="socketio",i.style.position="absolute",i.style.top="-1000px",i.style.left="-1000px",i.target=u,i.method="POST",i.setAttribute("accept-charset","utf-8"),a.name="d",i.appendChild(a),document.body.appendChild(i),this.form=i,this.area=a}this.form.action=this.uri(),n(),e=e.replace(p,"\\\n"),this.area.value=e.replace(c,"\\n");try{this.form.submit()}catch(h){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"==o.iframe.readyState&&r()}:this.iframe.onload=r}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./polling":8,"component-inherit":17}],7:[function(e,t,r){(function(r){function n(){}function o(e){if(c.call(this,e),r.location){var t="https:"==location.protocol,n=location.port;n||(n=t?443:80),this.xd=e.hostname!=r.location.hostname||n!=e.port,this.xs=e.secure!=t}else this.extraHeaders=e.extraHeaders}function s(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!=e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}function i(){for(var e in s.requests)s.requests.hasOwnProperty(e)&&s.requests[e].abort()}var a=e("xmlhttprequest-ssl"),c=e("./polling"),p=e("component-emitter"),u=e("component-inherit"),h=e("debug")("engine.io-client:polling-xhr");t.exports=o,t.exports.Request=s,u(o,c),o.prototype.supportsBinary=!0,o.prototype.request=function(e){return e=e||{},e.uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.extraHeaders=this.extraHeaders,new s(e)},o.prototype.doWrite=function(e,t){var r="string"!=typeof e&&void 0!==e,n=this.request({method:"POST",data:e,isBinary:r}),o=this;n.on("success",t),n.on("error",function(e){o.onError("xhr post error",e)}),this.sendXhr=n},o.prototype.doPoll=function(){h("xhr poll");var e=this.request(),t=this;e.on("data",function(e){t.onData(e)}),e.on("error",function(e){t.onError("xhr poll error",e)}),this.pollXhr=e},p(s.prototype),s.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new a(e),n=this;try{h("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.extraHeaders){t.setDisableHeaderCheck(!0);for(var o in this.extraHeaders)this.extraHeaders.hasOwnProperty(o)&&t.setRequestHeader(o,this.extraHeaders[o])}}catch(i){}if(this.supportsBinary&&(t.responseType="arraybuffer"),"POST"==this.method)try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(i){}"withCredentials"in t&&(t.withCredentials=!0),this.hasXDR()?(t.onload=function(){n.onLoad()},t.onerror=function(){n.onError(t.responseText)}):t.onreadystatechange=function(){4==t.readyState&&(200==t.status||1223==t.status?n.onLoad():setTimeout(function(){n.onError(t.status)},0))},h("xhr data %s",this.data),t.send(this.data)}catch(i){return void setTimeout(function(){n.onError(i)},0)}r.document&&(this.index=s.requestsCount++,s.requests[this.index]=this)},s.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},s.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},s.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},s.prototype.cleanup=function(e){if("undefined"!=typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=n:this.xhr.onreadystatechange=n,e)try{this.xhr.abort()}catch(t){}r.document&&delete s.requests[this.index],this.xhr=null}},s.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(r){}if("application/octet-stream"===t)e=this.xhr.response;else if(this.supportsBinary)try{e=String.fromCharCode.apply(null,new Uint8Array(this.xhr.response))}catch(r){for(var n=new Uint8Array(this.xhr.response),o=[],s=0,i=n.length;s<i;s++)o.push(n[s]);e=String.fromCharCode.apply(null,o)}else e=this.xhr.responseText}catch(r){this.onError(r)}null!=e&&this.onData(e)},s.prototype.hasXDR=function(){return"undefined"!=typeof r.XDomainRequest&&!this.xs&&this.enablesXDR},s.prototype.abort=function(){this.cleanup()},r.document&&(s.requestsCount=0,s.requests={},r.attachEvent?r.attachEvent("onunload",i):r.addEventListener&&r.addEventListener("beforeunload",i,!1))}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./polling":8,"component-emitter":16,"component-inherit":17,debug:18,"xmlhttprequest-ssl":10}],8:[function(e,t,r){function n(e){var t=e&&e.forceBase64;u&&!t||(this.supportsBinary=!1),o.call(this,e)}var o=e("../transport"),s=e("parseqs"),i=e("engine.io-parser"),a=e("component-inherit"),c=e("yeast"),p=e("debug")("engine.io-client:polling");t.exports=n;var u=function(){var t=e("xmlhttprequest-ssl"),r=new t({xdomain:!1});return null!=r.responseType}();a(n,o),n.prototype.name="polling",n.prototype.doOpen=function(){this.poll()},n.prototype.pause=function(e){function t(){p("paused"),r.readyState="paused",e()}var r=this;if(this.readyState="pausing",this.polling||!this.writable){var n=0;this.polling&&(p("we are currently polling - waiting to pause"),n++,this.once("pollComplete",function(){p("pre-pause polling complete"),--n||t()})),this.writable||(p("we are currently writing - waiting to pause"),n++,this.once("drain",function(){p("pre-pause writing complete"),--n||t()}))}else t()},n.prototype.poll=function(){p("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},n.prototype.onData=function(e){var t=this;p("polling got data %s",e);var r=function(e,r,n){return"opening"==t.readyState&&t.onOpen(),"close"==e.type?(t.onClose(),!1):void t.onPacket(e)};i.decodePayload(e,this.socket.binaryType,r),"closed"!=this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"==this.readyState?this.poll():p('ignoring poll - transport state "%s"',this.readyState))},n.prototype.doClose=function(){function e(){p("writing close packet"),t.write([{type:"close"}])}var t=this;"open"==this.readyState?(p("transport open - closing"),e()):(p("transport not open - deferring close"),this.once("open",e))},n.prototype.write=function(e){var t=this;this.writable=!1;var r=function(){t.writable=!0,t.emit("drain")},t=this;i.encodePayload(e,this.supportsBinary,function(e){t.doWrite(e,r)})},n.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",r="";!1!==this.timestampRequests&&(e[this.timestampParam]=c()),this.supportsBinary||e.sid||(e.b64=1),e=s.encode(e),this.port&&("https"==t&&443!=this.port||"http"==t&&80!=this.port)&&(r=":"+this.port),e.length&&(e="?"+e);var n=this.hostname.indexOf(":")!==-1;return t+"://"+(n?"["+this.hostname+"]":this.hostname)+r+this.path+e}},{"../transport":4,"component-inherit":17,debug:18,"engine.io-parser":20,parseqs:28,"xmlhttprequest-ssl":10,yeast:31}],9:[function(e,t,r){(function(r){function n(e){var t=e&&e.forceBase64;t&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,o.call(this,e)}var o=e("../transport"),s=e("engine.io-parser"),i=e("parseqs"),a=e("component-inherit"),c=e("yeast"),p=e("debug")("engine.io-client:websocket"),u=r.WebSocket||r.MozWebSocket,h=u;if(!h&&"undefined"==typeof window)try{h=e("ws")}catch(f){}t.exports=n,a(n,o),n.prototype.name="websocket",n.prototype.supportsBinary=!0,n.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=void 0,r={agent:this.agent,perMessageDeflate:this.perMessageDeflate};r.pfx=this.pfx,r.key=this.key,r.passphrase=this.passphrase,r.cert=this.cert,r.ca=this.ca,r.ciphers=this.ciphers,r.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(r.headers=this.extraHeaders),this.ws=u?new h(e):new h(e,t,r),void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="buffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},n.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(n.prototype.onData=function(e){var t=this;setTimeout(function(){o.prototype.onData.call(t,e)},0)}),n.prototype.write=function(e){function t(){n.emit("flush"),setTimeout(function(){n.writable=!0,n.emit("drain")},0)}var n=this;this.writable=!1;for(var o=e.length,i=0,a=o;i<a;i++)!function(e){s.encodePacket(e,n.supportsBinary,function(s){if(!u){var i={};if(e.options&&(i.compress=e.options.compress),n.perMessageDeflate){var a="string"==typeof s?r.Buffer.byteLength(s):s.length;a<n.perMessageDeflate.threshold&&(i.compress=!1)}}try{u?n.ws.send(s):n.ws.send(s,i)}catch(c){p("websocket closed before onclose event")}--o||t()})}(e[i])},n.prototype.onClose=function(){o.prototype.onClose.call(this)},n.prototype.doClose=function(){"undefined"!=typeof this.ws&&this.ws.close()},n.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",r="";this.port&&("wss"==t&&443!=this.port||"ws"==t&&80!=this.port)&&(r=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=c()),this.supportsBinary||(e.b64=1),e=i.encode(e),e.length&&(e="?"+e);var n=this.hostname.indexOf(":")!==-1;return t+"://"+(n?"["+this.hostname+"]":this.hostname)+r+this.path+e},n.prototype.check=function(){return!(!h||"__initialize"in h&&this.name===n.prototype.name)}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"../transport":4,"component-inherit":17,debug:18,"engine.io-parser":20,parseqs:28,ws:15,yeast:31}],10:[function(e,t,r){var n=e("has-cors");t.exports=function(e){var t=e.xdomain,r=e.xscheme,o=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!t||n))return new XMLHttpRequest}catch(s){}try{if("undefined"!=typeof XDomainRequest&&!r&&o)return new XDomainRequest}catch(s){}if(!t)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(s){}}},{"has-cors":23}],11:[function(e,t,r){function n(e,t,r){function n(e,o){if(n.count<=0)throw new Error("after called too many times");--n.count,e?(s=!0,t(e),t=r):0!==n.count||s||t(null,o)}var s=!1;return r=r||o,n.count=e,0===e?t():n}function o(){}t.exports=n},{}],12:[function(e,t,r){t.exports=function(e,t,r){var n=e.byteLength;if(t=t||0,r=r||n,e.slice)return e.slice(t,r);if(t<0&&(t+=n),r<0&&(r+=n),r>n&&(r=n),t>=n||t>=r||0===n)return new ArrayBuffer(0);for(var o=new Uint8Array(e),s=new Uint8Array(r-t),i=t,a=0;i<r;i++,a++)s[a]=o[i];return s.buffer}},{}],13:[function(e,t,r){!function(e){"use strict";r.encode=function(t){var r,n=new Uint8Array(t),o=n.length,s="";for(r=0;r<o;r+=3)s+=e[n[r]>>2],s+=e[(3&n[r])<<4|n[r+1]>>4],s+=e[(15&n[r+1])<<2|n[r+2]>>6],s+=e[63&n[r+2]];return o%3===2?s=s.substring(0,s.length-1)+"=":o%3===1&&(s=s.substring(0,s.length-2)+"=="),s},r.decode=function(t){var r,n,o,s,i,a=.75*t.length,c=t.length,p=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var u=new ArrayBuffer(a),h=new Uint8Array(u);for(r=0;r<c;r+=4)n=e.indexOf(t[r]),o=e.indexOf(t[r+1]),s=e.indexOf(t[r+2]),i=e.indexOf(t[r+3]),h[p++]=n<<2|o>>4,h[p++]=(15&o)<<4|s>>2,h[p++]=(3&s)<<6|63&i;return u}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},{}],14:[function(e,t,r){(function(e){function r(e){for(var t=0;t<e.length;t++){var r=e[t];if(r.buffer instanceof ArrayBuffer){var n=r.buffer;if(r.byteLength!==n.byteLength){var o=new Uint8Array(r.byteLength);o.set(new Uint8Array(n,r.byteOffset,r.byteLength)),n=o.buffer}e[t]=n}}}function n(e,t){t=t||{};var n=new s;r(e);for(var o=0;o<e.length;o++)n.append(e[o]);return t.type?n.getBlob(t.type):n.getBlob()}function o(e,t){return r(e),new Blob(e,t||{})}var s=e.BlobBuilder||e.WebKitBlobBuilder||e.MSBlobBuilder||e.MozBlobBuilder,i=function(){try{var e=new Blob(["hi"]);return 2===e.size}catch(t){return!1}}(),a=i&&function(){try{var e=new Blob([new Uint8Array([1,2])]);return 2===e.size}catch(t){return!1}}(),c=s&&s.prototype.append&&s.prototype.getBlob;t.exports=function(){return i?a?e.Blob:o:c?n:void 0}()}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{}],15:[function(e,t,r){},{}],16:[function(e,t,r){function n(e){if(e)return o(e)}function o(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}t.exports=n,n.prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},n.prototype.once=function(e,t){function r(){n.off(e,r),t.apply(this,arguments)}var n=this;return this._callbacks=this._callbacks||{},r.fn=t,this.on(e,r),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r=this._callbacks[e];if(!r)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var n,o=0;o<r.length;o++)if(n=r[o],n===t||n.fn===t){r.splice(o,1);break}return this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),r=this._callbacks[e];if(r){r=r.slice(0);for(var n=0,o=r.length;n<o;++n)r[n].apply(this,t)}return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{}],17:[function(e,t,r){t.exports=function(e,t){var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},{}],18:[function(e,t,r){function n(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function o(){var e=arguments,t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+r.humanize(this.diff),!t)return e;var n="color: "+this.color;e=[e[0],n,"color: inherit"].concat(Array.prototype.slice.call(e,1));var o=0,s=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(o++,"%c"===e&&(s=o))}),e.splice(s,0,n),e}function s(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function i(e){try{null==e?r.storage.removeItem("debug"):r.storage.debug=e}catch(t){}}function a(){var e;try{e=r.storage.debug}catch(t){}return e}function c(){try{return window.localStorage}catch(e){}}r=t.exports=e("./debug"),r.log=s,r.formatArgs=o,r.save=i,r.load=a,r.useColors=n,r.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:c(),r.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],r.formatters.j=function(e){return JSON.stringify(e)},r.enable(a())},{"./debug":19}],19:[function(e,t,r){function n(){return r.colors[u++%r.colors.length]}function o(e){function t(){}function o(){var e=o,t=+new Date,s=t-(p||t);e.diff=s,e.prev=p,e.curr=t,p=t,null==e.useColors&&(e.useColors=r.useColors()),null==e.color&&e.useColors&&(e.color=n());var i=Array.prototype.slice.call(arguments);i[0]=r.coerce(i[0]),"string"!=typeof i[0]&&(i=["%o"].concat(i));var a=0;i[0]=i[0].replace(/%([a-z%])/g,function(t,n){if("%%"===t)return t;a++;var o=r.formatters[n];if("function"==typeof o){var s=i[a];t=o.call(e,s),i.splice(a,1),a--}return t}),"function"==typeof r.formatArgs&&(i=r.formatArgs.apply(e,i));var c=o.log||r.log||console.log.bind(console);c.apply(e,i)}t.enabled=!1,o.enabled=!0;var s=r.enabled(e)?o:t;return s.namespace=e,s}function s(e){r.save(e);for(var t=(e||"").split(/[\s,]+/),n=t.length,o=0;o<n;o++)t[o]&&(e=t[o].replace(/\*/g,".*?"),"-"===e[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")))}function i(){r.enable("")}function a(e){var t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1}function c(e){return e instanceof Error?e.stack||e.message:e}r=t.exports=o,r.coerce=c,r.disable=i,r.enable=s,r.enabled=a,r.humanize=e("ms"),r.names=[],r.skips=[],r.formatters={};var p,u=0},{ms:26}],20:[function(e,t,r){(function(t){function n(e,t){var n="b"+r.packets[e.type]+e.data.data;return t(n)}function o(e,t,n){if(!t)return r.encodeBase64Packet(e,n);var o=e.data,s=new Uint8Array(o),i=new Uint8Array(1+o.byteLength);i[0]=m[e.type];for(var a=0;a<s.length;a++)i[a+1]=s[a];return n(i.buffer)}function s(e,t,n){if(!t)return r.encodeBase64Packet(e,n);var o=new FileReader;return o.onload=function(){e.data=o.result,r.encodePacket(e,t,!0,n)},o.readAsArrayBuffer(e.data)}function i(e,t,n){if(!t)return r.encodeBase64Packet(e,n);if(g)return s(e,t,n);var o=new Uint8Array(1);o[0]=m[e.type];var i=new w([o.buffer,e.data]);return n(i)}function a(e,t,r){for(var n=new Array(e.length),o=f(e.length,r),s=function(e,r,o){t(r,function(t,r){n[e]=r,o(t,n)})},i=0;i<e.length;i++)s(i,e[i],o)}var c=e("./keys"),p=e("has-binary"),u=e("arraybuffer.slice"),h=e("base64-arraybuffer"),f=e("after"),l=e("utf8"),d=navigator.userAgent.match(/Android/i),y=/PhantomJS/i.test(navigator.userAgent),g=d||y;r.protocol=3;var m=r.packets={
open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},v=c(m),b={type:"error",data:"parser error"},w=e("blob");r.encodePacket=function(e,r,s,a){"function"==typeof r&&(a=r,r=!1),"function"==typeof s&&(a=s,s=null);var c=void 0===e.data?void 0:e.data.buffer||e.data;if(t.ArrayBuffer&&c instanceof ArrayBuffer)return o(e,r,a);if(w&&c instanceof t.Blob)return i(e,r,a);if(c&&c.base64)return n(e,a);var p=m[e.type];return void 0!==e.data&&(p+=s?l.encode(String(e.data)):String(e.data)),a(""+p)},r.encodeBase64Packet=function(e,n){var o="b"+r.packets[e.type];if(w&&e.data instanceof t.Blob){var s=new FileReader;return s.onload=function(){var e=s.result.split(",")[1];n(o+e)},s.readAsDataURL(e.data)}var i;try{i=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(a){for(var c=new Uint8Array(e.data),p=new Array(c.length),u=0;u<c.length;u++)p[u]=c[u];i=String.fromCharCode.apply(null,p)}return o+=t.btoa(i),n(o)},r.decodePacket=function(e,t,n){if("string"==typeof e||void 0===e){if("b"==e.charAt(0))return r.decodeBase64Packet(e.substr(1),t);if(n)try{e=l.decode(e)}catch(o){return b}var s=e.charAt(0);return Number(s)==s&&v[s]?e.length>1?{type:v[s],data:e.substring(1)}:{type:v[s]}:b}var i=new Uint8Array(e),s=i[0],a=u(e,1);return w&&"blob"===t&&(a=new w([a])),{type:v[s],data:a}},r.decodeBase64Packet=function(e,r){var n=v[e.charAt(0)];if(!t.ArrayBuffer)return{type:n,data:{base64:!0,data:e.substr(1)}};var o=h.decode(e.substr(1));return"blob"===r&&w&&(o=new w([o])),{type:n,data:o}},r.encodePayload=function(e,t,n){function o(e){return e.length+":"+e}function s(e,n){r.encodePacket(e,!!i&&t,!0,function(e){n(null,o(e))})}"function"==typeof t&&(n=t,t=null);var i=p(e);return t&&i?w&&!g?r.encodePayloadAsBlob(e,n):r.encodePayloadAsArrayBuffer(e,n):e.length?void a(e,s,function(e,t){return n(t.join(""))}):n("0:")},r.decodePayload=function(e,t,n){if("string"!=typeof e)return r.decodePayloadAsBinary(e,t,n);"function"==typeof t&&(n=t,t=null);var o;if(""==e)return n(b,0,1);for(var s,i,a="",c=0,p=e.length;c<p;c++){var u=e.charAt(c);if(":"!=u)a+=u;else{if(""==a||a!=(s=Number(a)))return n(b,0,1);if(i=e.substr(c+1,s),a!=i.length)return n(b,0,1);if(i.length){if(o=r.decodePacket(i,t,!0),b.type==o.type&&b.data==o.data)return n(b,0,1);var h=n(o,c+s,p);if(!1===h)return}c+=s,a=""}}return""!=a?n(b,0,1):void 0},r.encodePayloadAsArrayBuffer=function(e,t){function n(e,t){r.encodePacket(e,!0,!0,function(e){return t(null,e)})}return e.length?void a(e,n,function(e,r){var n=r.reduce(function(e,t){var r;return r="string"==typeof t?t.length:t.byteLength,e+r.toString().length+r+2},0),o=new Uint8Array(n),s=0;return r.forEach(function(e){var t="string"==typeof e,r=e;if(t){for(var n=new Uint8Array(e.length),i=0;i<e.length;i++)n[i]=e.charCodeAt(i);r=n.buffer}t?o[s++]=0:o[s++]=1;for(var a=r.byteLength.toString(),i=0;i<a.length;i++)o[s++]=parseInt(a[i]);o[s++]=255;for(var n=new Uint8Array(r),i=0;i<n.length;i++)o[s++]=n[i]}),t(o.buffer)}):t(new ArrayBuffer(0))},r.encodePayloadAsBlob=function(e,t){function n(e,t){r.encodePacket(e,!0,!0,function(e){var r=new Uint8Array(1);if(r[0]=1,"string"==typeof e){for(var n=new Uint8Array(e.length),o=0;o<e.length;o++)n[o]=e.charCodeAt(o);e=n.buffer,r[0]=0}for(var s=e instanceof ArrayBuffer?e.byteLength:e.size,i=s.toString(),a=new Uint8Array(i.length+1),o=0;o<i.length;o++)a[o]=parseInt(i[o]);if(a[i.length]=255,w){var c=new w([r.buffer,a.buffer,e]);t(null,c)}})}a(e,n,function(e,r){return t(new w(r))})},r.decodePayloadAsBinary=function(e,t,n){"function"==typeof t&&(n=t,t=null);for(var o=e,s=[],i=!1;o.byteLength>0;){for(var a=new Uint8Array(o),c=0===a[0],p="",h=1;255!=a[h];h++){if(p.length>310){i=!0;break}p+=a[h]}if(i)return n(b,0,1);o=u(o,2+p.length),p=parseInt(p);var f=u(o,0,p);if(c)try{f=String.fromCharCode.apply(null,new Uint8Array(f))}catch(l){var d=new Uint8Array(f);f="";for(var h=0;h<d.length;h++)f+=String.fromCharCode(d[h])}s.push(f),o=u(o,p)}var y=s.length;s.forEach(function(e,o){n(r.decodePacket(e,t,!0),o,y)})}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./keys":21,after:11,"arraybuffer.slice":12,"base64-arraybuffer":13,blob:14,"has-binary":22,utf8:30}],21:[function(e,t,r){t.exports=Object.keys||function(e){var t=[],r=Object.prototype.hasOwnProperty;for(var n in e)r.call(e,n)&&t.push(n);return t}},{}],22:[function(e,t,r){(function(r){function n(e){function t(e){if(!e)return!1;if(r.Buffer&&r.Buffer.isBuffer(e)||r.ArrayBuffer&&e instanceof ArrayBuffer||r.Blob&&e instanceof Blob||r.File&&e instanceof File)return!0;if(o(e)){for(var n=0;n<e.length;n++)if(t(e[n]))return!0}else if(e&&"object"==typeof e){e.toJSON&&(e=e.toJSON());for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&t(e[s]))return!0}return!1}return t(e)}var o=e("isarray");t.exports=n}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{isarray:25}],23:[function(e,t,r){try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(n){t.exports=!1}},{}],24:[function(e,t,r){var n=[].indexOf;t.exports=function(e,t){if(n)return e.indexOf(t);for(var r=0;r<e.length;++r)if(e[r]===t)return r;return-1}},{}],25:[function(e,t,r){t.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},{}],26:[function(e,t,r){function n(e){if(e=""+e,!(e.length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*h;case"days":case"day":case"d":return r*u;case"hours":case"hour":case"hrs":case"hr":case"h":return r*p;case"minutes":case"minute":case"mins":case"min":case"m":return r*c;case"seconds":case"second":case"secs":case"sec":case"s":return r*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r}}}}function o(e){return e>=u?Math.round(e/u)+"d":e>=p?Math.round(e/p)+"h":e>=c?Math.round(e/c)+"m":e>=a?Math.round(e/a)+"s":e+"ms"}function s(e){return i(e,u,"day")||i(e,p,"hour")||i(e,c,"minute")||i(e,a,"second")||e+" ms"}function i(e,t,r){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+r:Math.ceil(e/t)+" "+r+"s"}var a=1e3,c=60*a,p=60*c,u=24*p,h=365.25*u;t.exports=function(e,t){return t=t||{},"string"==typeof e?n(e):t["long"]?s(e):o(e)}},{}],27:[function(e,t,r){(function(e){var r=/^[\],:{}\s]*$/,n=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,o=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,s=/(?:^|:|,)(?:\s*\[)+/g,i=/^\s+/,a=/\s+$/;t.exports=function(t){return"string"==typeof t&&t?(t=t.replace(i,"").replace(a,""),e.JSON&&JSON.parse?JSON.parse(t):r.test(t.replace(n,"@").replace(o,"]").replace(s,""))?new Function("return "+t)():void 0):null}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{}],28:[function(e,t,r){r.encode=function(e){var t="";for(var r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t},r.decode=function(e){for(var t={},r=e.split("&"),n=0,o=r.length;n<o;n++){var s=r[n].split("=");t[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return t}},{}],29:[function(e,t,r){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,o=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(e){var t=e,r=e.indexOf("["),s=e.indexOf("]");r!=-1&&s!=-1&&(e=e.substring(0,r)+e.substring(r,s).replace(/:/g,";")+e.substring(s,e.length));for(var i=n.exec(e||""),a={},c=14;c--;)a[o[c]]=i[c]||"";return r!=-1&&s!=-1&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a}},{}],30:[function(t,r,n){(function(t){!function(o){function s(e){for(var t,r,n=[],o=0,s=e.length;o<s;)t=e.charCodeAt(o++),t>=55296&&t<=56319&&o<s?(r=e.charCodeAt(o++),56320==(64512&r)?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),o--)):n.push(t);return n}function i(e){for(var t,r=e.length,n=-1,o="";++n<r;)t=e[n],t>65535&&(t-=65536,o+=w(t>>>10&1023|55296),t=56320|1023&t),o+=w(t);return o}function a(e){if(e>=55296&&e<=57343)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value")}function c(e,t){return w(e>>t&63|128)}function p(e){if(0==(4294967168&e))return w(e);var t="";return 0==(4294965248&e)?t=w(e>>6&31|192):0==(4294901760&e)?(a(e),t=w(e>>12&15|224),t+=c(e,6)):0==(4292870144&e)&&(t=w(e>>18&7|240),t+=c(e,12),t+=c(e,6)),t+=w(63&e|128)}function u(e){for(var t,r=s(e),n=r.length,o=-1,i="";++o<n;)t=r[o],i+=p(t);return i}function h(){if(b>=v)throw Error("Invalid byte index");var e=255&m[b];if(b++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function f(){var e,t,r,n,o;if(b>v)throw Error("Invalid byte index");if(b==v)return!1;if(e=255&m[b],b++,0==(128&e))return e;if(192==(224&e)){var t=h();if(o=(31&e)<<6|t,o>=128)return o;throw Error("Invalid continuation byte")}if(224==(240&e)){if(t=h(),r=h(),o=(15&e)<<12|t<<6|r,o>=2048)return a(o),o;throw Error("Invalid continuation byte")}if(240==(248&e)&&(t=h(),r=h(),n=h(),o=(15&e)<<18|t<<12|r<<6|n,o>=65536&&o<=1114111))return o;throw Error("Invalid UTF-8 detected")}function l(e){m=s(e),v=m.length,b=0;for(var t,r=[];(t=f())!==!1;)r.push(t);return i(r)}var d="object"==typeof n&&n,y="object"==typeof r&&r&&r.exports==d&&r,g="object"==typeof t&&t;g.global!==g&&g.window!==g||(o=g);var m,v,b,w=String.fromCharCode,x={version:"2.0.0",encode:u,decode:l};if("function"==typeof e&&"object"==typeof e.amd&&e.amd)e(function(){return x});else if(d&&!d.nodeType)if(y)y.exports=x;else{var k={},B=k.hasOwnProperty;for(var S in x)B.call(x,S)&&(d[S]=x[S])}else o.utf8=x}(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{}],31:[function(e,t,r){"use strict";function n(e){var t="";do t=a[e%c]+t,e=Math.floor(e/c);while(e>0);return t}function o(e){var t=0;for(h=0;h<e.length;h++)t=t*c+p[e.charAt(h)];return t}function s(){var e=n(+new Date);return e!==i?(u=0,i=e):e+"."+n(u++)}for(var i,a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),c=64,p={},u=0,h=0;h<c;h++)p[a[h]]=h;s.encode=n,s.decode=o,t.exports=s},{}]},{},[1])(1)});})();
(function(global,goog,wd){var CLIENT_VERSION = "2.3.4";var CLIENT_TYPE= "WEB";
var h=this;function aa(){}
function k(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==
b&&"undefined"==typeof a.call)return"object";return b}function l(a){return"string"==typeof a}function m(a){return"function"==k(a)}function ba(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function ca(a,b,c){return a.call.apply(a.bind,arguments)}
function da(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function p(a,b,c){p=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ca:da;return p.apply(null,arguments)}var ea=Date.now||function(){return+new Date};
function fa(a,b){function c(){}c.prototype=b.prototype;a.rb=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.nb=function(a,c,f){for(var d=Array(arguments.length-2),e=2;e<arguments.length;e++)d[e-2]=arguments[e];return b.prototype[c].apply(a,d)}};function ha(a){return/^\s*$/.test(a)?!1:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/(?:"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)[\s\u2028\u2029]*(?=:|,|]|}|$)/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,""))}function ia(a){a=String(a);if(ha(a))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);}function ja(){this.Z=void 0}
function ka(a,b,c){if(null==b)c.push("null");else{if("object"==typeof b){if("array"==k(b)){var d=b;b=d.length;c.push("[");for(var e="",f=0;f<b;f++)c.push(e),e=d[f],ka(a,a.Z?a.Z.call(d,String(f),e):e,c),e=",";c.push("]");return}if(b instanceof String||b instanceof Number||b instanceof Boolean)b=b.valueOf();else{c.push("{");f="";for(d in b)Object.prototype.hasOwnProperty.call(b,d)&&(e=b[d],"function"!=typeof e&&(c.push(f),la(d,c),c.push(":"),ka(a,a.Z?a.Z.call(b,d,e):e,c),f=","));c.push("}");return}}switch(typeof b){case "string":la(b,
c);break;case "number":c.push(isFinite(b)&&!isNaN(b)?String(b):"null");break;case "boolean":c.push(String(b));break;case "function":c.push("null");break;default:throw Error("Unknown type: "+typeof b);}}}var ma={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"},na=/\uffff/.test("\uffff")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g;
function la(a,b){b.push('"',a.replace(na,function(a){var b=ma[a];b||(b="\\u"+(a.charCodeAt(0)|65536).toString(16).substr(1),ma[a]=b);return b}),'"')};function q(a){return"undefined"!==typeof JSON&&void 0!==JSON.parse?JSON.parse(a):ia(a)}function oa(a){if("undefined"!==typeof JSON&&void 0!==JSON.stringify)a=JSON.stringify(a);else{var b=[];ka(new ja,a,b);a=b.join("")}return a};function r(a){if(Error.captureStackTrace)Error.captureStackTrace(this,r);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}fa(r,Error);r.prototype.name="CustomError";function pa(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^ea()).toString(36)};var qa=Array.prototype.indexOf?function(a,b,c){return Array.prototype.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(l(a))return l(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},ra=Array.prototype.forEach?function(a,b,c){Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=l(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},sa=Array.prototype.filter?function(a,b,c){return Array.prototype.filter.call(a,
b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,g=l(a)?a.split(""):a,n=0;n<d;n++)if(n in g){var u=g[n];b.call(c,u,n,a)&&(e[f++]=u)}return e},ta=Array.prototype.map?function(a,b,c){return Array.prototype.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=l(a)?a.split(""):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e};
function ua(a,b){var c;a:{c=a.length;for(var d=l(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){c=e;break a}c=-1}return 0>c?null:l(a)?a.charAt(c):a[c]}function va(a,b){a.sort(b||wa)}function wa(a,b){return a>b?1:a<b?-1:0};var t;a:{var xa=h.navigator;if(xa){var ya=xa.userAgent;if(ya){t=ya;break a}}t=""};var za="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Aa(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<za.length;f++)c=za[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var Ba=null,Ca=null;function Da(a){var b="";Ea(a,function(a){b+=String.fromCharCode(a)});return b}function Ea(a,b){function c(b){for(;d<a.length;){var c=a.charAt(d++),e=Ca[c];if(null!=e)return e;if(!/^[\s\xa0]*$/.test(c))throw Error("Unknown base64 encoding at char: "+c);}return b}Fa();for(var d=0;;){var e=c(-1),f=c(0),g=c(64),n=c(64);if(64===n&&-1===e)break;b(e<<2|f>>4);64!=g&&(b(f<<4&240|g>>2),64!=n&&b(g<<6&192|n))}}
function Fa(){if(!Ba){Ba={};Ca={};for(var a=0;65>a;a++)Ba[a]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(a),Ca[Ba[a]]=a,62<=a&&(Ca["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(a)]=a)}};function Ga(a,b){if(!a)throw Error("Wilddog ("+Wilddog.lb+") INTERNAL ASSERT FAILED: "+b);}function Ha(a){try{return"NODE"==CLIENT_TYPE?(new Buffer(a,"base64")).toString("utf8"):"undefined"!==typeof atob?atob(a):Da(a)}catch(b){!0===Ia&&(Ia=!1,!0===v.get("logging_enabled")&&Wilddog.ob(!0))}return null}
function Ja(a){for(var b="",c=0;c<arguments.length;c++)var d=arguments[c],e=k(d),b="array"==e||"object"==e&&"number"==typeof d.length?b+Ja.apply(null,arguments[c]):"object"===typeof arguments[c]?b+oa(arguments[c]):b+arguments[c],b=b+" ";return b}var Ia=!0;function Ka(a){if("undefined"!==typeof console){var b="WILDDOG WARNING: "+Ja.apply(null,arguments);"undefined"!==typeof console.warn?console.warn(b):console.log(b)}}
function La(a){try{a()}catch(b){setTimeout(function(){Ka("Exception was thrown by user callback.",b.stack||"");throw b;},Math.floor(0))}}function x(a,b){if(m(a)){var c=Array.prototype.slice.call(arguments,1).slice();La(function(){a.apply(null,c)})}};function Ma(a){Ga("array"==k(a)&&0<a.length,"Requires a non-empty array");this.sa=a;this.N={}}Ma.prototype.ab=function(a,b){for(var c=this.N[a]||[],d=0;d<c.length;d++)c[d].ka.apply(c[d].context,Array.prototype.slice.call(arguments,1))};function Na(a,b){Ga(ua(a.sa,function(a){return a===b}),"Unknown event: "+b)};function y(a,b){Ma.call(this,["authStateChanged","authTokenExpired"]);this.ra={qa:!1};this.ia={};Object.defineProperty(this,"name",{value:b,writable:!1});Object.defineProperty(this,"options",{value:a,writable:!1})}fa(y,Ma);function Oa(a,b){y.prototype[a]=function(){return b(this)}}y.prototype.Aa=function(a,b){var c=!0,d;for(d in z)if(z.hasOwnProperty(d)&&z[d]===a){c=!1;break}if(c)throw Error("Unknown event "+a);this.ia[a]=b;switch(a){case z.A:this.ra.qa=b&&b.qa}this.ab(a,b)};y.prototype.emit=y.prototype.Aa;
y.prototype.bind=function(a,b){Na(this,a);this.N[a]=this.N[a]||[];this.N[a].push({ka:b,context:void 0});var c;a:{switch(a){case z.A:c=[this.ia[z.A]];break a}c=null}c&&b.apply(void 0,c)};y.prototype.bind=y.prototype.bind;y.prototype.bb=function(a,b){Na(this,a);for(var c=this.N[a]||[],d=0;d<c.length;d++)if(c[d].ka===b){c.splice(d,1);break}};y.prototype.unbind=y.prototype.bb;var z={A:"authStateChanged",ua:"authTokenExpired"};y.prototype.I=z;function Pa(a,b,c,d,e,f){this.uid=e;this.displayName=a;this.phone=f;this.email=b;this.photoURL=c;this.providerId=d};function Qa(a,b,c){this.Fa=c;this.ya=a;this.Ma=b;this.W=0;this.V=null}Qa.prototype.get=function(){var a;0<this.W?(this.W--,a=this.V,this.V=a.next,a.next=null):a=this.ya();return a};Qa.prototype.put=function(a){this.Ma(a);this.W<this.Fa&&(this.W++,a.next=this.V,this.V=a)};function Ra(){this.aa=this.H=null}var Ta=new Qa(function(){return new Sa},function(a){a.reset()},100);Ra.prototype.add=function(a,b){var c=Ta.get();c.set(a,b);this.aa?this.aa.next=c:this.H=c;this.aa=c};Ra.prototype.remove=function(){var a=null;this.H&&(a=this.H,this.H=this.H.next,this.H||(this.aa=null),a.next=null);return a};function Sa(){this.next=this.scope=this.fa=null}Sa.prototype.set=function(a,b){this.fa=a;this.scope=b;this.next=null};
Sa.prototype.reset=function(){this.next=this.scope=this.fa=null};function Ua(a){h.setTimeout(function(){throw a;},0)}var Va;
function Wa(){var a=h.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&-1==t.indexOf("Presto")&&(a=function(){var a=document.createElement("IFRAME");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=p(function(a){if(("*"==d||a.origin==
d)&&a.data==c)this.port1.onmessage()},this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&-1==t.indexOf("Trident")&&-1==t.indexOf("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(void 0!==c.next){c=c.next;var a=c.la;c.la=null;a()}};return function(a){d.next={la:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(a){var b=
document.createElement("SCRIPT");b.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){h.setTimeout(a,0)}};function Xa(a,b){Ya||Za();$a||(Ya(),$a=!0);ab.add(a,b)}var Ya;function Za(){var a=h.Promise;if(-1!=String(a).indexOf("[native code]")){var b=a.resolve(void 0);Ya=function(){b.then(bb)}}else Ya=function(){var a=bb,b;!(b=!m(h.setImmediate))&&(b=h.Window&&h.Window.prototype)&&(b=-1==t.indexOf("Edge")&&h.Window.prototype.setImmediate==h.setImmediate);b?(Va||(Va=Wa()),Va(a)):h.setImmediate(a)}}var $a=!1,ab=new Ra;
function bb(){for(var a;a=ab.remove();){try{a.fa.call(a.scope)}catch(b){Ua(b)}Ta.put(a)}$a=!1};function A(a,b){this.j=B;this.pa=void 0;this.D=this.s=this.B=null;this.U=this.da=!1;if(a!=aa)try{var c=this;a.call(b,function(a){C(c,cb,a)},function(a){if(!(a instanceof D))try{if(a instanceof Error)throw a;throw Error("Promise rejected.");}catch(e){}C(c,E,a)})}catch(d){C(this,E,d)}}var B=0,cb=2,E=3;function db(){this.next=this.context=this.F=this.O=this.u=null;this.R=!1}db.prototype.reset=function(){this.context=this.F=this.O=this.u=null;this.R=!1};
var eb=new Qa(function(){return new db},function(a){a.reset()},100);function fb(a,b,c){var d=eb.get();d.O=a;d.F=b;d.context=c;return d}A.prototype.then=function(a,b,c){return gb(this,m(a)?a:null,m(b)?b:null,c)};A.prototype.then=A.prototype.then;A.prototype.$goog_Thenable=!0;A.prototype.$a=function(a,b){return gb(this,null,a,b)};A.prototype.cancel=function(a){this.j==B&&Xa(function(){var b=new D(a);hb(this,b)},this)};
function hb(a,b){if(a.j==B)if(a.B){var c=a.B;if(c.s){for(var d=0,e=null,f=null,g=c.s;g&&(g.R||(d++,g.u==a&&(e=g),!(e&&1<d)));g=g.next)e||(f=g);e&&(c.j==B&&1==d?hb(c,b):(f?(d=f,d.next==c.D&&(c.D=d),d.next=d.next.next):ib(c),jb(c,e,E,b)))}a.B=null}else C(a,E,b)}function kb(a,b){a.s||a.j!=cb&&a.j!=E||lb(a);a.D?a.D.next=b:a.s=b;a.D=b}
function gb(a,b,c,d){var e=fb(null,null,null);e.u=new A(function(a,g){e.O=b?function(c){try{var e=b.call(d,c);a(e)}catch(w){g(w)}}:a;e.F=c?function(b){try{var e=c.call(d,b);void 0===e&&b instanceof D?g(b):a(e)}catch(w){g(w)}}:g});e.u.B=a;kb(a,e);return e.u}A.prototype.cb=function(a){this.j=B;C(this,cb,a)};A.prototype.eb=function(a){this.j=B;C(this,E,a)};
function C(a,b,c){if(a.j==B){a===c&&(b=E,c=new TypeError("Promise cannot resolve to itself"));a.j=1;var d;a:{var e=c,f=a.cb,g=a.eb;if(e instanceof A)kb(e,fb(f||aa,g||null,a)),d=!0;else{var n;if(e)try{n=!!e.$goog_Thenable}catch(w){n=!1}else n=!1;if(n)e.then(f,g,a),d=!0;else{if(ba(e))try{var u=e.then;if(m(u)){mb(e,u,f,g,a);d=!0;break a}}catch(w){g.call(a,w);d=!0;break a}d=!1}}}d||(a.pa=c,a.j=b,a.B=null,lb(a),b!=E||c instanceof D||nb(a,c))}}
function mb(a,b,c,d,e){function f(a){n||(n=!0,d.call(e,a))}function g(a){n||(n=!0,c.call(e,a))}var n=!1;try{b.call(a,g,f)}catch(u){f(u)}}function lb(a){a.da||(a.da=!0,Xa(a.Ba,a))}function ib(a){var b=null;a.s&&(b=a.s,a.s=b.next,b.next=null);a.s||(a.D=null);return b}A.prototype.Ba=function(){for(var a;a=ib(this);)jb(this,a,this.j,this.pa);this.da=!1};
function jb(a,b,c,d){if(c==E&&b.F&&!b.R)for(;a&&a.U;a=a.B)a.U=!1;if(b.u)b.u.B=null,ob(b,c,d);else try{b.R?b.O.call(b.context):ob(b,c,d)}catch(e){pb.call(null,e)}eb.put(b)}function ob(a,b,c){b==cb?a.O.call(a.context,c):a.F&&a.F.call(a.context,c)}function nb(a,b){a.U=!0;Xa(function(){a.U&&pb.call(null,b)})}var pb=Ua;function D(a){r.call(this,a)}fa(D,r);D.prototype.name="cancel";var qb="undefined"!=typeof Promise?Promise:"undefined"!=typeof h.Promise?h.Promise:A;h.setTimeout||(h.setTimeout=function(){global.setTimeout.apply(global,arguments)});A.prototype["catch"]=A.prototype.$a;function F(){var a=this;this.reject=this.resolve=null;this.b=new qb(function(b,c){a.resolve=b;a.reject=c})}function G(a,b){return function(c,d){c?a.reject(c):a.resolve(d);m(b)&&(a.b.then(void 0,aa),1===b.length?b(c):b(c,d))}};function H(a,b,c,d,e){Pa.call(this,b.displayName,b.email,b.photoURL,b.providerId,b.uid,b.phone);this.isAnonymous="anonymous"===this.pb;this.emailVerified=!0===c;this.phoneVerified=!0===d;this.providerData=e||[];this.refreshToken=null;Object.defineProperty(this,"__authManager",{value:a,writable:!1})}fa(H,Pa);var I=["wd","User"],J=h;I[0]in J||!J.execScript||J.execScript("var "+I[0]);for(var K;I.length&&(K=I.shift());)I.length||void 0===H?J=J[K]?J[K]:J[K]={}:J[K]=H;
H.prototype["delete"]=function(a){var b=new F;rb(this.__authManager,this.h(),G(b,a));return b.b};H.prototype["delete"]=H.prototype["delete"];H.prototype.h=function(){return(this.__authManager.l||null).idToken};H.prototype.getToken=H.prototype.h;H.prototype.ga=function(){return this.phone};H.prototype.getPhone=H.prototype.ga;
H.prototype.link=function(a,b){L("wilddog.User.link",1,2,arguments.length);M("wilddog.User.link",a);var c=a.provider,d=new F,e={};e.idToken=this.h();"password"==c?(e.email=a.email,e.password=a.password,sb(this.__authManager,e,G(d,b))):(e.providerId=a.provider,e.accessToken=a.accessToken,e.openId=a.openId||"",e.authType="link",N(this.__authManager,e,G(d,b)));return d.b};H.prototype.link=H.prototype.link;
H.prototype.fb=function(a,b){L("wilddog.User.unlink",1,2,arguments.length);O("wilddog.User.unlink",1,a);var c=new F,d=this;tb(this.__authManager,"unlink",{idToken:this.h(),deleteProvider:[a]},G(c,function(c,f){f&&(d.providerData=d.providerData.filter(function(b){if(b.providerId!=a)return b}),0===d.providerData.length&&(P(d.__authManager,null),x(void 0,null)));b&&b(c,f)}));return c.b};H.prototype.unlink=H.prototype.fb;
H.prototype.Ga=function(a,b){L("wilddog.auth().signInWithPopup",1,2,arguments.length);M("wilddog.auth().signInWithPopup",a);var c=new F;ub(this.__authManager,a,{authType:"link",idToken:this.h()},G(c,b));return c.b};H.prototype.linkWithPopup=H.prototype.Ga;H.prototype.Ha=function(a,b){L("wilddog.auth().signInWithPopup",1,2,arguments.length);M("wilddog.auth().signInWithPopup",a);var c=new F;vb(this.__authManager,a,{authType:"link",idToken:this.h()},G(c,b));return c.b};H.prototype.linkWithRedirect=H.prototype.Ha;
H.prototype.jb=function(a,b){L("wilddog.User.updateProfile",1,2,arguments.length);M("wilddog.User.updateProfile",a);var c=new F;a.idToken=this.h();tb(this.__authManager,"profile",a,G(c,b));return c.b};H.prototype.updateProfile=H.prototype.jb;H.prototype.gb=function(a,b){L("wilddog.User.updateEmail",1,2,arguments.length);O("wilddog.User.updateEmail",1,a);var c=new F;sb(this.__authManager,{email:a,idToken:this.h()},G(c,b));return c.b};H.prototype.updateEmail=H.prototype.gb;
H.prototype.ib=function(a,b){L("wilddog.User.updatePhone",1,2,arguments.length);O("wilddog.User.updatePhone",1,a);var c=new F;sb(this.__authManager,{phoneNumber:a,idToken:this.h()},G(c,b));return c.b};H.prototype.updatePhone=H.prototype.ib;H.prototype.kb=function(a,b){L("wilddog.User.verifiyPhone",1,2,arguments.length);O("wilddog.User.verifiyPhone",1,a);var c=new F;wb(this.__authManager,{phoneNumber:this.ga(),smsCode:a},G(c,b));return c.b};H.prototype.verifiyPhone=H.prototype.kb;
H.prototype.hb=function(a,b){L("wilddog.User.updatePassword",1,2,arguments.length);O("wilddog.User.updatePassword",1,a);var c=new F;sb(this.__authManager,{password:a,idToken:this.h()},G(c,b));return c.b};H.prototype.updatePassword=H.prototype.hb;H.prototype.Na=function(a){L("wilddog.User.sendEmailVerification",0,1,arguments.length);Q("wilddog.User.sendEmailVerification",1,a,!0);var b=new F;xb(this.__authManager,{idToken:this.h(),requestType:"VERIFY_EMAIL"},G(b,a));return b.b};
H.prototype.sendEmailVerification=H.prototype.Na;H.prototype.Qa=function(a){L("wilddog.User.sendPhoneVerification",0,1,arguments.length);Q("wilddog.User.sendPhoneVerification",1,a,!0);var b=new F;yb(this.__authManager,{phoneNumber:this.ga(),type:"PHONE_VERIFY"},G(b,a));return b.b};H.prototype.sendPhoneVerification=H.prototype.Qa;H.prototype.reload=function(a){L("wilddog.User.reload",0,1,arguments.length);Q("wilddog.User.reload",1,a,!0);var b=new F;zb(this.__authManager,this.h(),G(b,a));return b.b};
H.prototype.reload=H.prototype.reload;H.prototype.La=function(a,b){L("wilddog.User.reload",1,2,arguments.length);Q("wilddog.User.reload",2,b,!0);if(!a||!a.provider)throw Error("Unknown credential object.");var c=new F;N(this.__authManager,a,G(c,b));return c.b};H.prototype.reauthenticate=H.prototype.La;function Ab(a){if(a&&a.users&&a.users[0])return a=a.users[0],new Pa(a.displayName,a.email,a.photoUrl,a.providerId,a.localId,a.phoneNumber);throw Error("Bad response format.");}function Bb(a,b){var c=Ab(b);if(!c)return null;var d=b.users[0],e=d.providerUserInfo.map(function(a){a.photoURL=a.photoUrl;delete a.photoUrl;return a});return new H(a,c,d.emailVerified,d.phoneNumberVerified,e)};function Cb(a,b){if(Object.prototype.hasOwnProperty.call(a,b))return a[b]}function Db(a,b){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&b(c,a[c])}function Eb(a){var b={};Db(a,function(a,d){b[a]=d});return b};function Fb(a){var b={};try{var c=a.split("."),d=Ha(c[0])||"",e=Ha(c[1])||"";q(d);b=q(e);delete b.d}catch(f){console.warn("error",f)}a=b;return"object"===typeof a&&a.hasOwnProperty("iat")?Cb(a,"iat"):null};function R(a,b,c){this.ha=["session",b.Ka,b.J,a].join(":");this.$=c}R.prototype.set=function(a,b){if(!b)if(this.$.length)b=this.$[0];else throw Error("wd.auth.SessionManager : No storage options available!");b.set(this.ha,a)};R.prototype.get=function(){var a=ta(this.$,p(this.Ca,this)),a=sa(a,function(a){return null!==a});va(a,function(a,c){return Fb(c.idToken)-Fb(a.idToken)});return 0<a.length?a.shift():null};R.prototype.Ca=function(a){try{var b=a.get(this.ha);if(b.idToken)return b;this.clear(a)}catch(c){}return null};
R.prototype.clear=function(){var a=this;ra(this.$,function(b){b.remove(a.ha)})};var Gb={NETWORK_ERROR:"Unable to contact the Wilddog server.",SERVER_ERROR:"An unknown server error occurred.",TRANSPORT_UNAVAILABLE:"There are no login transports available for the requested method.",REQUEST_INTERRUPTED:"The browser redirected the page before the login request could complete.",USER_CANCELLED:"The user cancelled authentication."};function S(a){var b=Cb(Gb,a),b=Error(b,a);b.code=a;return b};function Hb(a,b,c){this.T=a||{};this.P=b||{};this.f=c||{};this.T.remember||(this.T.remember="default")}var Ib=["remember","redirectTo"];function T(a){var b={},c={};Db(a||{},function(a,e){0<=qa(Ib,a)?b[a]=e:c[a]=e});return new Hb(b,{},c)};function Jb(a){this.M=a;this.Y="wilddog:"}Jb.prototype.set=function(a,b){null==b?this.M.removeItem(this.Y+a):this.M.setItem(this.Y+a,oa(b))};Jb.prototype.get=function(a){a=this.M.getItem(this.Y+a);return null==a?null:q(a)};Jb.prototype.remove=function(a){this.M.removeItem(this.Y+a)};Jb.prototype.toString=function(){return this.M.toString()};function Kb(){this.L={}}Kb.prototype.set=function(a,b){null==b?delete this.L[a]:this.L[a]=b};Kb.prototype.get=function(a){return Object.prototype.hasOwnProperty.call(this.L,a)?this.L[a]:null};Kb.prototype.remove=function(a){delete this.L[a]};function Lb(a){try{if("undefined"!==typeof window&&"undefined"!==typeof window[a]){var b=window[a];b.setItem("wilddog:sentinel","cache");b.removeItem("wilddog:sentinel");return new Jb(b)}}catch(c){}return new Kb}var Mb=Lb("localStorage"),Nb=Lb("sessionStorage");function Ob(a){var b=[];Db(a,function(a,d){"array"==k(d)?ra(d,function(c){b.push(encodeURIComponent(a)+"="+encodeURIComponent(c))}):b.push(encodeURIComponent(a)+"="+encodeURIComponent(d))});return b.length?"&"+b.join("&"):""}function Pb(a){var b={};a=a.replace(/^\?/,"").split("&");ra(a,function(a){a&&(a=a.split("="),b[a[0]]=a[1])});return b};function Qb(a,b){var c=window;c.attachEvent?c.attachEvent("on"+a,b):c.addEventListener&&c.addEventListener(a,b,!1)}function Rb(a,b){var c=window;c.detachEvent?c.detachEvent("on"+a,b):c.removeEventListener&&c.removeEventListener(a,b,!1)}function Sb(a){/^https?:\/\//.test(a)||(a=window.location.href);var b=/^(https?:\/\/[\-_a-zA-Z\.0-9:]+)/.exec(a);return b?b[1]:a}
function Tb(){var a=document.location.hash,b="";try{var a=a.replace("#",""),c=Pb(a);c&&Object.prototype.hasOwnProperty.call(c,"__wilddog_request_key")&&(b=Cb(c,"__wilddog_request_key"))}catch(d){}return b}
function Ub(){var a="auth.wilddog.com",b="",c="https";if(l(a)){b=a.indexOf("//");0<=b&&(c=a.substring(0,b-1),a=a.substring(b+2));var d=a.indexOf("/");-1===d&&(d=a.length);b=a.substring(0,d);a=a.substring(d).split("/");for(d=0;d<a.length;d++)if(0<a[d].length){var e=a[d];try{e.replace(/\+/g," ")}catch(f){}}}return c+"://"+b+"/v2"}function Vb(a){return Ub()+"/"+a+"/auth/channel"};function Wb(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(navigator.userAgent)}function Xb(){return"undefined"!==typeof location&&/^file:\//.test(location.href)}
function Yb(){if("undefined"===typeof navigator)return!1;var a=navigator.userAgent;if("Microsoft Internet Explorer"===navigator.appName){if((a=a.match(/MSIE ([0-9]{1,}[\.0-9]{0,})/))&&1<a.length)return 8<=parseFloat(a[1])}else if(-1<a.indexOf("Trident")&&(a=a.match(/rv:([0-9]{2,2}[\.0-9]{0,})/))&&1<a.length)return 8<=parseFloat(a[1]);return!1};function Zb(a){a.method||(a.method="GET");a.headers||(a.headers={});a.headers["Content-Type"]||(a.headers["Content-Type"]="application/json");a.headers["Content-Type"]=a.headers["Content-Type"].toLowerCase();this.options=a}
Zb.prototype.open=function(a,b,c){function d(){c&&(c(S("REQUEST_INTERRUPTED")),c=null)}var e=new XMLHttpRequest,f=this.options.method.toUpperCase(),g;Qb("beforeunload",d);e.onreadystatechange=function(){if(c&&4===e.readyState){var a;if(200<=e.status&&300>e.status){try{a=q(e.responseText)}catch(ga){}c(null,a)}else 500<=e.status&&600>e.status?c(S("SERVER_ERROR")):c(S("NETWORK_ERROR"));c=null;Rb("beforeunload",d)}};if("GET"===f)a+=(/\?/.test(a)?"":"?")+Ob(b),g=null;else{var n=this.options.headers["Content-Type"];
"application/json"===n&&(g=oa(b));"application/x-www-form-urlencoded"===n&&(g=Ob(b))}e.open(f,a,!0);a={"X-Requested-With":"XMLHttpRequest",Accept:"application/json;text/plain"};Aa(a,this.options.headers);for(var u in a)e.setRequestHeader(u,a[u]);e.send(g)};Zb.isAvailable=function(){return"NODE"!=CLIENT_TYPE&&!!window.XMLHttpRequest&&(!("undefined"!==typeof navigator&&(navigator.userAgent.match(/MSIE/)||navigator.userAgent.match(/Trident/)))||Yb())};Zb.prototype.ca=function(){return"json"};var $b={};var ac={};function bc(a){if(!a.window_features||"undefined"!==typeof navigator&&(-1!==navigator.userAgent.indexOf("Fennec/")||-1!==navigator.userAgent.indexOf("Firefox/")&&-1!==navigator.userAgent.indexOf("Android")))a.window_features=void 0;a.window_name||(a.window_name="_blank");this.options=a}
bc.prototype.open=function(a,b,c){function d(a){g&&(document.body.removeChild(g),g=void 0);ga&&(ga=clearInterval(ga));Rb("message",e);Rb("unload",d);if(w&&!a)try{w.close()}catch(rc){n.postMessage("die",u)}w=n=void 0}function e(a){if(a.origin===u)try{var b=q(a.data);"ready"===b.a?n.postMessage(mc,u):"error"===b.a?(d(!1),c&&(c(b.d),c=null)):"response"===b.a&&(d(b.forceKeepWindowOpen),c&&(c(null,b.d),c=null))}catch(sc){}}var f=Yb(),g,n;if(!this.options.relay_url)return c(Error("invalid arguments: origin of url and relay_url must match"));
var u=Sb(a);if(u!==Sb(this.options.relay_url))c&&setTimeout(function(){c(Error("invalid arguments: origin of url and relay_url must match"))},0);else{f&&(g=document.createElement("iframe"),g.setAttribute("src",this.options.relay_url),g.style.display="none",g.setAttribute("name","__winchan_relay_frame"),document.body.appendChild(g),n=g.contentWindow);a+=(/\?/.test(a)?"":"?")+Ob(b);var w=window.open(a,this.options.window_name,this.options.window_features);n||(n=w);var ga=setInterval(function(){w&&w.closed&&
(d(!1),c&&(c(S("USER_CANCELLED")),c=null))},500),mc=oa({a:"request",d:b});Qb("unload",d);Qb("message",e)}};
bc.isAvailable=function(){return"WEB"==CLIENT_TYPE&&"postMessage"in window&&!Xb()&&!(Wb()||"undefined"!==typeof navigator&&(navigator.userAgent.match(/Windows Phone/)||window.Windows&&/^ms-appx:/.test(location.href))||"undefined"!==typeof navigator&&"undefined"!==typeof window&&(navigator.userAgent.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i)||navigator.userAgent.match(/CriOS/)||navigator.userAgent.match(/Twitter for iPhone/)||navigator.userAgent.match(/FBAN\/FBIOS/)||window.navigator.standalone))&&
!("undefined"!==typeof navigator&&navigator.userAgent.match(/PhantomJS/))};bc.prototype.ca=function(){return"popup"};function cc(){this.oa=pa()+pa()+pa()}cc.prototype.open=function(a,b){v.set("redirect_request_id",this.oa);b.requestId=this.oa;b.redirectTo=b.redirectTo||window.location.href;a+=(/\?/.test(a)?"":"?")+Ob(b);window.location=a};cc.isAvailable=function(){return"WEB"==CLIENT_TYPE&&!Xb()&&!Wb()};cc.prototype.ca=function(){return"redirect"};function U(a){var b=[];a.forEach(function(a){null!=this.ma[a]&&b.push(this.ma[a])},dc);return b}var v=Nb,dc=new function(){this.ma={XHR:Zb,JSONP:$b,Cordova:ac,Popup:bc,Redirect:cc}};function ec(a,b,c){this.S=a;this.K=a.app;this.C=b;this.G=new R(this.K.name,b,[Mb,v]);this.l=null;this.X=c;fc(this)}function fc(a){v.get("redirect_request_id")&&gc(a);var b=a.G.get();b&&b.idToken?zb(a,b.idToken,function(c,d){if(!c&&d){var e={signIn:!0};e.currentUser=d;e.idToken=b.idToken;P(a,e);hc(a,e,{})}else P(a,null)}):P(a,null)}function ic(a,b,c,d){b&&b.idToken?jc(a,b.idToken,c,d):(P(a,null),x(d,Error("No idToken found in response.")))}
function jc(a,b,c,d){zb(a,b,function(e,f){if(!e&&f){var g={signIn:!0};g.currentUser=f;g.idToken=b;P(a,g);hc(a,g,c);x(d,e,f)}else P(a,null),x(d,e)})}
function N(a,b,c){V(a);var d=new Hb({},{},b||{}),e;e="POST";switch(b.providerId||b.provider){case "password":b="verifyPassword";break;case "anonymous":b="verifyAnonymous";break;case "custom":b="verifyCustomToken";break;default:b="credential",e="GET"}if(!b)throw Error("Unknown provider '"+provider+"'.");e={path:b,method:e};d.f._method=e.method;b=U(["XHR","JSONP","NodeHttp","WxHttp"]);kc(a,b,"/auth/"+e.path,d,c)}
function ub(a,b,c,d){V(a);var e=U(["Popup","Cordova"]);requestInfo=T(c);height=width=625;b.id?(requestInfo.f.providerId=b.id,requestInfo.f.scope=b.scope||"",requestInfo.f.appId=a.C.J,requestInfo.P.window_features="menubar=yes,modal=yes,alwaysRaised=yeslocation=yes,resizable=yes,scrollbars=yes,status=yes,height="+height+",width="+width+",top="+("object"===typeof screen?.5*(screen.height-height):0)+",left="+("object"===typeof screen?.5*(screen.width-width):0),requestInfo.P.relay_url=Vb(a.C.J),requestInfo.P.requestWithCredential=
p(a.m,a),kc(a,e,"/auth/oauth",requestInfo,d)):setTimeout(function(){x(d,S("TRANSPORT_UNAVAILABLE_FOR_UNKNOWN_PROVIDER"))},0)}function vb(a,b,c,d){V(a);var e=U(["Redirect"]);c=T(c);b.id?(c.f.providerId=b.id,c.f.scope=b.scope||"",c.f.appId=a.C.J,v.set("redirect_client_options",c.T),kc(a,e,"/auth/oauth",c,d)):x(d,S("TRANSPORT_UNAVAILABLE"))}
function gc(a){var b=v.get("redirect_request_id");if(b){var c=v.get("redirect_client_options"),d=U(["XHR","JSONP"]);serverParams={requestId:b,requestKey:Tb()};transportOptions={};requestInfo=new Hb(c,transportOptions,serverParams);try{document.location.hash=document.location.hash.replace(/&__wilddog_request_key=([a-zA-z0-9]*)/,"")}catch(e){}kc(a,d,"/auth/session",requestInfo,function(){v.remove("redirect_request_id");v.remove("redirect_client_options")}.bind(a))}}
function lc(a,b,c){V(a);b=T(b);b.f._method="POST";a.m("/auth/signupNewUser",b,function(b,e){!b&&e&&e.idToken?jc(a,e.idToken,null,c):x(c,b)})}function tb(a,b,c,d){var e={idToken:c.idToken},f=c.photoURL||a.l.currentUser.photoURL,g=c.displayName||a.l.currentUser.displayName;switch(b){case "unlink":e.deleteProvider=c.deleteProvider;break;case "profile":e.photoUrl=f,e.displayName=g}nc(a,e,function(b,c){b?x(d,b):(a.l.currentUser.displayName=g,a.l.currentUser.photoURL=f,hc(a,a.l),x(d,b,c))})}
function sb(a,b,c){nc(a,b,function(b,e){b?x(c,b):ic(a,e,{},c)})}function nc(a,b,c){b=T(b);b.f._method="POST";b.f.idToken=a.l.idToken;a.m("/auth/setAccountInfo",b,function(a,b){a?x(c,a):x(c,a,b)})}function zb(a,b,c){V(a);b=T({idToken:b});b.f._method="POST";a.m("/auth/getAccountInfo",b,function(b,e){b?x(c,b):x(c,b,Bb(a,e))})}function rb(a,b,c){V(a);b=T({idToken:b});b.f._method="POST";a.m("/auth/deleteAccount",b,function(b,e){!b&&e&&"ok"==e.status&&a.l&&(P(a,null),x(void 0,null));x(c,b)})}
function xb(a,b,c){V(a);b=T(b);b.f._method="POST";a.m("/auth/getOobConfirmationCode",b,function(a,b){x(c,a,b)})}ec.prototype.ea=function(a,b){V(this);var c=T({email:a});c.f._method="POST";this.m("/auth/getProvider",c,function(a,c){a?x(b,a):x(b,a,c.allProviders||[])})};ec.prototype.m=function(a,b,c){var d=U(["XHR","JSONP","NodeHttp","WxHttp"]);oc(this,d,a,b,c)};
function kc(a,b,c,d,e){oc(a,b,c,d,function(b,c){!b&&c&&c.idToken?ic(a,c,d.T,function(a,b){a?x(e,a):x(e,null,b)}):x(e,b||S("UNKNOWN_ERROR"))})}
function oc(a,b,c,d,e){b=sa(b,function(a){return"function"===typeof a.isAvailable&&a.isAvailable()});0===b.length?setTimeout(function(){x(e,S("TRANSPORT_UNAVAILABLE"))},0):(b=b.shift(),d.P.method=d.f._method,b=new b(d.P),d=Eb(d.f),d.v=CLIENT_TYPE+CLIENT_VERSION,d.transport=b.ca(),d.suppress_status_codes=!0,a=Ub()+"/"+a.C.J+c,b.open(a,d,function(a,b){if(a)x(e,a);else if(b&&b.error){var c=Error(b.error.message);c.code=b.error.code;c.details=b.error.details;x(e,c)}else x(e,null,b)}))}
function hc(a,b,c){a.G.clear();c=c||{};var d=Mb;"sessionOnly"===c.remember&&(d=v);"none"!==c.remember&&a.G.set(b,d)}function P(a,b){a.l=b;a.S.currentUser=b&&b.signIn?b.currentUser:null;a.X&&a.X(null!==b);b&&b.signIn||a.G.clear();a.K.emit(a.K.I.A,b||{signIn:!1})}function V(a){if(a.C.Ea)throw Error("This custom Wilddog server ('"+a.C.domain+"') does not support delegated login.");}
function wb(a,b,c){b=T(b);b.f._method="POST";a.m("/auth/verifyPhone",b,function(b,e){!b&&e&&"ok"==e.status&&a.S.currentUser&&(a.S.currentUser.phoneVerified=!0);!b&&e&&e.idToken?jc(a,e.idToken,null,c):x(c,b)})}function pc(a,b,c){V(a);b=T(b);b.f._method="POST";a.m("/auth/resetPhonePassword",b,function(a,b){a?x(c,a):x(c,a,b)})}function yb(a,b,c){V(a);b=T(b);b.f._method="POST";a.m("/auth/sendSmsCode",b,function(a,b){x(c,a,b)})};function L(a,b,c,d){var e;d<b?e="at least "+b:d>c&&(e=0===c?"none":"no more than "+c);if(e)throw Error(a+" failed: Was called with "+d+(1===d?" argument.":" arguments.")+" Expects "+e+".");}function qc(a,b,c){switch(b){case 1:b=c?"first":"First";break;case 2:b=c?"second":"Second";break;case 3:b=c?"third":"Third";break;case 4:b=c?"fourth":"Fourth";break;default:throw Error("errorPrefix called with argumentNumber > 4.  Need to update it?");}return a+" failed: "+(b+" argument ")}
function Q(a,b,c,d){if(!(d&&void 0===c||m(c)))throw Error(qc(a,b,d)+"must be a valid function.");};function W(a,b){if(1==arguments.length){this.c=a.split("/");for(var c=0,d=0;d<this.c.length;d++)0<this.c[d].length&&(this.c[c]=this.c[d],c++);this.c.length=c;this.i=0}else this.c=a,this.i=b}W.prototype.toString=function(){for(var a="",b=this.i;b<this.c.length;b++)""!==this.c[b]&&(a+="/"+this.c[b]);return a||"/"};W.prototype.slice=function(a){return this.c.slice(this.i+(a||0))};
W.prototype.parent=function(){if(this.i>=this.c.length)return null;for(var a=[],b=this.i;b<this.c.length-1;b++)a.push(this.c[b]);return new W(a,0)};W.prototype.u=function(a){for(var b=[],c=this.i;c<this.c.length;c++)b.push(this.c[c]);if(a instanceof W)for(c=a.i;c<a.c.length;c++)b.push(a.c[c]);else for(a=a.split("/"),c=0;c<a.length;c++)0<a[c].length&&b.push(a[c]);return new W(b,0)};
W.prototype.contains=function(a){var b=this.i,c=a.i;if(this.c.length-this.i>a.c.length-a.i)return!1;for(;b<this.c.length;){if(this.c[b]!==a.c[c])return!1;++b;++c}return!0};new W("");function O(a,b,c){if(!l(c))throw Error(qc(a,b,!1)+"must be a valid string.");}function M(a,b){if(!ba(b)||null===b)throw Error(qc(a,1,!1)+"must be a valid object.");};function X(a){if(!a.options.authDomain)throw Error("Could not find 'authDomain' in options.");var b=this;this.ta=function(a){var b=/^([a-zA-Z0-9\-_]+)\.([a-z]+)\.com/.exec(a.toLowerCase());if(!b)throw Error("Bad 'authDomain' format '"+a+"'.");return{J:b[1],qb:b[2],mb:b[0],Ka:"",Ea:"wilddog"!==b[2]}}(a.options.authDomain);this.app=a;this.g=new ec(this,this.ta);this.app.bind(this.app.I.ua,function(a){var c=b.g;a=a.reason;c.l=null;c.S.currentUser=null;c.K.emit(c.K.I.A,{signIn:!1,reason:a});c.X&&c.X(!1);
c.G.clear()})}X.prototype.Ja=function(a){function b(b){var d;if(!(d=b&&b.signIn)){var f=c.g;d=v.get("redirect_request_id");f=f.G.get();d=!(d||f&&f.idToken)}d&&a(b&&b.signIn?b.currentUser:null)}var c=this;L("wilddog.auth().onAuthStateChanged",1,1,arguments.length);Q("wilddog.auth().onAuthStateChanged",1,a,!1);this.app.bind(this.app.I.A,b);return function(){c.app.unbind(c.app.I.A,b)}};X.prototype.onAuthStateChanged=X.prototype.Ja;
X.prototype.Ra=function(a){L("wilddog.auth().signInAnonymously",0,1,arguments.length);Q("wilddog.auth().signInAnonymously",1,a,!0);var b=new F;lc(this.g,{},G(b,a));return b.b};X.prototype.signInAnonymously=X.prototype.Ra;X.prototype.Sa=function(a){L("wilddog.auth().signInAnonymously",0,1,arguments.length);Q("wilddog.auth().signInAnonymously",1,a,!0);var b=new F,c=this.g,d=G(b,a);V(c);var e=new Hb({},{},{}),f=U(["WxImplicit"]);kc(c,f,"/auth/wxapp",e,d);return b.b};X.prototype.signInWeapp=X.prototype.Sa;
X.prototype.Oa=function(a,b){L("wilddog.auth().sendPasswordResetEmail",1,2,arguments.length);Q("wilddog.auth().sendPasswordResetEmail",2,b,!0);var c=new F;xb(this.g,{requestType:"RESET_PASSWORD",email:a},G(c,b));return c.b};X.prototype.sendPasswordResetEmail=X.prototype.Oa;X.prototype.Pa=function(a,b){L("wilddog.auth().sendPasswordResetSms",1,2,arguments.length);Q("wilddog.auth().sendPasswordResetSms",2,b,!0);var c=new F;yb(this.g,{type:"PASSWORD_RESET",phoneNumber:a},G(c,b));return c.b};
X.prototype.sendPasswordResetSms=X.prototype.Pa;X.prototype.va=function(a,b,c,d){L("wilddog.auth().sendPasswordResetSms",3,4,arguments.length);Q("wilddog.auth().sendPasswordResetSms",4,d,!0);O("wilddog.auth().sendPasswordResetSms",2,b);var e=new F;pc(this.g,{phoneNumber:a,password:c,smsCode:b},G(e,d));return e.b};X.prototype.confirmPasswordResetSms=X.prototype.va;
X.prototype.ea=function(a,b){L("wilddog.auth().fetchProvidersForEmail",1,2,arguments.length);Q("wilddog.auth().fetchProvidersForEmail",2,b,!0);var c=new F;this.g.ea(a,G(c,b));return c.b};X.prototype.fetchProvidersForEmail=X.prototype.ea;X.prototype.Ua=function(a,b){L("wilddog.auth().signInWithCustomToken",1,2,arguments.length);Q("wilddog.auth().signInWithCustomToken",2,b,!0);var c=new F;N(this.g,{providerId:"custom",token:a},G(c,b));return c.b};X.prototype.signInWithCustomToken=X.prototype.Ua;
X.prototype.Va=function(a,b,c){L("wilddog.auth().signInWithEmailAndPassword",2,3,arguments.length);Q("wilddog.auth().signInWithEmailAndPassword",3,c,!0);var d=new F;N(this.g,{providerId:"password",password:b,email:a},G(d,c));return d.b};X.prototype.signInWithEmailAndPassword=X.prototype.Va;
X.prototype.Wa=function(a,b,c){L("wilddog.auth().signInWithPhoneAndPassword",2,3,arguments.length);Q("wilddog.auth().signInWithPhoneAndPassword",3,c,!0);var d=new F;N(this.g,{providerId:"password",password:b,phoneNumber:a},G(d,c));return d.b};X.prototype.signInWithPhoneAndPassword=X.prototype.Wa;X.prototype.Za=function(a){L("wilddog.auth().signOut",0,1,arguments.length);Q("wilddog.auth().signOut",1,a,!0);var b=new F,c=G(b,a);P(this.g,null);x(c,null);return b.b};X.prototype.signOut=X.prototype.Za;
X.prototype.wa=function(a,b,c){L("wilddog.auth().createUserWithEmailAndPassword",2,3,arguments.length);Q("wilddog.auth().createUserWithEmailAndPassword",3,c,!0);var d=new F;lc(this.g,{email:a,password:b},G(d,c));return d.b};X.prototype.createUserWithEmailAndPassword=X.prototype.wa;X.prototype.xa=function(a,b,c){L("wilddog.auth().createUserWithPhoneAndPassword",2,3,arguments.length);Q("wilddog.auth().createUserWithPhoneAndPassword",3,c,!0);var d=new F;lc(this.g,{phoneNumber:a,password:b},G(d,c));return d.b};
X.prototype.createUserWithPhoneAndPassword=X.prototype.xa;X.prototype.Xa=function(a,b){L("wilddog.auth().signInWithPopup",1,2,arguments.length);M("wilddog.auth().signInWithPopup",a);var c=new F;ub(this.g,a,{authType:"login"},G(c,b));return c.b};X.prototype.signInWithPopup=X.prototype.Xa;X.prototype.Ya=function(a,b){L("wilddog.auth().signInWithRedirect",1,2,arguments.length);M("wilddog.auth().signInWithRedirect",a);var c=new F;vb(this.g,a,{authType:"login"},G(c,b));return c.b};
X.prototype.signInWithRedirect=X.prototype.Ya;X.prototype.Ta=function(a,b){L("wilddog.auth().signInWithCredential",1,2,arguments.length);M("wilddog.auth().signInWithCredential",a);var c={};"password"==a.provider?(c.providerId=a.provider,c.email=a.email,c.phoneNumber=a.phone,c.password=a.password):(c.providerId=a.provider,c.accessToken=a.accessToken,c.openId=a.openId||a.email);c.authType="login";var d=new F;N(this.g,c,G(d,b));return d.b};X.prototype.signInWithCredential=X.prototype.Ta;function Y(){this.za="DEFAULT";this.Ia={};this.ba={};this.app=null}Y.prototype.Da=function(a,b){var c=b||this.za;this.ba[c]=new y(a,c);null==b&&(this.app=this.ba[c]);return this.ba[c]};Y.prototype.initializeApp=Y.prototype.Da;Y.prototype.na=function(a,b){this.Ia[a]=b;Oa(a,b);this[a]=function(){return this.app[a]()}};Y.prototype.regService=Y.prototype.na;var Z=new Y;Z.na("auth",function(a){if(null==a)throw Error("application not initialized!Please call wilddog.initializeApp first");null==a.ja&&(a.ja=new X);return a.ja});
(function(a){a.auth=a.auth?a.auth:{};[{id:"password",name:"Wilddog",w:"phoneOrEmail",o:"password"},{id:"password",name:"Email",w:"email",o:"password"},{id:"qq",name:"QQ",w:"accessToken",o:"openId"},{id:"weibo",name:"Weibo",w:"accessToken",o:"openId"},{id:"weixin",name:"Weixin",w:"accessToken",o:"openId"},{id:"weixinmp",name:"Weixinmp",w:"accessToken",o:"openId"}].forEach(function(b){a.auth[b.name+"AuthProvider"]=function(){this.id=b.id;this.addScope=function(a){this.scope=a}};"Wilddog"==b.name?(a.auth.WilddogAuthProvider.emailCredential=
function(a,d){var c={};c.provider=b.id;c.email=a;c[b.o]=d;return c},a.auth.WilddogAuthProvider.phoneCredential=function(a,d){var c={};c.provider=b.id;c.phone=a;c[b.o]=d;return c}):a.auth[b.name+"AuthProvider"].credential="Email"==b.name?function(a,d){Ka("wilddog.auth.EmailAuthProvider being deprecated. Please usewilddog.auth.WilddogAuthProvider instead.");var c={};c.provider=b.id;c[b.w]=a;c[b.o]=d;return c}:function(a,d){var c={};c.provider=b.id;c[b.w]=a;c[b.o]=d;return c}})})(Z);
if("WEB"==CLIENT_TYPE)"object"==typeof module&&module.exports&&(module.exports=Z),"function"==typeof define&&define.amd&&define("wilddog",[],function(){return Z}),window?window.wilddog=Z:WorkerGlobalScope&&self&&(self.wilddog=Z);else if("NODE"==CLIENT_TYPE||"WX"==CLIENT_TYPE||"RN"==CLIENT_TYPE)module.exports=Z;
})({global:window,goog:{},wd:{}})
