(function(){var define=null;!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.eio=e():t.eio=e()}(this,function(){return function(t){function e(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){"use strict";t.exports=r(1)},function(t,e,r){"use strict";t.exports=r(2),t.exports.parser=r(9)},function(t,e,r){(function(e){"use strict";function n(t,r){if(!(this instanceof n))return new n(t,r);r=r||{},t&&"object"===("undefined"==typeof t?"undefined":i(t))&&(r=t,t=null),t?(t=h(t),r.hostname=t.host,r.secure="https"===t.protocol||"wss"===t.protocol,r.port=t.port,t.query&&(r.query=t.query)):r.host&&(r.hostname=h(r.host).host),this.secure=null!=r.secure?r.secure:e.location&&"https:"===location.protocol,r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.agent=r.agent||!1,this.hostname=r.hostname||(e.location?location.hostname:"localhost"),this.port=r.port||(e.location&&location.port?location.port:this.secure?443:80),this.query=r.query||{},"string"==typeof this.query&&(this.query=l.decode(this.query)),this.upgrade=!1!==r.upgrade,this.path=(r.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!r.forceJSONP,this.jsonp=!1!==r.jsonp,this.forceBase64=!!r.forceBase64,this.enablesXDR=!!r.enablesXDR,this.timestampParam=r.timestampParam||"t",this.timestampRequests=r.timestampRequests,this.transports=r.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=r.policyPort||843,this.rememberUpgrade=r.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=r.onlyBinaryUpgrades,this.perMessageDeflate=!1!==r.perMessageDeflate&&(r.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=r.pfx||null,this.key=r.key||null,this.passphrase=r.passphrase||null,this.cert=r.cert||null,this.ca=r.ca||null,this.ciphers=r.ciphers||null,this.rejectUnauthorized=void 0===r.rejectUnauthorized?null:r.rejectUnauthorized,this.forceNode=!!r.forceNode;var o="object"===("undefined"==typeof e?"undefined":i(e))&&e;o.global===o&&(r.extraHeaders&&Object.keys(r.extraHeaders).length>0&&(this.extraHeaders=r.extraHeaders),r.localAddress&&(this.localAddress=r.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}function o(t){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=r(3),a=r(19),c=r(23)("engine.io-client:socket"),u=r(30),p=r(9),h=r(31),f=r(32),l=r(20);t.exports=n,n.priorWebsocketSuccess=!1,a(n.prototype),n.protocol=p.protocol,n.Socket=n,n.Transport=r(8),n.transports=r(3),n.parser=r(9),n.prototype.createTransport=function(t){c('creating transport "%s"',t);var e=o(this.query);e.EIO=p.protocol,e.transport=t,this.id&&(e.sid=this.id);var r=new s[t]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:e,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized,perMessageDeflate:this.perMessageDeflate,extraHeaders:this.extraHeaders,forceNode:this.forceNode,localAddress:this.localAddress});return r},n.prototype.open=function(){var t;if(this.rememberUpgrade&&n.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else{if(0===this.transports.length){var e=this;return void setTimeout(function(){e.emit("error","No transports available")},0)}t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(r){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)},n.prototype.setTransport=function(t){c("setting transport %s",t.name);var e=this;this.transport&&(c("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=t,t.on("drain",function(){e.onDrain()}).on("packet",function(t){e.onPacket(t)}).on("error",function(t){e.onError(t)}).on("close",function(){e.onClose("transport close")})},n.prototype.probe=function(t){function e(){if(f.onlyBinaryUpgrades){var e=!this.supportsBinary&&f.transport.supportsBinary;h=h||e}h||(c('probe transport "%s" opened',t),p.send([{type:"ping",data:"probe"}]),p.once("packet",function(e){if(!h)if("pong"===e.type&&"probe"===e.data){if(c('probe transport "%s" pong',t),f.upgrading=!0,f.emit("upgrading",p),!p)return;n.priorWebsocketSuccess="websocket"===p.name,c('pausing current transport "%s"',f.transport.name),f.transport.pause(function(){h||"closed"!==f.readyState&&(c("changing transport and sending upgrade packet"),u(),f.setTransport(p),p.send([{type:"upgrade"}]),f.emit("upgrade",p),p=null,f.upgrading=!1,f.flush())})}else{c('probe transport "%s" failed',t);var r=new Error("probe error");r.transport=p.name,f.emit("upgradeError",r)}}))}function r(){h||(h=!0,u(),p.close(),p=null)}function o(e){var n=new Error("probe error: "+e);n.transport=p.name,r(),c('probe transport "%s" failed because of error: %s',t,e),f.emit("upgradeError",n)}function i(){o("transport closed")}function s(){o("socket closed")}function a(t){p&&t.name!==p.name&&(c('"%s" works - aborting "%s"',t.name,p.name),r())}function u(){p.removeListener("open",e),p.removeListener("error",o),p.removeListener("close",i),f.removeListener("close",s),f.removeListener("upgrading",a)}c('probing transport "%s"',t);var p=this.createTransport(t,{probe:1}),h=!1,f=this;n.priorWebsocketSuccess=!1,p.once("open",e),p.once("error",o),p.once("close",i),this.once("close",s),this.once("upgrading",a),p.open()},n.prototype.onOpen=function(){if(c("socket open"),this.readyState="open",n.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){c("starting upgrade probes");for(var t=0,e=this.upgrades.length;t<e;t++)this.probe(this.upgrades[t])}},n.prototype.onPacket=function(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(c('socket receive: type "%s", data "%s"',t.type,t.data),this.emit("packet",t),this.emit("heartbeat"),t.type){case"open":this.onHandshake(f(t.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emit("data",t.data),this.emit("message",t.data)}else c('packet received with socket readyState "%s"',this.readyState)},n.prototype.onHandshake=function(t){this.emit("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},n.prototype.onHeartbeat=function(t){clearTimeout(this.pingTimeoutTimer);var e=this;e.pingTimeoutTimer=setTimeout(function(){"closed"!==e.readyState&&e.onClose("ping timeout")},t||e.pingInterval+e.pingTimeout)},n.prototype.setPing=function(){var t=this;clearTimeout(t.pingIntervalTimer),t.pingIntervalTimer=setTimeout(function(){c("writing ping packet - expecting pong within %sms",t.pingTimeout),t.ping(),t.onHeartbeat(t.pingTimeout)},t.pingInterval)},n.prototype.ping=function(){var t=this;this.sendPacket("ping",function(){t.emit("ping")})},n.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},n.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(c("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},n.prototype.write=n.prototype.send=function(t,e,r){return this.sendPacket("message",t,e,r),this},n.prototype.sendPacket=function(t,e,r,n){if("function"==typeof e&&(n=e,e=void 0),"function"==typeof r&&(n=r,r=null),"closing"!==this.readyState&&"closed"!==this.readyState){r=r||{},r.compress=!1!==r.compress;var o={type:t,data:e,options:r};this.emit("packetCreate",o),this.writeBuffer.push(o),n&&this.once("flush",n),this.flush()}},n.prototype.close=function(){function t(){n.onClose("forced close"),c("socket closing - telling transport to close"),n.transport.close()}function e(){n.removeListener("upgrade",e),n.removeListener("upgradeError",e),t()}function r(){n.once("upgrade",e),n.once("upgradeError",e)}if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var n=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?r():t()}):this.upgrading?r():t()}return this},n.prototype.onError=function(t){c("socket error %j",t),n.priorWebsocketSuccess=!1,this.emit("error",t),this.onClose("transport error",t)},n.prototype.onClose=function(t,e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){c('socket close with reason: "%s"',t);var r=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",t,e),r.writeBuffer=[],r.prevBufferLen=0}},n.prototype.filterUpgrades=function(t){for(var e=[],r=0,n=t.length;r<n;r++)~u(this.transports,t[r])&&e.push(t[r]);return e}}).call(e,function(){return this}())},function(t,e,r){(function(t){"use strict";function n(e){var r,n=!1,a=!1,c=!1!==e.jsonp;if(t.location){var u="https:"===location.protocol,p=location.port;p||(p=u?443:80),n=e.hostname!==location.hostname||p!==e.port,a=e.secure!==u}if(e.xdomain=n,e.xscheme=a,r=new o(e),"open"in r&&!e.forceJSONP)return new i(e);if(!c)throw new Error("JSONP disabled");return new s(e)}var o=r(4),i=r(6),s=r(27),a=r(28);e.polling=n,e.websocket=a}).call(e,function(){return this}())},function(t,e,r){(function(e){"use strict";var n=r(5);t.exports=function(t){var r=t.xdomain,o=t.xscheme,i=t.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!r||n))return new XMLHttpRequest}catch(s){}try{if("undefined"!=typeof XDomainRequest&&!o&&i)return new XDomainRequest}catch(s){}if(!r)try{return new(e[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(s){}}}).call(e,function(){return this}())},function(t,e){try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(r){t.exports=!1}},function(t,e,r){(function(e){"use strict";function n(){}function o(t){if(c.call(this,t),this.requestTimeout=t.requestTimeout,e.location){var r="https:"===location.protocol,n=location.port;n||(n=r?443:80),this.xd=t.hostname!==e.location.hostname||n!==t.port,this.xs=t.secure!==r}else this.extraHeaders=t.extraHeaders}function i(t){this.method=t.method||"GET",this.uri=t.uri,this.xd=!!t.xd,this.xs=!!t.xs,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.agent=t.agent,this.isBinary=t.isBinary,this.supportsBinary=t.supportsBinary,this.enablesXDR=t.enablesXDR,this.requestTimeout=t.requestTimeout,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.extraHeaders=t.extraHeaders,this.create()}function s(){for(var t in i.requests)i.requests.hasOwnProperty(t)&&i.requests[t].abort()}var a=r(4),c=r(7),u=r(19),p=r(21),h=r(23)("engine.io-client:polling-xhr");t.exports=o,t.exports.Request=i,p(o,c),o.prototype.supportsBinary=!0,o.prototype.request=function(t){return t=t||{},t.uri=this.uri(),t.xd=this.xd,t.xs=this.xs,t.agent=this.agent||!1,t.supportsBinary=this.supportsBinary,t.enablesXDR=this.enablesXDR,t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,t.requestTimeout=this.requestTimeout,t.extraHeaders=this.extraHeaders,new i(t)},o.prototype.doWrite=function(t,e){var r="string"!=typeof t&&void 0!==t,n=this.request({method:"POST",data:t,isBinary:r}),o=this;n.on("success",e),n.on("error",function(t){o.onError("xhr post error",t)}),this.sendXhr=n},o.prototype.doPoll=function(){h("xhr poll");var t=this.request(),e=this;t.on("data",function(t){e.onData(t)}),t.on("error",function(t){e.onError("xhr poll error",t)}),this.pollXhr=t},u(i.prototype),i.prototype.create=function(){var t={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized;var r=this.xhr=new a(t),n=this;try{h("xhr open %s: %s",this.method,this.uri),r.open(this.method,this.uri,this.async);try{if(this.extraHeaders){r.setDisableHeaderCheck(!0);for(var o in this.extraHeaders)this.extraHeaders.hasOwnProperty(o)&&r.setRequestHeader(o,this.extraHeaders[o])}}catch(s){}if(this.supportsBinary&&(r.responseType="arraybuffer"),"POST"===this.method)try{this.isBinary?r.setRequestHeader("Content-type","application/octet-stream"):r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(s){}try{r.setRequestHeader("Accept","*/*")}catch(s){}"withCredentials"in r&&(r.withCredentials=!0),this.requestTimeout&&(r.timeout=this.requestTimeout),this.hasXDR()?(r.onload=function(){n.onLoad()},r.onerror=function(){n.onError(r.responseText)}):r.onreadystatechange=function(){4===r.readyState&&(200===r.status||1223===r.status?n.onLoad():setTimeout(function(){n.onError(r.status)},0))},h("xhr data %s",this.data),r.send(this.data)}catch(s){return void setTimeout(function(){n.onError(s)},0)}e.document&&(this.index=i.requestsCount++,i.requests[this.index]=this)},i.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},i.prototype.onData=function(t){this.emit("data",t),this.onSuccess()},i.prototype.onError=function(t){this.emit("error",t),this.cleanup(!0)},i.prototype.cleanup=function(t){if("undefined"!=typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=n:this.xhr.onreadystatechange=n,t)try{this.xhr.abort()}catch(r){}e.document&&delete i.requests[this.index],this.xhr=null}},i.prototype.onLoad=function(){var t;try{var e;try{e=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(r){}if("application/octet-stream"===e)t=this.xhr.response||this.xhr.responseText;else if(this.supportsBinary)try{t=String.fromCharCode.apply(null,new Uint8Array(this.xhr.response))}catch(r){for(var n=new Uint8Array(this.xhr.response),o=[],i=0,s=n.length;i<s;i++)o.push(n[i]);t=String.fromCharCode.apply(null,o)}else t=this.xhr.responseText}catch(r){this.onError(r)}null!=t&&this.onData(t)},i.prototype.hasXDR=function(){return"undefined"!=typeof e.XDomainRequest&&!this.xs&&this.enablesXDR},i.prototype.abort=function(){this.cleanup()},i.requestsCount=0,i.requests={},e.document&&(e.attachEvent?e.attachEvent("onunload",s):e.addEventListener&&e.addEventListener("beforeunload",s,!1))}).call(e,function(){return this}())},function(t,e,r){"use strict";function n(t){var e=t&&t.forceBase64;p&&!e||(this.supportsBinary=!1),o.call(this,t)}var o=r(8),i=r(20),s=r(9),a=r(21),c=r(22),u=r(23)("engine.io-client:polling");t.exports=n;var p=function(){var t=r(4),e=new t({xdomain:!1});return null!=e.responseType}();a(n,o),n.prototype.name="polling",n.prototype.doOpen=function(){this.poll()},n.prototype.pause=function(t){function e(){u("paused"),r.readyState="paused",t()}var r=this;if(this.readyState="pausing",this.polling||!this.writable){var n=0;this.polling&&(u("we are currently polling - waiting to pause"),n++,this.once("pollComplete",function(){u("pre-pause polling complete"),--n||e()})),this.writable||(u("we are currently writing - waiting to pause"),n++,this.once("drain",function(){u("pre-pause writing complete"),--n||e()}))}else e()},n.prototype.poll=function(){u("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},n.prototype.onData=function(t){var e=this;u("polling got data %s",t);var r=function(t,r,n){return"opening"===e.readyState&&e.onOpen(),"close"===t.type?(e.onClose(),!1):void e.onPacket(t)};s.decodePayload(t,this.socket.binaryType,r),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():u('ignoring poll - transport state "%s"',this.readyState))},n.prototype.doClose=function(){function t(){u("writing close packet"),e.write([{type:"close"}])}var e=this;"open"===this.readyState?(u("transport open - closing"),t()):(u("transport not open - deferring close"),this.once("open",t))},n.prototype.write=function(t){var e=this;this.writable=!1;var r=function(){e.writable=!0,e.emit("drain")};s.encodePayload(t,this.supportsBinary,function(t){e.doWrite(t,r)})},n.prototype.uri=function(){var t=this.query||{},e=this.secure?"https":"http",r="";!1!==this.timestampRequests&&(t[this.timestampParam]=c()),this.supportsBinary||t.sid||(t.b64=1),t=i.encode(t),this.port&&("https"===e&&443!==Number(this.port)||"http"===e&&80!==Number(this.port))&&(r=":"+this.port),t.length&&(t="?"+t);var n=this.hostname.indexOf(":")!==-1;return e+"://"+(n?"["+this.hostname+"]":this.hostname)+r+this.path+t}},function(t,e,r){"use strict";function n(t){this.path=t.path,this.hostname=t.hostname,this.port=t.port,this.secure=t.secure,this.query=t.query,this.timestampParam=t.timestampParam,this.timestampRequests=t.timestampRequests,this.readyState="",this.agent=t.agent||!1,this.socket=t.socket,this.enablesXDR=t.enablesXDR,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.forceNode=t.forceNode,this.extraHeaders=t.extraHeaders,this.localAddress=t.localAddress}var o=r(9),i=r(19);t.exports=n,i(n.prototype),n.prototype.onError=function(t,e){var r=new Error(t);return r.type="TransportError",r.description=e,this.emit("error",r),this},n.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},n.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},n.prototype.send=function(t){if("open"!==this.readyState)throw new Error("Transport not open");this.write(t)},n.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},n.prototype.onData=function(t){var e=o.decodePacket(t,this.socket.binaryType);this.onPacket(e)},n.prototype.onPacket=function(t){this.emit("packet",t)},n.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(t,e,r){(function(t){function n(t,r){var n="b"+e.packets[t.type]+t.data.data;return r(n)}function o(t,r,n){if(!r)return e.encodeBase64Packet(t,n);var o=t.data,i=new Uint8Array(o),s=new Uint8Array(1+o.byteLength);s[0]=v[t.type];for(var a=0;a<i.length;a++)s[a+1]=i[a];return n(s.buffer)}function i(t,r,n){if(!r)return e.encodeBase64Packet(t,n);var o=new FileReader;return o.onload=function(){t.data=o.result,e.encodePacket(t,r,!0,n)},o.readAsArrayBuffer(t.data)}function s(t,r,n){if(!r)return e.encodeBase64Packet(t,n);if(m)return i(t,r,n);var o=new Uint8Array(1);o[0]=v[t.type];var s=new x([o.buffer,t.data]);return n(s)}function a(t){try{t=d.decode(t)}catch(e){return!1}return t}function c(t,e,r){for(var n=new Array(t.length),o=l(t.length,r),i=function(t,r,o){e(r,function(e,r){n[t]=r,o(e,n)})},s=0;s<t.length;s++)i(s,t[s],o)}var u,p=r(10),h=r(11),f=r(13),l=r(14),d=r(15);t&&t.ArrayBuffer&&(u=r(17));var y="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),g="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),m=y||g;e.protocol=3;var v=e.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},b=p(v),w={type:"error",data:"parser error"},x=r(18);e.encodePacket=function(e,r,i,a){"function"==typeof r&&(a=r,r=!1),"function"==typeof i&&(a=i,i=null);var c=void 0===e.data?void 0:e.data.buffer||e.data;if(t.ArrayBuffer&&c instanceof ArrayBuffer)return o(e,r,a);if(x&&c instanceof t.Blob)return s(e,r,a);if(c&&c.base64)return n(e,a);var u=v[e.type];return void 0!==e.data&&(u+=i?d.encode(String(e.data)):String(e.data)),a(""+u)},e.encodeBase64Packet=function(r,n){var o="b"+e.packets[r.type];if(x&&r.data instanceof t.Blob){var i=new FileReader;return i.onload=function(){var t=i.result.split(",")[1];n(o+t)},i.readAsDataURL(r.data)}var s;try{s=String.fromCharCode.apply(null,new Uint8Array(r.data))}catch(a){for(var c=new Uint8Array(r.data),u=new Array(c.length),p=0;p<c.length;p++)u[p]=c[p];s=String.fromCharCode.apply(null,u)}return o+=t.btoa(s),n(o)},e.decodePacket=function(t,r,n){if(void 0===t)return w;if("string"==typeof t){if("b"==t.charAt(0))return e.decodeBase64Packet(t.substr(1),r);if(n&&(t=a(t),t===!1))return w;var o=t.charAt(0);return Number(o)==o&&b[o]?t.length>1?{type:b[o],data:t.substring(1)}:{type:b[o]}:w}var i=new Uint8Array(t),o=i[0],s=f(t,1);return x&&"blob"===r&&(s=new x([s])),{type:b[o],data:s}},e.decodeBase64Packet=function(t,e){var r=b[t.charAt(0)];if(!u)return{type:r,data:{base64:!0,data:t.substr(1)}};var n=u.decode(t.substr(1));return"blob"===e&&x&&(n=new x([n])),{type:r,data:n}},e.encodePayload=function(t,r,n){function o(t){return t.length+":"+t}function i(t,n){e.encodePacket(t,!!s&&r,!0,function(t){n(null,o(t))})}"function"==typeof r&&(n=r,r=null);var s=h(t);return r&&s?x&&!m?e.encodePayloadAsBlob(t,n):e.encodePayloadAsArrayBuffer(t,n):t.length?void c(t,i,function(t,e){return n(e.join(""))}):n("0:")},e.decodePayload=function(t,r,n){if("string"!=typeof t)return e.decodePayloadAsBinary(t,r,n);"function"==typeof r&&(n=r,r=null);var o;if(""==t)return n(w,0,1);for(var i,s,a="",c=0,u=t.length;c<u;c++){var p=t.charAt(c);if(":"!=p)a+=p;else{if(""==a||a!=(i=Number(a)))return n(w,0,1);if(s=t.substr(c+1,i),a!=s.length)return n(w,0,1);if(s.length){if(o=e.decodePacket(s,r,!0),w.type==o.type&&w.data==o.data)return n(w,0,1);var h=n(o,c+i,u);if(!1===h)return}c+=i,a=""}}return""!=a?n(w,0,1):void 0},e.encodePayloadAsArrayBuffer=function(t,r){function n(t,r){e.encodePacket(t,!0,!0,function(t){return r(null,t)})}return t.length?void c(t,n,function(t,e){var n=e.reduce(function(t,e){var r;return r="string"==typeof e?e.length:e.byteLength,t+r.toString().length+r+2},0),o=new Uint8Array(n),i=0;return e.forEach(function(t){var e="string"==typeof t,r=t;if(e){for(var n=new Uint8Array(t.length),s=0;s<t.length;s++)n[s]=t.charCodeAt(s);r=n.buffer}e?o[i++]=0:o[i++]=1;for(var a=r.byteLength.toString(),s=0;s<a.length;s++)o[i++]=parseInt(a[s]);o[i++]=255;for(var n=new Uint8Array(r),s=0;s<n.length;s++)o[i++]=n[s]}),r(o.buffer)}):r(new ArrayBuffer(0))},e.encodePayloadAsBlob=function(t,r){function n(t,r){e.encodePacket(t,!0,!0,function(t){var e=new Uint8Array(1);if(e[0]=1,"string"==typeof t){for(var n=new Uint8Array(t.length),o=0;o<t.length;o++)n[o]=t.charCodeAt(o);t=n.buffer,e[0]=0}for(var i=t instanceof ArrayBuffer?t.byteLength:t.size,s=i.toString(),a=new Uint8Array(s.length+1),o=0;o<s.length;o++)a[o]=parseInt(s[o]);if(a[s.length]=255,x){var c=new x([e.buffer,a.buffer,t]);r(null,c)}})}c(t,n,function(t,e){return r(new x(e))})},e.decodePayloadAsBinary=function(t,r,n){"function"==typeof r&&(n=r,r=null);for(var o=t,i=[],s=!1;o.byteLength>0;){for(var a=new Uint8Array(o),c=0===a[0],u="",p=1;255!=a[p];p++){if(u.length>310){s=!0;break}u+=a[p]}if(s)return n(w,0,1);o=f(o,2+u.length),u=parseInt(u);var h=f(o,0,u);if(c)try{h=String.fromCharCode.apply(null,new Uint8Array(h))}catch(l){var d=new Uint8Array(h);h="";for(var p=0;p<d.length;p++)h+=String.fromCharCode(d[p])}i.push(h),o=f(o,u)}var y=i.length;i.forEach(function(t,o){n(e.decodePacket(t,r,!0),o,y)})}}).call(e,function(){return this}())},function(t,e){t.exports=Object.keys||function(t){var e=[],r=Object.prototype.hasOwnProperty;for(var n in t)r.call(t,n)&&e.push(n);return e}},function(t,e,r){(function(e){function n(t){function r(t){if(!t)return!1;if(e.Buffer&&e.Buffer.isBuffer&&e.Buffer.isBuffer(t)||e.ArrayBuffer&&t instanceof ArrayBuffer||e.Blob&&t instanceof Blob||e.File&&t instanceof File)return!0;if(o(t)){for(var n=0;n<t.length;n++)if(r(t[n]))return!0}else if(t&&"object"==typeof t){t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON());for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&r(t[i]))return!0}return!1}return r(t)}var o=r(12);t.exports=n}).call(e,function(){return this}())},function(t,e){t.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},function(t,e){t.exports=function(t,e,r){var n=t.byteLength;if(e=e||0,r=r||n,t.slice)return t.slice(e,r);if(e<0&&(e+=n),r<0&&(r+=n),r>n&&(r=n),e>=n||e>=r||0===n)return new ArrayBuffer(0);for(var o=new Uint8Array(t),i=new Uint8Array(r-e),s=e,a=0;s<r;s++,a++)i[a]=o[s];return i.buffer}},function(t,e){function r(t,e,r){function o(t,n){if(o.count<=0)throw new Error("after called too many times");--o.count,t?(i=!0,e(t),e=r):0!==o.count||i||e(null,n)}var i=!1;return r=r||n,o.count=t,0===t?e():o}function n(){}t.exports=r},function(t,e,r){var n;(function(t,o){!function(i){function s(t){for(var e,r,n=[],o=0,i=t.length;o<i;)e=t.charCodeAt(o++),e>=55296&&e<=56319&&o<i?(r=t.charCodeAt(o++),56320==(64512&r)?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),o--)):n.push(e);return n}function a(t){for(var e,r=t.length,n=-1,o="";++n<r;)e=t[n],e>65535&&(e-=65536,o+=b(e>>>10&1023|55296),e=56320|1023&e),o+=b(e);return o}function c(t,e){return b(t>>e&63|128)}function u(t){if(0==(4294967168&t))return b(t);var e="";return 0==(4294965248&t)?e=b(t>>6&31|192):0==(4294901760&t)?(e=b(t>>12&15|224),e+=c(t,6)):0==(4292870144&t)&&(e=b(t>>18&7|240),e+=c(t,12),e+=c(t,6)),e+=b(63&t|128)}function p(t){for(var e,r=s(t),n=r.length,o=-1,i="";++o<n;)e=r[o],i+=u(e);return i}function h(){if(v>=m)throw Error("Invalid byte index");var t=255&g[v];if(v++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function f(){var t,e,r,n,o;if(v>m)throw Error("Invalid byte index");if(v==m)return!1;if(t=255&g[v],v++,0==(128&t))return t;if(192==(224&t)){var e=h();if(o=(31&t)<<6|e,o>=128)return o;throw Error("Invalid continuation byte")}if(224==(240&t)){if(e=h(),r=h(),o=(15&t)<<12|e<<6|r,o>=2048)return o;throw Error("Invalid continuation byte")}if(240==(248&t)&&(e=h(),r=h(),n=h(),o=(15&t)<<18|e<<12|r<<6|n,o>=65536&&o<=1114111))return o;throw Error("Invalid WTF-8 detected")}function l(t){g=s(t),m=g.length,v=0;for(var e,r=[];(e=f())!==!1;)r.push(e);return a(r)}var d="object"==typeof e&&e,y=("object"==typeof t&&t&&t.exports==d&&t,"object"==typeof o&&o);y.global!==y&&y.window!==y||(i=y);var g,m,v,b=String.fromCharCode,w={version:"1.0.0",encode:p,decode:l};n=function(){return w}.call(e,r,e,t),!(void 0!==n&&(t.exports=n))}(this)}).call(e,r(16)(t),function(){return this}())},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e){!function(){"use strict";for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=new Uint8Array(256),n=0;n<t.length;n++)r[t.charCodeAt(n)]=n;e.encode=function(e){var r,n=new Uint8Array(e),o=n.length,i="";for(r=0;r<o;r+=3)i+=t[n[r]>>2],i+=t[(3&n[r])<<4|n[r+1]>>4],i+=t[(15&n[r+1])<<2|n[r+2]>>6],i+=t[63&n[r+2]];return o%3===2?i=i.substring(0,i.length-1)+"=":o%3===1&&(i=i.substring(0,i.length-2)+"=="),i},e.decode=function(t){var e,n,o,i,s,a=.75*t.length,c=t.length,u=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var p=new ArrayBuffer(a),h=new Uint8Array(p);for(e=0;e<c;e+=4)n=r[t.charCodeAt(e)],o=r[t.charCodeAt(e+1)],i=r[t.charCodeAt(e+2)],s=r[t.charCodeAt(e+3)],h[u++]=n<<2|o>>4,h[u++]=(15&o)<<4|i>>2,h[u++]=(3&i)<<6|63&s;return p}}()},function(t,e){(function(e){function r(t){for(var e=0;e<t.length;e++){var r=t[e];if(r.buffer instanceof ArrayBuffer){var n=r.buffer;if(r.byteLength!==n.byteLength){var o=new Uint8Array(r.byteLength);o.set(new Uint8Array(n,r.byteOffset,r.byteLength)),n=o.buffer}t[e]=n}}}function n(t,e){e=e||{};var n=new i;r(t);for(var o=0;o<t.length;o++)n.append(t[o]);return e.type?n.getBlob(e.type):n.getBlob()}function o(t,e){return r(t),new Blob(t,e||{})}var i=e.BlobBuilder||e.WebKitBlobBuilder||e.MSBlobBuilder||e.MozBlobBuilder,s=function(){try{var t=new Blob(["hi"]);return 2===t.size}catch(e){return!1}}(),a=s&&function(){try{var t=new Blob([new Uint8Array([1,2])]);return 2===t.size}catch(e){return!1}}(),c=i&&i.prototype.append&&i.prototype.getBlob;t.exports=function(){return s?a?e.Blob:o:c?n:void 0}()}).call(e,function(){return this}())},function(t,e,r){function n(t){if(t)return o(t)}function o(t){for(var e in n.prototype)t[e]=n.prototype[e];return t}t.exports=n,n.prototype.on=n.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},n.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var n,o=0;o<r.length;o++)if(n=r[o],n===e||n.fn===e){r.splice(o,1);break}return this},n.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),r=this._callbacks["$"+t];if(r){r=r.slice(0);for(var n=0,o=r.length;n<o;++n)r[n].apply(this,e)}return this},n.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},n.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e){e.encode=function(t){var e="";for(var r in t)t.hasOwnProperty(r)&&(e.length&&(e+="&"),e+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e},e.decode=function(t){for(var e={},r=t.split("&"),n=0,o=r.length;n<o;n++){var i=r[n].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e}},function(t,e){t.exports=function(t,e){var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},function(t,e){"use strict";function r(t){var e="";do e=s[t%a]+e,t=Math.floor(t/a);while(t>0);return e}function n(t){var e=0;for(p=0;p<t.length;p++)e=e*a+c[t.charAt(p)];return e}function o(){var t=r(+new Date);return t!==i?(u=0,i=t):t+"."+r(u++)}for(var i,s="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),a=64,c={},u=0,p=0;p<a;p++)c[s[p]]=p;o.encode=r,o.decode=n,t.exports=o},function(t,e,r){(function(n){function o(){return"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function i(){var t=arguments,r=this.useColors;if(t[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+t[0]+(r?"%c ":" ")+"+"+e.humanize(this.diff),!r)return t;var n="color: "+this.color;t=[t[0],n,"color: inherit"].concat(Array.prototype.slice.call(t,1));var o=0,i=0;return t[0].replace(/%[a-z%]/g,function(t){"%%"!==t&&(o++,"%c"===t&&(i=o))}),t.splice(i,0,n),t}function s(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t;
}catch(r){}}function c(){try{return e.storage.debug}catch(t){}if("undefined"!=typeof n&&"env"in n)return n.env.DEBUG}function u(){try{return window.localStorage}catch(t){}}e=t.exports=r(25),e.log=s,e.formatArgs=i,e.save=a,e.load=c,e.useColors=o,e.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:u(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},e.enable(c())}).call(e,r(24))},function(t,e){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function o(t){if(p===setTimeout)return setTimeout(t,0);if((p===r||!p)&&setTimeout)return p=setTimeout,setTimeout(t,0);try{return p(t,0)}catch(e){try{return p.call(null,t,0)}catch(e){return p.call(this,t,0)}}}function i(t){if(h===clearTimeout)return clearTimeout(t);if((h===n||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{return h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}function s(){y&&l&&(y=!1,l.length?d=l.concat(d):g=-1,d.length&&a())}function a(){if(!y){var t=o(s);y=!0;for(var e=d.length;e;){for(l=d,d=[];++g<e;)l&&l[g].run();g=-1,e=d.length}l=null,y=!1,i(t)}}function c(t,e){this.fun=t,this.array=e}function u(){}var p,h,f=t.exports={};!function(){try{p="function"==typeof setTimeout?setTimeout:r}catch(t){p=r}try{h="function"==typeof clearTimeout?clearTimeout:n}catch(t){h=n}}();var l,d=[],y=!1,g=-1;f.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];d.push(new c(t,e)),1!==d.length||y||o(a)},c.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=u,f.addListener=u,f.once=u,f.off=u,f.removeListener=u,f.removeAllListeners=u,f.emit=u,f.binding=function(t){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(t){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(t,e,r){function n(){return e.colors[p++%e.colors.length]}function o(t){function r(){}function o(){var t=o,r=+new Date,i=r-(u||r);t.diff=i,t.prev=u,t.curr=r,u=r,null==t.useColors&&(t.useColors=e.useColors()),null==t.color&&t.useColors&&(t.color=n());for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=e.coerce(s[0]),"string"!=typeof s[0]&&(s=["%o"].concat(s));var c=0;s[0]=s[0].replace(/%([a-z%])/g,function(r,n){if("%%"===r)return r;c++;var o=e.formatters[n];if("function"==typeof o){var i=s[c];r=o.call(t,i),s.splice(c,1),c--}return r}),s=e.formatArgs.apply(t,s);var p=o.log||e.log||console.log.bind(console);p.apply(t,s)}r.enabled=!1,o.enabled=!0;var i=e.enabled(t)?o:r;return i.namespace=t,i}function i(t){e.save(t);for(var r=(t||"").split(/[\s,]+/),n=r.length,o=0;o<n;o++)r[o]&&(t=r[o].replace(/[\\^$+?.()|[\]{}]/g,"\\$&").replace(/\*/g,".*?"),"-"===t[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")))}function s(){e.enable("")}function a(t){var r,n;for(r=0,n=e.skips.length;r<n;r++)if(e.skips[r].test(t))return!1;for(r=0,n=e.names.length;r<n;r++)if(e.names[r].test(t))return!0;return!1}function c(t){return t instanceof Error?t.stack||t.message:t}e=t.exports=o.debug=o,e.coerce=c,e.disable=s,e.enable=i,e.enabled=a,e.humanize=r(26),e.names=[],e.skips=[],e.formatters={};var u,p=0},function(t,e){function r(t){if(t=String(t),!(t.length>1e4)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*p;case"days":case"day":case"d":return r*u;case"hours":case"hour":case"hrs":case"hr":case"h":return r*c;case"minutes":case"minute":case"mins":case"min":case"m":return r*a;case"seconds":case"second":case"secs":case"sec":case"s":return r*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function n(t){return t>=u?Math.round(t/u)+"d":t>=c?Math.round(t/c)+"h":t>=a?Math.round(t/a)+"m":t>=s?Math.round(t/s)+"s":t+"ms"}function o(t){return i(t,u,"day")||i(t,c,"hour")||i(t,a,"minute")||i(t,s,"second")||t+" ms"}function i(t,e,r){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+r:Math.ceil(t/e)+" "+r+"s"}var s=1e3,a=60*s,c=60*a,u=24*c,p=365.25*u;t.exports=function(t,e){e=e||{};var i=typeof t;if("string"===i&&t.length>0)return r(t);if("number"===i&&isNaN(t)===!1)return e["long"]?o(t):n(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e,r){(function(e){"use strict";function n(){}function o(t){i.call(this,t),this.query=this.query||{},a||(e.___eio||(e.___eio=[]),a=e.___eio),this.index=a.length;var r=this;a.push(function(t){r.onData(t)}),this.query.j=this.index,e.document&&e.addEventListener&&e.addEventListener("beforeunload",function(){r.script&&(r.script.onerror=n)},!1)}var i=r(7),s=r(21);t.exports=o;var a,c=/\n/g,u=/\\n/g;s(o,i),o.prototype.supportsBinary=!1,o.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),i.prototype.doClose.call(this)},o.prototype.doPoll=function(){var t=this,e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(e){t.onError("jsonp poll error",e)};var r=document.getElementsByTagName("script")[0];r?r.parentNode.insertBefore(e,r):(document.head||document.body).appendChild(e),this.script=e;var n="undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent);n&&setTimeout(function(){var t=document.createElement("iframe");document.body.appendChild(t),document.body.removeChild(t)},100)},o.prototype.doWrite=function(t,e){function r(){n(),e()}function n(){if(o.iframe)try{o.form.removeChild(o.iframe)}catch(t){o.onError("jsonp polling iframe removal error",t)}try{var e='<iframe src="javascript:0" name="'+o.iframeId+'">';i=document.createElement(e)}catch(t){i=document.createElement("iframe"),i.name=o.iframeId,i.src="javascript:0"}i.id=o.iframeId,o.form.appendChild(i),o.iframe=i}var o=this;if(!this.form){var i,s=document.createElement("form"),a=document.createElement("textarea"),p=this.iframeId="eio_iframe_"+this.index;s.className="socketio",s.style.position="absolute",s.style.top="-1000px",s.style.left="-1000px",s.target=p,s.method="POST",s.setAttribute("accept-charset","utf-8"),a.name="d",s.appendChild(a),document.body.appendChild(s),this.form=s,this.area=a}this.form.action=this.uri(),n(),t=t.replace(u,"\\\n"),this.area.value=t.replace(c,"\\n");try{this.form.submit()}catch(h){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===o.iframe.readyState&&r()}:this.iframe.onload=r}}).call(e,function(){return this}())},function(t,e,r){(function(e){"use strict";function n(t){var e=t&&t.forceBase64;e&&(this.supportsBinary=!1),this.perMessageDeflate=t.perMessageDeflate,this.usingBrowserWebSocket=h&&!t.forceNode,this.usingBrowserWebSocket||(l=o),i.call(this,t)}var o,i=r(8),s=r(9),a=r(20),c=r(21),u=r(22),p=r(23)("engine.io-client:websocket"),h=e.WebSocket||e.MozWebSocket;if("undefined"==typeof window)try{o=r(29)}catch(f){}var l=h;l||"undefined"!=typeof window||(l=o),t.exports=n,c(n,i),n.prototype.name="websocket",n.prototype.supportsBinary=!0,n.prototype.doOpen=function(){if(this.check()){var t=this.uri(),e=void 0,r={agent:this.agent,perMessageDeflate:this.perMessageDeflate};r.pfx=this.pfx,r.key=this.key,r.passphrase=this.passphrase,r.cert=this.cert,r.ca=this.ca,r.ciphers=this.ciphers,r.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(r.headers=this.extraHeaders),this.localAddress&&(r.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket?new l(t):new l(t,e,r)}catch(n){return this.emit("error",n)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},n.prototype.addEventListeners=function(){var t=this;this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(){t.onClose()},this.ws.onmessage=function(e){t.onData(e.data)},this.ws.onerror=function(e){t.onError("websocket error",e)}},n.prototype.write=function(t){function r(){n.emit("flush"),setTimeout(function(){n.writable=!0,n.emit("drain")},0)}var n=this;this.writable=!1;for(var o=t.length,i=0,a=o;i<a;i++)!function(t){s.encodePacket(t,n.supportsBinary,function(i){if(!n.usingBrowserWebSocket){var s={};if(t.options&&(s.compress=t.options.compress),n.perMessageDeflate){var a="string"==typeof i?e.Buffer.byteLength(i):i.length;a<n.perMessageDeflate.threshold&&(s.compress=!1)}}try{n.usingBrowserWebSocket?n.ws.send(i):n.ws.send(i,s)}catch(c){p("websocket closed before onclose event")}--o||r()})}(t[i])},n.prototype.onClose=function(){i.prototype.onClose.call(this)},n.prototype.doClose=function(){"undefined"!=typeof this.ws&&this.ws.close()},n.prototype.uri=function(){var t=this.query||{},e=this.secure?"wss":"ws",r="";this.port&&("wss"===e&&443!==Number(this.port)||"ws"===e&&80!==Number(this.port))&&(r=":"+this.port),this.timestampRequests&&(t[this.timestampParam]=u()),this.supportsBinary||(t.b64=1),t=a.encode(t),t.length&&(t="?"+t);var n=this.hostname.indexOf(":")!==-1;return e+"://"+(n?"["+this.hostname+"]":this.hostname)+r+this.path+t},n.prototype.check=function(){return!(!l||"__initialize"in l&&this.name===n.prototype.name)}}).call(e,function(){return this}())},function(t,e){},function(t,e){var r=[].indexOf;t.exports=function(t,e){if(r)return t.indexOf(e);for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1}},function(t,e){var r=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,n=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(t){var e=t,o=t.indexOf("["),i=t.indexOf("]");o!=-1&&i!=-1&&(t=t.substring(0,o)+t.substring(o,i).replace(/:/g,";")+t.substring(i,t.length));for(var s=r.exec(t||""),a={},c=14;c--;)a[n[c]]=s[c]||"";return o!=-1&&i!=-1&&(a.source=e,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a}},function(t,e){(function(e){var r=/^[\],:{}\s]*$/,n=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,o=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,i=/(?:^|:|,)(?:\s*\[)+/g,s=/^\s+/,a=/\s+$/;t.exports=function(t){return"string"==typeof t&&t?(t=t.replace(s,"").replace(a,""),e.JSON&&JSON.parse?JSON.parse(t):r.test(t.replace(n,"@").replace(o,"]").replace(i,""))?new Function("return "+t)():void 0):null}}).call(e,function(){return this}())}])});})();
(function(ns){var CLIENT_VERSION = "2.5.17";var CLIENT_TYPE ="WEB";ns.wrapper=function(goog,wd){
var h,n=this;function p(a){return void 0!==a}function aa(){}function ba(a){a.ac=function(){return a.kf?a.kf:a.kf=new a}}
function ca(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function ea(a){return"array"==ca(a)}function q(a){return"string"==typeof a}function fa(a){return"number"==typeof a}function ga(a){return"function"==ca(a)}function ha(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function ia(a,b,c){return a.call.apply(a.bind,arguments)}
function ja(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function r(a,b,c){r=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ia:ja;return r.apply(null,arguments)}var ka=Date.now||function(){return+new Date};
function la(a,b){var c=a.split("."),d=n;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)!c.length&&p(b)?d[e]=b:d=d[e]?d[e]:d[e]={}}function ma(a,b){function c(){}c.prototype=b.prototype;a.Ah=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.sh=function(a,c,f){for(var d=Array(arguments.length-2),e=2;e<arguments.length;e++)d[e-2]=arguments[e];return b.prototype[c].apply(a,d)}};var na={};function oa(a){this.M=a}oa.prototype.Qf=function(a){this.M.bind(this.M.Ha.Na,a)};oa.prototype.addAuthTokenListener=oa.prototype.Qf;oa.prototype.Hg=function(){this.M.unbind(this.M.Ha.Na,listener)};oa.prototype.removeAuthTokenListener=oa.prototype.Hg;oa.prototype.Pf=function(a){this.M.bind(this.M.Ha.cd,a)};oa.prototype.addAuthRevokListener=oa.prototype.Pf;oa.prototype.Gg=function(){this.M.unbind(this.M.Ha.cd,listener)};oa.prototype.removeAuthRevokListener=oa.prototype.Gg;function pa(a){return/^\s*$/.test(a)?!1:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/(?:"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)[\s\u2028\u2029]*(?=:|,|]|}|$)/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,""))}function qa(a){a=String(a);if(pa(a))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);}function ra(){this.Od=void 0}
function sa(a,b,c){if(null==b)c.push("null");else{if("object"==typeof b){if(ea(b)){var d=b;b=d.length;c.push("[");for(var e="",f=0;f<b;f++)c.push(e),e=d[f],sa(a,a.Od?a.Od.call(d,String(f),e):e,c),e=",";c.push("]");return}if(b instanceof String||b instanceof Number||b instanceof Boolean)b=b.valueOf();else{c.push("{");f="";for(d in b)Object.prototype.hasOwnProperty.call(b,d)&&(e=b[d],"function"!=typeof e&&(c.push(f),ta(d,c),c.push(":"),sa(a,a.Od?a.Od.call(b,d,e):e,c),f=","));c.push("}");return}}switch(typeof b){case "string":ta(b,
c);break;case "number":c.push(isFinite(b)&&!isNaN(b)?String(b):"null");break;case "boolean":c.push(String(b));break;case "function":c.push("null");break;default:throw Error("Unknown type: "+typeof b);}}}var ua={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"},va=/\uffff/.test("\uffff")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g;
function ta(a,b){b.push('"',a.replace(va,function(a){var b=ua[a];b||(b="\\u"+(a.charCodeAt(0)|65536).toString(16).substr(1),ua[a]=b);return b}),'"')};function wa(a){return"undefined"!==typeof JSON&&p(JSON.parse)?JSON.parse(a):qa(a)}function t(a){if("undefined"!==typeof JSON&&p(JSON.stringify))a=JSON.stringify(a);else{var b=[];sa(new ra,a,b);a=b.join("")}return a};function xa(){this.nb=-1};function ya(){this.nb=64;this.W=[];this.ie=[];this.Nf=[];this.Jd=[];this.Jd[0]=128;for(var a=1;a<this.nb;++a)this.Jd[a]=0;this.ae=this.gc=0;this.reset()}ma(ya,xa);ya.prototype.reset=function(){this.W[0]=1732584193;this.W[1]=4023233417;this.W[2]=2562383102;this.W[3]=271733878;this.W[4]=3285377520;this.ae=this.gc=0};
function za(a,b,c){c||(c=0);var d=a.Nf;if(q(b))for(var e=0;16>e;e++)d[e]=b.charCodeAt(c)<<24|b.charCodeAt(c+1)<<16|b.charCodeAt(c+2)<<8|b.charCodeAt(c+3),c+=4;else for(e=0;16>e;e++)d[e]=b[c]<<24|b[c+1]<<16|b[c+2]<<8|b[c+3],c+=4;for(e=16;80>e;e++){var f=d[e-3]^d[e-8]^d[e-14]^d[e-16];d[e]=(f<<1|f>>>31)&4294967295}b=a.W[0];c=a.W[1];for(var g=a.W[2],k=a.W[3],l=a.W[4],m,e=0;80>e;e++)40>e?20>e?(f=k^c&(g^k),m=1518500249):(f=c^g^k,m=1859775393):60>e?(f=c&g|k&(c|g),m=2400959708):(f=c^g^k,m=3395469782),f=(b<<
5|b>>>27)+f+l+m+d[e]&4294967295,l=k,k=g,g=(c<<30|c>>>2)&4294967295,c=b,b=f;a.W[0]=a.W[0]+b&4294967295;a.W[1]=a.W[1]+c&4294967295;a.W[2]=a.W[2]+g&4294967295;a.W[3]=a.W[3]+k&4294967295;a.W[4]=a.W[4]+l&4294967295}
ya.prototype.update=function(a,b){if(null!=a){p(b)||(b=a.length);for(var c=b-this.nb,d=0,e=this.ie,f=this.gc;d<b;){if(0==f)for(;d<=c;)za(this,a,d),d+=this.nb;if(q(a))for(;d<b;){if(e[f]=a.charCodeAt(d),++f,++d,f==this.nb){za(this,e);f=0;break}}else for(;d<b;)if(e[f]=a[d],++f,++d,f==this.nb){za(this,e);f=0;break}}this.gc=f;this.ae+=b}};
ya.prototype.digest=function(){var a=[],b=8*this.ae;56>this.gc?this.update(this.Jd,56-this.gc):this.update(this.Jd,this.nb-(this.gc-56));for(var c=this.nb-1;56<=c;c--)this.ie[c]=b&255,b/=256;za(this,this.ie);for(c=b=0;5>c;c++)for(var d=24;0<=d;d-=8)a[b]=this.W[c]>>d&255,++b;return a};function Aa(a){if(Error.captureStackTrace)Error.captureStackTrace(this,Aa);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}ma(Aa,Error);Aa.prototype.name="CustomError";function Ba(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^ka()).toString(36)};var Ca=Array.prototype.indexOf?function(a,b,c){return Array.prototype.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(q(a))return q(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Da=Array.prototype.forEach?function(a,b,c){Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=q(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Ea=Array.prototype.filter?function(a,b,c){return Array.prototype.filter.call(a,
b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,g=q(a)?a.split(""):a,k=0;k<d;k++)if(k in g){var l=g[k];b.call(c,l,k,a)&&(e[f++]=l)}return e},Fa=Array.prototype.map?function(a,b,c){return Array.prototype.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=q(a)?a.split(""):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e},Ga=Array.prototype.reduce?function(a,b,c,d){d&&(b=r(b,d));return Array.prototype.reduce.call(a,b,c)}:function(a,b,c,d){var e=c;Da(a,function(c,g){e=b.call(d,
e,c,g,a)});return e},Ha=Array.prototype.every?function(a,b,c){return Array.prototype.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=q(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(c,e[f],f,a))return!1;return!0};function Ia(a,b){var c=Ja(a,b,void 0);return 0>c?null:q(a)?a.charAt(c):a[c]}function Ja(a,b,c){for(var d=a.length,e=q(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return f;return-1}function Ka(a,b){var c=Ca(a,b);0<=c&&Array.prototype.splice.call(a,c,1)}
function La(a,b){a.sort(b||Ma)}function Ma(a,b){return a>b?1:a<b?-1:0};var Na;a:{var Oa=n.navigator;if(Oa){var Pa=Oa.userAgent;if(Pa){Na=Pa;break a}}Na=""};function u(a,b){for(var c in a)b.call(void 0,a[c],c,a)}function Qa(a,b){var c={},d;for(d in a)c[d]=b.call(void 0,a[d],d,a);return c}function Ra(a,b){for(var c in a)if(!b.call(void 0,a[c],c,a))return!1;return!0}function Sa(a){var b=0,c;for(c in a)b++;return b}function Ta(a){for(var b in a)return b}function Ua(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function Va(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function Wa(a,b){return null!==a&&b in a}
function Xa(a,b){for(var c in a)if(a[c]==b)return!0;return!1}function Ya(a,b,c){for(var d in a)if(b.call(c,a[d],d,a))return d}function Za(a,b){var c=Ya(a,b,void 0);return c&&a[c]}function $a(a){for(var b in a)return!1;return!0}function ab(a){var b={},c;for(c in a)b[c]=a[c];return b}var bb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function cb(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<bb.length;f++)c=bb[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var db=null,eb=null;function fb(a){var b="";gb(a,function(a){b+=String.fromCharCode(a)});return b}function gb(a,b){function c(b){for(;d<a.length;){var c=a.charAt(d++),e=eb[c];if(null!=e)return e;if(!/^[\s\xa0]*$/.test(c))throw Error("Unknown base64 encoding at char: "+c);}return b}hb();for(var d=0;;){var e=c(-1),f=c(0),g=c(64),k=c(64);if(64===k&&-1===e)break;b(e<<2|f>>4);64!=g&&(b(f<<4&240|g>>2),64!=k&&b(g<<6&192|k))}}
function hb(){if(!db){db={};eb={};for(var a=0;65>a;a++)db[a]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(a),eb[db[a]]=a,62<=a&&(eb["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(a)]=a)}};var ib=function(){var a=1;return function(){return a++}}();function v(a,b){if(!a)throw jb(b);}function jb(a){return Error("Wilddog ("+wilddog.Se+") INTERNAL ASSERT FAILED: "+a)}function kb(a){try{return"NODE"==CLIENT_TYPE?(new Buffer(a,"base64")).toString("utf8"):"undefined"!==typeof atob?atob(a):fb(a)}catch(b){lb("base64Decode failed: ",b)}return null}
function mb(a){for(var b=[],c=0,d=0;d<a.length;d++){var e=a.charCodeAt(d);55296<=e&&56319>=e&&(e-=55296,d++,v(d<a.length,"Surrogate pair missing trail surrogate."),e=65536+(e<<10)+(a.charCodeAt(d)-56320));128>e?b[c++]=e:(2048>e?b[c++]=e>>6|192:(65536>e?b[c++]=e>>12|224:(b[c++]=e>>18|240,b[c++]=e>>12&63|128),b[c++]=e>>6&63|128),b[c++]=e&63|128)}a=new ya;a.update(b);b=a.digest();hb();a=db;c=[];for(d=0;d<b.length;d+=3){var f=b[d],g=(e=d+1<b.length)?b[d+1]:0,k=d+2<b.length,l=k?b[d+2]:0,m=f>>2,f=(f&3)<<
4|g>>4,g=(g&15)<<2|l>>6,l=l&63;k||(l=64,e||(g=64));c.push(a[m],a[f],a[g],a[l])}return c.join("")}function nb(a){for(var b="",c=0;c<arguments.length;c++)var d=arguments[c],e=ca(d),b="array"==e||"object"==e&&"number"==typeof d.length?b+nb.apply(null,arguments[c]):"object"===typeof arguments[c]?b+t(arguments[c]):b+arguments[c],b=b+" ";return b}var ob=null,pb=!0;function lb(a){!0===pb&&(pb=!1,null===ob&&!0===w.get("logging_enabled")&&Wilddog.$e(!0));if(ob){var b=nb.apply(null,arguments);ob(b)}}
function qb(a){return function(){lb(a,arguments)}}function rb(a){if("undefined"!==typeof console){var b="WILDDOG INTERNAL ERROR: "+nb.apply(null,arguments);"undefined"!==typeof console.error?console.error(b):console.log(b)}}function sb(a){var b=nb.apply(null,arguments);throw Error("WILDDOG FATAL ERROR: "+b);}function x(a){if("undefined"!==typeof console){var b="WILDDOG WARNING: "+nb.apply(null,arguments);"undefined"!==typeof console.warn?console.warn(b):console.log(b)}}
function tb(a){var b="",c="",d="",e="",f=!0,g="https",k=443;if(q(a)){var l=a.indexOf("//");0<=l&&(g=a.substring(0,l-1),a=a.substring(l+2));l=a.indexOf("/");-1===l&&(l=a.length);b=a.substring(0,l);e="";a=a.substring(l).split("/");for(l=0;l<a.length;l++)if(0<a[l].length){var m=a[l];try{m=decodeURIComponent(m.replace(/\+/g," "))}catch(A){}e+="/"+m}a=b.split(".");3===a.length?(c=a[1],d=a[0].toLowerCase()):2===a.length&&(c=a[0]);l=b.indexOf(":");0<=l&&(f="https"===g||"wss"===g,k=b.substring(l+1),isFinite(k)&&
(k=String(k)),k=q(k)?/^\s*-?0x/i.test(k)?parseInt(k,16):parseInt(k,10):NaN)}return{host:b,port:k,domain:c,bh:d,Pb:f,scheme:g,Lb:e}}function ub(a){return fa(a)&&(a!=a||a==Number.POSITIVE_INFINITY||a==Number.NEGATIVE_INFINITY)}function vb(a,b){if(a===b)return 0;if("[MIN_NAME]"===a||"[MAX_NAME]"===b)return-1;if("[MIN_NAME]"===b||"[MAX_NAME]"===a)return 1;var c=wb(a),d=wb(b);return null!==c?null!==d?0==c-d?a.length-b.length:c-d:-1:null!==d?1:a<b?-1:1}
function xb(a){if("object"!==typeof a||null===a)return t(a);var b=[],c;for(c in a)b.push(c);b.sort();c="{";for(var d=0;d<b.length;d++)0!==d&&(c+=","),c+=t(b[d]),c+=":",c+=xb(a[b[d]]);return c+"}"}function yb(a,b){if(ea(a))for(var c=0;c<a.length;++c)b(c,a[c]);else u(a,b)}
function zb(a){v(!ub(a),"Invalid JSON number");var b,c,d,e;0===a?(d=c=0,b=-Infinity===1/a?1:0):(b=0>a,a=Math.abs(a),a>=Math.pow(2,-1022)?(d=Math.min(Math.floor(Math.log(a)/Math.LN2),1023),c=d+1023,d=Math.round(a*Math.pow(2,52-d)-Math.pow(2,52))):(c=0,d=Math.round(a/Math.pow(2,-1074))));e=[];for(a=52;a;--a)e.push(d%2?1:0),d=Math.floor(d/2);for(a=11;a;--a)e.push(c%2?1:0),c=Math.floor(c/2);e.push(b?1:0);e.reverse();b=e.join("");c="";for(a=0;64>a;a+=8)d=parseInt(b.substr(a,8),2).toString(16),1===d.length&&
(d="0"+d),c+=d;return c.toLowerCase()}var Ab=/^-?\d{1,10}$/;function wb(a){return Ab.test(a)&&(a=Number(a),-2147483648<=a&&2147483647>=a)?a:null}function Bb(a){try{a()}catch(b){setTimeout(function(){x("Exception was thrown by user callback.",b.stack||"");throw b;},Math.floor(0))}}function y(a,b){if(ga(a)){var c=Array.prototype.slice.call(arguments,1).slice();Bb(function(){a.apply(null,c)})}};function Cb(a){v(ea(a)&&0<a.length,"Requires a non-empty array");this.Rf=a;this.tb={}}Cb.prototype.be=function(a,b){for(var c=this.tb[a]||[],d=0;d<c.length;d++)if(c[d].Ff){var e=c.splice(d,1)[0];e.yb.apply(e.context,Array.prototype.slice.call(arguments,1))}else c[d].yb.apply(c[d].context,Array.prototype.slice.call(arguments,1))};Cb.prototype.Hb=function(a,b,c){Db(this,a);this.tb[a]=this.tb[a]||[];this.tb[a].push({yb:b,context:c,Ff:!1});(a=this.od(a))&&b.apply(c,[a])};
Cb.prototype.Hd=function(a,b,c){Db(this,a);var d=this.od(a);d?b.apply(c,[d]):(this.tb[a]=this.tb[a]||[],this.tb[a].push({yb:b,context:c,Ff:!0}))};Cb.prototype.mc=function(a,b,c){Db(this,a);a=this.tb[a]||[];for(var d=0;d<a.length;d++)if(a[d].yb===b&&(!c||c===a[d].context)){a.splice(d,1);break}};function Db(a,b){v(Ia(a.Rf,function(a){return a===b}),"Unknown event: "+b)};function z(a,b){Cb.call(this,["authStateChanged","authTokenExpired"]);this.Of={Ef:!1};this.Te={};Object.defineProperty(this,"name",{value:b,writable:!1});Object.defineProperty(this,"options",{value:a,writable:!1});this.INTERNAL=new oa(this)}ma(z,Cb);function Eb(a,b){z.prototype[a]=function(){return b(this)}}
z.prototype.dg=function(a,b){var c=!0,d;for(d in Fb)if(Fb.hasOwnProperty(d)&&Fb[d]===a){c=!1;break}if(c)throw Error("Unknown event "+a);this.Te[a]=b;switch(a){case Fb.Na:this.Of.Ef=b&&b.Ef}this.be(a,b)};z.prototype.emit=z.prototype.dg;z.prototype.Uf=function(a,b){this.Hd(a,b)};z.prototype.bindOnce=z.prototype.Uf;z.prototype.bind=function(a,b){this.Hb(a,b)};z.prototype.bind=z.prototype.bind;z.prototype.fh=function(a,b){this.mc(a,b)};z.prototype.unbind=z.prototype.fh;z.prototype.od=function(a){switch(a){case Fb.Na:return this.Te[Fb.Na]}return null};
var Fb={Na:"authStateChanged",cd:"authTokenExpired"};z.prototype.Ha=Fb;function Gb(a,b,c,d,e,f){this.uid=e;this.displayName=a;this.phone=f;this.email=b;this.photoURL=c;this.providerId=d};function Hb(a,b,c){this.ga=c;this.bg=a;this.Kg=b;this.Ed=0;this.sd=null}Hb.prototype.get=function(){var a;0<this.Ed?(this.Ed--,a=this.sd,this.sd=a.next,a.next=null):a=this.bg();return a};Hb.prototype.put=function(a){this.Kg(a);this.Ed<this.ga&&(this.Ed++,a.next=this.sd,this.sd=a)};function Ib(){this.ee=this.wc=null}var Kb=new Hb(function(){return new Jb},function(a){a.reset()},100);Ib.prototype.add=function(a,b){var c=Kb.get();c.set(a,b);this.ee?this.ee.next=c:this.wc=c;this.ee=c};Ib.prototype.remove=function(){var a=null;this.wc&&(a=this.wc,this.wc=this.wc.next,this.wc||(this.ee=null),a.next=null);return a};function Jb(){this.next=this.scope=this.qe=null}Jb.prototype.set=function(a,b){this.qe=a;this.scope=b;this.next=null};
Jb.prototype.reset=function(){this.next=this.scope=this.qe=null};function Lb(a){n.setTimeout(function(){throw a;},0)}var Mb;
function Nb(){var a=n.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&-1==Na.indexOf("Presto")&&(a=function(){var a=document.createElement("IFRAME");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=r(function(a){if(("*"==d||a.origin==
d)&&a.data==c)this.port1.onmessage()},this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&-1==Na.indexOf("Trident")&&-1==Na.indexOf("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(p(c.next)){c=c.next;var a=c.pb;c.pb=null;a()}};return function(a){d.next={pb:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(a){var b=
document.createElement("SCRIPT");b.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){n.setTimeout(a,0)}};function Ob(a,b){Pb||Qb();Rb||(Pb(),Rb=!0);Sb.add(a,b)}var Pb;function Qb(){var a=n.Promise;if(-1!=String(a).indexOf("[native code]")){var b=a.resolve(void 0);Pb=function(){b.then(Tb)}}else Pb=function(){var a=Tb,b;!(b=!ga(n.setImmediate))&&(b=n.Window&&n.Window.prototype)&&(b=-1==Na.indexOf("Edge")&&n.Window.prototype.setImmediate==n.setImmediate);b?(Mb||(Mb=Nb()),Mb(a)):n.setImmediate(a)}}var Rb=!1,Sb=new Ib;
function Tb(){for(var a;a=Sb.remove();){try{a.qe.call(a.scope)}catch(b){Lb(b)}Kb.put(a)}Rb=!1};function Ub(a,b){this.da=Vb;this.Cf=void 0;this.Vb=this.ob=this.Ea=null;this.pd=this.oe=!1;if(a!=aa)try{var c=this;a.call(b,function(a){Wb(c,Xb,a)},function(a){if(!(a instanceof Yb))try{if(a instanceof Error)throw a;throw Error("Promise rejected.");}catch(e){}Wb(c,Zb,a)})}catch(d){Wb(this,Zb,d)}}var Vb=0,Xb=2,Zb=3;function $b(){this.next=this.context=this.nc=this.Rc=this.w=null;this.Zc=!1}$b.prototype.reset=function(){this.context=this.nc=this.Rc=this.w=null;this.Zc=!1};
var ac=new Hb(function(){return new $b},function(a){a.reset()},100);function bc(a,b,c){var d=ac.get();d.Rc=a;d.nc=b;d.context=c;return d}Ub.prototype.then=function(a,b,c){return cc(this,ga(a)?a:null,ga(b)?b:null,c)};Ub.prototype.then=Ub.prototype.then;Ub.prototype.$goog_Thenable=!0;h=Ub.prototype;h.eh=function(a,b){return cc(this,null,a,b)};h.cancel=function(a){this.da==Vb&&Ob(function(){var b=new Yb(a);dc(this,b)},this)};
function dc(a,b){if(a.da==Vb)if(a.Ea){var c=a.Ea;if(c.ob){for(var d=0,e=null,f=null,g=c.ob;g&&(g.Zc||(d++,g.w==a&&(e=g),!(e&&1<d)));g=g.next)e||(f=g);e&&(c.da==Vb&&1==d?dc(c,b):(f?(d=f,d.next==c.Vb&&(c.Vb=d),d.next=d.next.next):ec(c),fc(c,e,Zb,b)))}a.Ea=null}else Wb(a,Zb,b)}function gc(a,b){a.ob||a.da!=Xb&&a.da!=Zb||hc(a);a.Vb?a.Vb.next=b:a.ob=b;a.Vb=b}
function cc(a,b,c,d){var e=bc(null,null,null);e.w=new Ub(function(a,g){e.Rc=b?function(c){try{var e=b.call(d,c);a(e)}catch(m){g(m)}}:a;e.nc=c?function(b){try{var e=c.call(d,b);!p(e)&&b instanceof Yb?g(b):a(e)}catch(m){g(m)}}:g});e.w.Ea=a;gc(a,e);return e.w}h.gh=function(a){this.da=Vb;Wb(this,Xb,a)};h.hh=function(a){this.da=Vb;Wb(this,Zb,a)};
function Wb(a,b,c){if(a.da==Vb){a===c&&(b=Zb,c=new TypeError("Promise cannot resolve to itself"));a.da=1;var d;a:{var e=c,f=a.gh,g=a.hh;if(e instanceof Ub)gc(e,bc(f||aa,g||null,a)),d=!0;else{var k;if(e)try{k=!!e.$goog_Thenable}catch(m){k=!1}else k=!1;if(k)e.then(f,g,a),d=!0;else{if(ha(e))try{var l=e.then;if(ga(l)){ic(e,l,f,g,a);d=!0;break a}}catch(m){g.call(a,m);d=!0;break a}d=!1}}}d||(a.Cf=c,a.da=b,a.Ea=null,hc(a),b!=Zb||c instanceof Yb||jc(a,c))}}
function ic(a,b,c,d,e){function f(a){k||(k=!0,d.call(e,a))}function g(a){k||(k=!0,c.call(e,a))}var k=!1;try{b.call(a,g,f)}catch(l){f(l)}}function hc(a){a.oe||(a.oe=!0,Ob(a.gg,a))}function ec(a){var b=null;a.ob&&(b=a.ob,a.ob=b.next,b.next=null);a.ob||(a.Vb=null);return b}h.gg=function(){for(var a;a=ec(this);)fc(this,a,this.da,this.Cf);this.oe=!1};
function fc(a,b,c,d){if(c==Zb&&b.nc&&!b.Zc)for(;a&&a.pd;a=a.Ea)a.pd=!1;if(b.w)b.w.Ea=null,kc(b,c,d);else try{b.Zc?b.Rc.call(b.context):kc(b,c,d)}catch(e){lc.call(null,e)}ac.put(b)}function kc(a,b,c){b==Xb?a.Rc.call(a.context,c):a.nc&&a.nc.call(a.context,c)}function jc(a,b){a.pd=!0;Ob(function(){a.pd&&lc.call(null,b)})}var lc=Lb;function Yb(a){Aa.call(this,a)}ma(Yb,Aa);Yb.prototype.name="cancel";var mc="undefined"!=typeof Promise?Promise:"undefined"!=typeof n.Promise?n.Promise:Ub;n.setTimeout||(n.setTimeout=function(){setTimeout.apply(null,arguments)});Ub.prototype["catch"]=Ub.prototype.eh;function B(){var a=this;this.reject=this.resolve=null;this.u=new mc(function(b,c){a.resolve=b;a.reject=c})}function C(a,b){return function(c,d){c?a.reject(c):a.resolve(d);ga(b)&&(nc(a.u),1===b.length?b(c):b(c,d))}}function nc(a){a.then(void 0,aa)};function D(a,b,c,d,e){Gb.call(this,b.displayName,b.email,b.photoURL,b.providerId,b.uid,b.phone);this.isAnonymous="anonymous"===this.providerId;this.emailVerified=!0===c;this.phoneVerified=!0===d;this.providerData=e||[];this.refreshToken=null;Object.defineProperty(this,"__authManager",{value:a,writable:!1})}ma(D,Gb);la("wd.User",D);D.prototype["delete"]=function(a){var b=new B;oc(this.__authManager,this.Ka(),C(b,a));return b.u};D.prototype["delete"]=D.prototype["delete"];
D.prototype.Ka=function(){return(this.__authManager.Wa||null).idToken};D.prototype.getToken=D.prototype.Ka;D.prototype.ue=function(){return this.phone};D.prototype.getPhone=D.prototype.ue;
D.prototype.link=function(a,b){E("wilddog.User.link",1,2,arguments.length);pc("wilddog.User.link",a);var c=a.provider,d=new B,e={};e.idToken=this.Ka();"password"==c?(e.email=a.email,e.password=a.password,qc(this.__authManager,e,C(d,b))):(e.providerId=a.provider,e.accessToken=a.accessToken,e.openId=a.openId||"",e.authType="link",rc(this.__authManager,e,C(d,b)));return d.u};D.prototype.link=D.prototype.link;
D.prototype.ih=function(a,b){E("wilddog.User.unlink",1,2,arguments.length);sc("wilddog.User.unlink",1,a);var c=new B,d=this;tc(this.__authManager,"unlink",{idToken:this.Ka(),deleteProvider:[a]},C(c,function(c,f){f&&(d.providerData=d.providerData.filter(function(b){if(b.providerId!=a)return b}),0===d.providerData.length&&uc(d.__authManager));b&&b(c,f)}));return c.u};D.prototype.unlink=D.prototype.ih;
D.prototype.sg=function(a,b){E("wilddog.auth().signInWithPopup",1,2,arguments.length);pc("wilddog.auth().signInWithPopup",a);var c=new B;wc(this.__authManager,a,{authType:"link",idToken:this.Ka()},C(c,b));return c.u};D.prototype.linkWithPopup=D.prototype.sg;D.prototype.tg=function(a,b){E("wilddog.auth().signInWithPopup",1,2,arguments.length);pc("wilddog.auth().signInWithPopup",a);var c=new B;xc(this.__authManager,a,{authType:"link",idToken:this.Ka()},C(c,b));return c.u};
D.prototype.linkWithRedirect=D.prototype.tg;D.prototype.mh=function(a,b){E("wilddog.User.updateProfile",1,2,arguments.length);pc("wilddog.User.updateProfile",a);var c=new B;a.idToken=this.Ka();tc(this.__authManager,"profile",a,C(c,b));return c.u};D.prototype.updateProfile=D.prototype.mh;D.prototype.jh=function(a,b){E("wilddog.User.updateEmail",1,2,arguments.length);sc("wilddog.User.updateEmail",1,a);var c=new B;qc(this.__authManager,{email:a,idToken:this.Ka()},C(c,b));return c.u};
D.prototype.updateEmail=D.prototype.jh;D.prototype.lh=function(a,b){E("wilddog.User.updatePhone",1,2,arguments.length);sc("wilddog.User.updatePhone",1,a);var c=new B;qc(this.__authManager,{phoneNumber:a,idToken:this.Ka()},C(c,b));return c.u};D.prototype.updatePhone=D.prototype.lh;D.prototype.oh=function(a,b){E("wilddog.User.verifiyPhone",1,2,arguments.length);sc("wilddog.User.verifiyPhone",1,a);var c=new B;yc(this.__authManager,{phoneNumber:this.ue(),smsCode:a},C(c,b));return c.u};
D.prototype.verifiyPhone=D.prototype.oh;D.prototype.kh=function(a,b){E("wilddog.User.updatePassword",1,2,arguments.length);sc("wilddog.User.updatePassword",1,a);var c=new B;qc(this.__authManager,{password:a,idToken:this.Ka()},C(c,b));return c.u};D.prototype.updatePassword=D.prototype.kh;
D.prototype.Lg=function(a){E("wilddog.User.sendEmailVerification",0,1,arguments.length);F("wilddog.User.sendEmailVerification",1,a,!0);var b=new B;zc(this.__authManager,{idToken:this.Ka(),requestType:"VERIFY_EMAIL"},C(b,a));return b.u};D.prototype.sendEmailVerification=D.prototype.Lg;
D.prototype.Og=function(a){E("wilddog.User.sendPhoneVerification",0,1,arguments.length);F("wilddog.User.sendPhoneVerification",1,a,!0);var b=new B;Ac(this.__authManager,{phoneNumber:this.ue(),type:"PHONE_VERIFY"},C(b,a));return b.u};D.prototype.sendPhoneVerification=D.prototype.Og;D.prototype.reload=function(a){E("wilddog.User.reload",0,1,arguments.length);F("wilddog.User.reload",1,a,!0);var b=new B;Bc(this.__authManager,this.Ka(),C(b,a));return b.u};D.prototype.reload=D.prototype.reload;
D.prototype.Fg=function(a,b){E("wilddog.User.reload",1,2,arguments.length);F("wilddog.User.reload",2,b,!0);if(!a||!a.provider)throw Error("Unknown credential object.");var c=new B;rc(this.__authManager,a,C(c,b));return c.u};D.prototype.reauthenticate=D.prototype.Fg;function Cc(a){var b="POST";switch(a.providerId||a.provider){case "password":a="verifyPassword";break;case "anonymous":a="verifyAnonymous";break;case "custom":a="verifyCustomToken";break;default:a="credential",b="GET"}if(!a)throw Error("Unknown provider '"+provider+"'.");return{path:a,method:b}};function Dc(a){if(a&&a.users&&a.users[0])return a=a.users[0],new Gb(a.displayName,a.email,a.photoUrl,a.providerId,a.localId,a.phoneNumber);throw Error("Bad response format.");}function Ec(a,b){var c=Dc(b);if(!c)return null;var d=b.users[0],e=d.providerUserInfo.map(function(a){a.photoURL=a.photoUrl;delete a.photoUrl;return a});return new D(a,c,d.emailVerified,d.phoneNumberVerified,e)};var Fc="auth.wilddog.com";function Gc(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function G(a,b){if(Object.prototype.hasOwnProperty.call(a,b))return a[b]}function Hc(a,b){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&b(c,a[c])}function Ic(a){var b={};Hc(a,function(a,d){b[a]=d});return b};function Jc(a){var b={},c={},d={},e="";try{var f=a.split("."),g=kb(f[0])||"",k=kb(f[1])||"",b=wa(g),c=wa(k),e=f[2],d=c.d||{};delete c.d}catch(l){console.warn("error",l)}return{vh:b,ke:c,data:d,xh:e}}function Kc(a){a=Jc(a).ke;return"object"===typeof a&&a.hasOwnProperty("iat")?G(a,"iat"):null};function Lc(a,b,c){this.He=["session",b.Kd,b.xc,a].join(":");this.Zd=c}Lc.prototype.set=function(a,b){if(!b)if(this.Zd.length)b=this.Zd[0];else throw Error("wd.auth.SessionManager : No storage options available!");b.set(this.He,a)};Lc.prototype.get=function(){var a=Fa(this.Zd,r(this.ng,this)),a=Ea(a,function(a){return null!==a});La(a,function(a,c){return Kc(c.idToken)-Kc(a.idToken)});return 0<a.length?a.shift():null};Lc.prototype.ng=function(a){try{var b=a.get(this.He);if(b.idToken)return b;this.clear(a)}catch(c){}return null};
Lc.prototype.clear=function(){var a=this;Da(this.Zd,function(b){b.remove(a.He)})};var Mc={NETWORK_ERROR:"Unable to contact the Wilddog server.",SERVER_ERROR:"An unknown server error occurred.",TRANSPORT_UNAVAILABLE:"There are no login transports available for the requested method.",REQUEST_INTERRUPTED:"The browser redirected the page before the login request could complete.",USER_CANCELLED:"The user cancelled authentication."};function Nc(a){var b=G(Mc,a),b=Error(b,a);b.code=a;return b};function Oc(a,b,c){this.gd=a||{};this.Yc=b||{};this.$=c||{};this.gd.remember||(this.gd.remember="default")}var Pc=["remember","redirectTo"];function Qc(a){var b={},c={};Hc(a||{},function(a,e){0<=Ca(Pc,a)?b[a]=e:c[a]=e});return new Oc(b,{},c)};function Rc(a){this.Cc=a;this.Ld="wilddog:"}h=Rc.prototype;h.set=function(a,b){null==b?this.Cc.removeItem(this.Ld+a):this.Cc.setItem(this.Ld+a,t(b))};h.get=function(a){a=this.Cc.getItem(this.Ld+a);return null==a?null:wa(a)};h.remove=function(a){this.Cc.removeItem(this.Ld+a)};h.ze=!1;h.toString=function(){return this.Cc.toString()};function Sc(){this.yc={}}Sc.prototype.set=function(a,b){null==b?delete this.yc[a]:this.yc[a]=b};Sc.prototype.get=function(a){return Gc(this.yc,a)?this.yc[a]:null};Sc.prototype.remove=function(a){delete this.yc[a]};Sc.prototype.ze=!0;function Tc(a){try{if("undefined"!==typeof window&&"undefined"!==typeof window[a]){var b=window[a];b.setItem("wilddog:sentinel","cache");b.removeItem("wilddog:sentinel");return new Rc(b)}}catch(c){}return new Sc}var Uc=Tc("localStorage"),Vc=Tc("sessionStorage");function Wc(a){var b=[];Hc(a,function(a,d){ea(d)?Da(d,function(c){b.push(encodeURIComponent(a)+"="+encodeURIComponent(c))}):b.push(encodeURIComponent(a)+"="+encodeURIComponent(d))});return b.length?"&"+b.join("&"):""}function Xc(a){var b={};a=a.replace(/^\?/,"").split("&");Da(a,function(a){a&&(a=a.split("="),b[a[0]]=a[1])});return b};function Yc(){var a=window.opener.frames,b;for(b=a.length-1;0<=b;b--)try{if(a[b].location.protocol===window.location.protocol&&a[b].location.host===window.location.host&&"__winchan_relay_frame"===a[b].name)return a[b]}catch(c){}return null}function Zc(a,b,c){a.attachEvent?a.attachEvent("on"+b,c):a.addEventListener&&a.addEventListener(b,c,!1)}function $c(a,b,c){a.detachEvent?a.detachEvent("on"+b,c):a.removeEventListener&&a.removeEventListener(b,c,!1)}
function ad(a){/^https?:\/\//.test(a)||(a=window.location.href);var b=/^(https?:\/\/[\-_a-zA-Z\.0-9:]+)/.exec(a);return b?b[1]:a}function bd(){var a=document.location.hash,b="";try{var a=a.replace("#",""),c=Xc(a);c&&Gc(c,"__wilddog_request_key")&&(b=G(c,"__wilddog_request_key"))}catch(d){}return b}function cd(){var a=tb(Fc);return a.scheme+"://"+a.host+"/v2"}function dd(a){return cd()+"/"+a+"/auth/channel"};function ed(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(navigator.userAgent)}function fd(){return"undefined"!==typeof location&&/^file:\//.test(location.href)}
function gd(){if("undefined"===typeof navigator)return!1;var a=navigator.userAgent;if("Microsoft Internet Explorer"===navigator.appName){if((a=a.match(/MSIE ([0-9]{1,}[\.0-9]{0,})/))&&1<a.length)return 8<=parseFloat(a[1])}else if(-1<a.indexOf("Trident")&&(a=a.match(/rv:([0-9]{2,2}[\.0-9]{0,})/))&&1<a.length)return 8<=parseFloat(a[1]);return!1};function hd(a){a.method||(a.method="GET");a.headers||(a.headers={});a.headers["Content-Type"]||"GET"==a.method||(a.headers["Content-Type"]="application/json");a.headers["Content-Type"]&&(a.headers["Content-Type"]=a.headers["Content-Type"].toLowerCase());this.options=a}
hd.prototype.open=function(a,b,c){function d(){c&&(c(Nc("REQUEST_INTERRUPTED")),c=null)}var e=new XMLHttpRequest,f=this.options.method.toUpperCase(),g;Zc(window,"beforeunload",d);e.onreadystatechange=function(){if(c&&4===e.readyState){var a;if(200<=e.status&&300>e.status){try{a=wa(e.responseText)}catch(A){}c(null,a)}else 500<=e.status&&600>e.status?c(Nc("SERVER_ERROR")):c(Nc("NETWORK_ERROR"));c=null;$c(window,"beforeunload",d)}};if("GET"===f)a+=(/\?/.test(a)?"":"?")+Wc(b),g=null;else{var k=this.options.headers["Content-Type"];
"application/json"===k&&(g=t(b));"application/x-www-form-urlencoded"===k&&(g=Wc(b))}e.open(f,a,!0);a={Accept:"application/json;text/plain"};cb(a,this.options.headers);for(var l in a)e.setRequestHeader(l,a[l]);e.send(g)};hd.isAvailable=function(){return"NODE"!=CLIENT_TYPE&&!!window.XMLHttpRequest&&(!("undefined"!==typeof navigator&&(navigator.userAgent.match(/MSIE/)||navigator.userAgent.match(/Trident/)))||gd())};hd.prototype.le=function(){return"json"};var id={};var jd={};function kd(a){if(!a.window_features||"undefined"!==typeof navigator&&(-1!==navigator.userAgent.indexOf("Fennec/")||-1!==navigator.userAgent.indexOf("Firefox/")&&-1!==navigator.userAgent.indexOf("Android")))a.window_features=void 0;a.window_name||(a.window_name="_blank");this.options=a}
kd.prototype.open=function(a,b,c){function d(a){g&&(document.body.removeChild(g),g=void 0);A&&(A=clearInterval(A));$c(window,"message",e);$c(window,"unload",d);if(m&&!a)try{m.close()}catch(vc){k.postMessage("die",l)}m=k=void 0}function e(a){if(a.origin===l)try{var b=wa(a.data);"ready"===b.a?k.postMessage(L,l):"error"===b.a?(d(!1),c&&(c(b.d),c=null)):"response"===b.a&&(d(b.forceKeepWindowOpen),c&&(c(null,b.d),c=null))}catch(Xi){}}var f=gd(),g,k;if(!this.options.relay_url)return c(Error("invalid arguments: origin of url and relay_url must match"));
var l=ad(a);if(l!==ad(this.options.relay_url))c&&setTimeout(function(){c(Error("invalid arguments: origin of url and relay_url must match"))},0);else{f&&(g=document.createElement("iframe"),g.setAttribute("src",this.options.relay_url),g.style.display="none",g.setAttribute("name","__winchan_relay_frame"),document.body.appendChild(g),k=g.contentWindow);a+=(/\?/.test(a)?"":"?")+Wc(b);var m=window.open(a,this.options.window_name,this.options.window_features);k||(k=m);var A=setInterval(function(){m&&m.closed&&
(d(!1),c&&(c(Nc("USER_CANCELLED")),c=null))},500),L=t({a:"request",d:b});Zc(window,"unload",d);Zc(window,"message",e)}};
kd.isAvailable=function(){return"WEB"==CLIENT_TYPE&&"postMessage"in window&&!fd()&&!(ed()||"undefined"!==typeof navigator&&(navigator.userAgent.match(/Windows Phone/)||window.Windows&&/^ms-appx:/.test(location.href))||"undefined"!==typeof navigator&&"undefined"!==typeof window&&(navigator.userAgent.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i)||navigator.userAgent.match(/CriOS/)||navigator.userAgent.match(/Twitter for iPhone/)||navigator.userAgent.match(/FBAN\/FBIOS/)||window.navigator.standalone))&&
!("undefined"!==typeof navigator&&navigator.userAgent.match(/PhantomJS/))};kd.prototype.le=function(){return"popup"};function ld(){this.Af=Ba()+Ba()+Ba()}ld.prototype.open=function(a,b){w.set("redirect_request_id",this.Af);b.requestId=this.Af;b.redirectTo=b.redirectTo||window.location.href;a+=(/\?/.test(a)?"":"?")+Wc(b);window.location=a};ld.isAvailable=function(){return"WEB"==CLIENT_TYPE&&!fd()&&!ed()};ld.prototype.le=function(){return"redirect"};function md(a){var b=[];a.forEach(function(a){null!=this.pf[a]&&b.push(this.pf[a])},nd);return b}var w=Vc,nd=new function(){this.pf={XHR:hd,JSONP:id,Cordova:jd,Popup:kd,Redirect:ld}};function od(a,b,c){this.fb=a;this.M=a.app;this.Ub=b;this.rc=new Lc(this.M.name,b,[Uc,w]);this.Wa=null;this.Ib=c;pd(this)}function qd(a){var b=w.get("redirect_request_id");a=a.rc.get();return b||a&&a.idToken}function pd(a){w.get("redirect_request_id")&&rd(a);var b=a.rc.get();b&&b.idToken?Bc(a,b.idToken,function(c,d){if(!c&&d){var e={signIn:!0};e.currentUser=d;e.idToken=b.idToken;sd(a,e,{});td(a,e)}else td(a,null)}):td(a,null)}
function ud(a,b,c,d){b&&b.idToken?vd(a,b.idToken,c,function(a,b){d(a,b)}):(td(a,null),d(Error("No idToken found in response.")))}function vd(a,b,c,d){Bc(a,b,function(e,f){if(!e&&f){var g={signIn:!0};g.currentUser=f;g.idToken=b;sd(a,g,c);td(a,g);d(null,f)}else td(a,null),d(e)})}function uc(a,b){a.M.bindOnce(a.M.Ha.Na,function(){td(a,null);b&&b(null)})}
function rc(a,b,c){xd(a);var d=new Oc({},{},b||{});b=Cc(b);d.$._method=b.method;var e=md(["XHR","JSONP","NodeHttp","WxHttp"]);yd(a,e,"/auth/"+b.path,d,function(a,b){y(c,a,b)})}function zd(a,b){xd(a);var c=new Oc({},{},{}),d=md(["WxImplicit"]);yd(a,d,"/auth/wxapp",c,function(a,c){y(b,a,c)})}
function wc(a,b,c,d){xd(a);var e=md(["Popup","Cordova"]);requestInfo=Qc(c);height=width=625;b.id?(requestInfo.$.providerId=b.id,requestInfo.$.scope=b.scope||"",requestInfo.$.appId=a.Ub.xc,requestInfo.Yc.window_features="menubar=yes,modal=yes,alwaysRaised=yeslocation=yes,resizable=yes,scrollbars=yes,status=yes,height="+height+",width="+width+",top="+("object"===typeof screen?.5*(screen.height-height):0)+",left="+("object"===typeof screen?.5*(screen.width-width):0),requestInfo.Yc.relay_url=dd(a.Ub.xc),
requestInfo.Yc.requestWithCredential=r(a.cb,a),yd(a,e,"/auth/oauth",requestInfo,function(a,b){y(d,a,b)})):setTimeout(function(){y(d,Nc("TRANSPORT_UNAVAILABLE_FOR_UNKNOWN_PROVIDER"))},0)}function xc(a,b,c,d){xd(a);var e=md(["Redirect"]);c=Qc(c);b.id?(c.$.providerId=b.id,c.$.scope=b.scope||"",c.$.appId=a.Ub.xc,w.set("redirect_client_options",c.gd),yd(a,e,"/auth/oauth",c,function(a,b){y(d,a,b)})):y(d,Nc("TRANSPORT_UNAVAILABLE"))}
function rd(a){var b=w.get("redirect_request_id");if(b){var c=w.get("redirect_client_options"),d=md(["XHR","JSONP"]);serverParams={requestId:b,requestKey:bd()};transportOptions={};requestInfo=new Oc(c,transportOptions,serverParams);try{document.location.hash=document.location.hash.replace(/&__wilddog_request_key=([a-zA-z0-9]*)/,"")}catch(e){}yd(a,d,"/auth/session",requestInfo,function(){w.remove("redirect_request_id");w.remove("redirect_client_options")}.bind(a))}}
function Ad(a,b,c){xd(a);b=Qc(b);b.$._method="POST";a.cb("/auth/signupNewUser",b,function(b,e){!b&&e&&e.idToken?vd(a,e.idToken,null,function(a,b){y(c,a,b)}):y(c,b)})}
function tc(a,b,c,d){var e={idToken:c.idToken},f=c.photoURL||a.Wa.currentUser.photoURL,g=c.displayName||a.Wa.currentUser.displayName;switch(b){case "unlink":e.deleteProvider=c.deleteProvider;break;case "profile":e.photoUrl=f,e.displayName=g}Bd(a,e,function(b,c){b?y(d,b):(a.Wa.currentUser.displayName=g,a.Wa.currentUser.photoURL=f,sd(a,a.Wa),y(d,b,c))})}function qc(a,b,c){Bd(a,b,function(b,e){b?y(c,b):ud(a,e,{},c)})}
function Bd(a,b,c){b=Qc(b);b.$._method="POST";b.$.idToken=a.Wa.idToken;a.cb("/auth/setAccountInfo",b,function(a,b){a?c(a):c(a,b)})}function Bc(a,b,c){xd(a);b=Qc({idToken:b});b.$._method="POST";a.cb("/auth/getAccountInfo",b,function(b,e){b?c(b):c(b,Ec(a,e))})}function oc(a,b,c){xd(a);b=Qc({idToken:b});b.$._method="POST";a.cb("/auth/deleteAccount",b,function(b,e){!b&&e&&"ok"==e.status&&a.Wa&&uc(a);y(c,b)})}
function zc(a,b,c){xd(a);b=Qc(b);b.$._method="POST";a.cb("/auth/getOobConfirmationCode",b,function(a,b){y(c,a,b)})}od.prototype.pe=function(a,b){xd(this);var c=Qc({email:a});c.$._method="POST";this.cb("/auth/getProvider",c,function(a,c){a?y(b,a):y(b,a,c.allProviders||[])})};od.prototype.cb=function(a,b,c){var d=md(["XHR","JSONP","NodeHttp","WxHttp"]);Cd(this,d,a,b,c)};
function yd(a,b,c,d,e){Cd(a,b,c,d,function(b,c){!b&&c&&c.idToken?ud(a,c,d.gd,function(a,b){a?e(a):e(null,b)}):e(b||Nc("UNKNOWN_ERROR"))})}
function Cd(a,b,c,d,e){b=Ea(b,function(a){return"function"===typeof a.isAvailable&&a.isAvailable()});0===b.length?setTimeout(function(){e(Nc("TRANSPORT_UNAVAILABLE"))},0):(b=b.shift(),d.Yc.method=d.$._method,b=new b(d.Yc),d=Ic(d.$),d.v=CLIENT_TYPE+CLIENT_VERSION,d.transport=b.le(),d.suppress_status_codes=!0,a=cd()+"/"+a.Ub.xc+c,b.open(a,d,function(a,b){if(a)e(a);else if(b&&b.error){var c=Error(b.message);c.code=b.errcode;e(c)}else e(null,b)}))}
function sd(a,b,c){a.rc.clear();c=c||{};var d=Uc;"sessionOnly"===c.remember&&(d=w);"none"!==c.remember&&a.rc.set(b,d)}function td(a,b){a.Wa=b;a.fb.currentUser=b&&b.signIn?b.currentUser:null;a.Ib&&a.Ib(null!==b);b&&b.signIn||a.rc.clear();a.M.emit(a.M.Ha.Na,b||{signIn:!1})}function xd(a){if(a.Ub.lf&&"auth.wilddog.com"===Fc)throw Error("This custom Wilddog server ('"+a.Ub.domain+"') does not support delegated login.");}
function yc(a,b,c){b=Qc(b);b.$._method="POST";a.cb("/auth/verifyPhone",b,function(b,e){!b&&e&&"ok"==e.status&&a.fb.currentUser&&(a.fb.currentUser.phoneVerified=!0);!b&&e&&e.idToken?vd(a,e.idToken,null,function(a){y(c,a)}):y(c,b)})}function Dd(a,b,c){xd(a);b=Qc(b);b.$._method="POST";a.cb("/auth/resetPhonePassword",b,function(a,b){a?y(c,a):y(c,a,b)})}function Ac(a,b,c){xd(a);b=Qc(b);b.$._method="POST";a.cb("/auth/sendSmsCode",b,function(a,b){y(c,a,b)})};function E(a,b,c,d){var e;d<b?e="at least "+b:d>c&&(e=0===c?"none":"no more than "+c);if(e)throw Error(a+" failed: Was called with "+d+(1===d?" argument.":" arguments.")+" Expects "+e+".");}function Ed(a,b,c){switch(b){case 1:b=c?"first":"First";break;case 2:b=c?"second":"Second";break;case 3:b=c?"third":"Third";break;case 4:b=c?"fourth":"Fourth";break;default:throw Error("errorPrefix called with argumentNumber > 4.  Need to update it?");}return a+" failed: "+(b+" argument ")}
function F(a,b,c,d){if((!d||p(c))&&!ga(c))throw Error(Ed(a,b,d)+"must be a valid function.");}function Fd(a,b,c){if(p(c)&&(!ha(c)||null===c))throw Error(Ed(a,b,!0)+"must be a valid context object.");};function H(a,b){if(1==arguments.length){this.C=a.split("/");for(var c=0,d=0;d<this.C.length;d++)0<this.C[d].length&&(this.C[c]=this.C[d],c++);this.C.length=c;this.ca=0}else this.C=a,this.ca=b}function I(a,b){var c=J(a);if(null===c)return b;if(c===J(b))return I(K(a),K(b));throw Error("INTERNAL ERROR: innerPath ("+b+") is not within outerPath ("+a+")");}function J(a){return a.ca>=a.C.length?null:a.C[a.ca]}function Gd(a){return a.C.length-a.ca}
function K(a){var b=a.ca;b<a.C.length&&b++;return new H(a.C,b)}function Hd(a){return a.ca<a.C.length?a.C[a.C.length-1]:null}h=H.prototype;h.toString=function(){for(var a="",b=this.ca;b<this.C.length;b++)""!==this.C[b]&&(a+="/"+this.C[b]);return a||"/"};h.slice=function(a){return this.C.slice(this.ca+(a||0))};h.parent=function(){if(this.ca>=this.C.length)return null;for(var a=[],b=this.ca;b<this.C.length-1;b++)a.push(this.C[b]);return new H(a,0)};
h.w=function(a){for(var b=[],c=this.ca;c<this.C.length;c++)b.push(this.C[c]);if(a instanceof H)for(c=a.ca;c<a.C.length;c++)b.push(a.C[c]);else for(a=a.split("/"),c=0;c<a.length;c++)0<a[c].length&&b.push(a[c]);return new H(b,0)};h.f=function(){return this.ca>=this.C.length};h.fa=function(a){if(Gd(this)!==Gd(a))return!1;for(var b=this.ca,c=a.ca;b<=this.C.length;b++,c++)if(this.C[b]!==a.C[c])return!1;return!0};
h.contains=function(a){var b=this.ca,c=a.ca;if(Gd(this)>Gd(a))return!1;for(;b<this.C.length;){if(this.C[b]!==a.C[c])return!1;++b;++c}return!0};var M=new H("");function Id(a,b){this.ab=a.slice();this.Oa=Math.max(1,this.ab.length);this.bf=b;for(var c=0;c<this.ab.length;c++)this.Oa+=Jd(this.ab[c]);Kd(this)}Id.prototype.push=function(a){0<this.ab.length&&(this.Oa+=1);this.ab.push(a);this.Oa+=Jd(a);Kd(this)};Id.prototype.pop=function(){var a=this.ab.pop();this.Oa-=Jd(a);0<this.ab.length&&--this.Oa};
function Kd(a){if(768<a.Oa)throw Error(a.bf+"has a key path longer than 768 bytes ("+a.Oa+").");if(32<a.ab.length)throw Error(a.bf+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Ld(a));}function Ld(a){return 0==a.ab.length?"":"in property '"+a.ab.join(".")+"'"};function Jd(a){for(var b=0,c=0;c<a.length;c++){var d=a.charCodeAt(c);128>d?b++:2048>d?b+=2:55296<=d&&56319>=d?(b+=4,c++):b+=3}return b};var Md=/[\[\].#$\/\u0000-\u001F\u007F]/,Nd=/[\[\].#$\u0000-\u001F\u007F]/;function Od(a){return q(a)&&0!==a.length&&!Md.test(a)}function Pd(a){return null===a||q(a)||fa(a)&&!ub(a)||ha(a)&&Gc(a,".sv")}function Qd(a,b,c,d){d&&!p(b)||Rd(Ed(a,1,d),b,c)}
function Rd(a,b,c){c instanceof H&&(c=new Id(c,a));if(!p(b))throw Error(a+"contains undefined "+Ld(c));if(ga(b))throw Error(a+"contains a function "+Ld(c)+" with contents: "+b.toString());if(ub(b))throw Error(a+"contains "+b.toString()+" "+Ld(c));if(q(b)&&b.length>10485760/3&&10485760<Jd(b))throw Error(a+"contains a string greater than 10485760 utf8 bytes "+Ld(c)+" ('"+b.substring(0,50)+"...')");if(ha(b)){var d=!1,e=!1;Hc(b,function(b,g){if(".value"===b)d=!0;else if(".priority"!==b&&".sv"!==b&&(e=
!0,!Od(b)))throw Error(a+" contains an invalid key ("+b+") "+Ld(c)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');c.push(b);Rd(a,g,c);c.pop()});if(d&&e)throw Error(a+' contains ".value" child '+Ld(c)+" in addition to actual children.");}}
function Sd(a,b){var c,d;for(c=0;c<b.length;c++){d=b[c];for(var e=d.slice(),f=0;f<e.length;f++)if((".priority"!==e[f]||f!==e.length-1)&&!Od(e[f]))throw Error(a+"contains an invalid key ("+e[f]+") in path "+d.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');}b.sort(H.th);e=null;for(c=0;c<b.length;c++){d=b[c];if(null!==e&&e.contains(d))throw Error(a+"contains a path "+e.toString()+" that is ancestor of another path "+d.toString());e=d}}
function Td(a,b,c){var d=Ed(a,1,!1);if(!ha(b)||ea(b))throw Error(d+" must be an Object containing the children to replace.");if(Gc(b,".value"))throw Error(d+' must not contain ".value".  To overwrite with a leaf value, just use .set() instead.');var e=[];Hc(b,function(a,b){var f=new H(a);Rd(d,b,c.w(f));if(".priority"===Hd(f)&&!Pd(b))throw Error(d+"contains an invalid value for '"+f.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");e.push(f)});
Sd(d,e)}function Ud(a,b,c){if(ub(c))throw Error(Ed(a,b,!1)+"is "+c.toString()+", but must be a valid Wilddog priority (a string, finite number, server value, or null).");if(!Pd(c))throw Error(Ed(a,b,!1)+"must be a valid Wilddog priority (a string, finite number, server value, or null).");}
function Vd(a,b,c){if(!c||p(b))switch(b){case "value":case "child_added":case "child_removed":case "child_changed":case "child_moved":break;default:throw Error(Ed(a,1,c)+'must be a valid event type: "value", "child_added", "child_removed", "child_changed", or "child_moved".');}}function Wd(a,b,c,d){if((!d||p(c))&&!Od(c))throw Error(Ed(a,b,d)+'was an invalid key: "'+c+'".  Wilddog keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").');}
function Xd(a,b){if(!q(b)||0===b.length||Nd.test(b))throw Error(Ed(a,1,!1)+'was an invalid path: "'+b+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"');}function Yd(a,b){b&&(b=b.replace(/^\/*\.info(\/|$)/,"/"));Xd(a,b)}function Zd(a,b){if(".info"===J(b))throw Error(a+" failed: Can't modify data under /.info/");}function sc(a,b,c){if(!q(c))throw Error(Ed(a,b,!1)+"must be a valid string.");}
function pc(a,b){if(!ha(b)||null===b)throw Error(Ed(a,1,!1)+"must be a valid object.");};function $d(a){this.fb=a}$d.prototype.lg=function(){return this.fb.We};$d.prototype.getAuthRevokListener=$d.prototype.lg;function N(a){if(!a.options.authDomain)throw Error("Could not find 'authDomain' in options.");var b=this;this.Sf=function(a){var b=/^([a-zA-Z0-9\-_]+)\.([a-z]+)\.com/.exec(a.toLowerCase());if(!b)throw Error("Bad 'authDomain' format '"+a+"'.");return{xc:b[1],zh:b[2],rh:b[0],Kd:"",lf:"wilddog"!==b[2]}}(a.options.authDomain);this.app=a;this.ea=new od(this,this.Sf);this.We=function(a){var c=b.ea;a=a.reason;c.fb.currentUser&&(c.rc.clear(),c.Wa=null,c.fb.currentUser=null,c.M.emit(c.M.Ha.Na,{signIn:!1,reason:a}),
c.Ib&&c.Ib(!1))};this.app.bind(this.app.Ha.cd,this.We);this.INTERNAL=new $d(this)}N.prototype.vg=function(a){function b(b){(b&&b.signIn||!qd(c.ea))&&setTimeout(function(){a(b&&b.signIn?b.currentUser:null)},0)}var c=this;E("wilddog.auth().onAuthStateChanged",1,1,arguments.length);F("wilddog.auth().onAuthStateChanged",1,a,!1);this.app.bind(this.app.Ha.Na,b);return function(){c.app.unbind(c.app.Ha.Na,b)}};N.prototype.onAuthStateChanged=N.prototype.vg;
N.prototype.Sg=function(a){E("wilddog.auth().signInAnonymously",0,1,arguments.length);F("wilddog.auth().signInAnonymously",1,a,!0);var b=new B;Ad(this.ea,{},C(b,a));return b.u};N.prototype.signInAnonymously=N.prototype.Sg;N.prototype.Tg=function(a){E("wilddog.auth().signInAnonymously",0,1,arguments.length);F("wilddog.auth().signInAnonymously",1,a,!0);var b=new B;zd(this.ea,C(b,a));return b.u};N.prototype.signInWeapp=N.prototype.Tg;
N.prototype.Mg=function(a,b){E("wilddog.auth().sendPasswordResetEmail",1,2,arguments.length);F("wilddog.auth().sendPasswordResetEmail",2,b,!0);var c=new B;zc(this.ea,{requestType:"RESET_PASSWORD",email:a},C(c,b));return c.u};N.prototype.sendPasswordResetEmail=N.prototype.Mg;N.prototype.Ng=function(a,b){E("wilddog.auth().sendPasswordResetSms",1,2,arguments.length);F("wilddog.auth().sendPasswordResetSms",2,b,!0);var c=new B;Ac(this.ea,{type:"PASSWORD_RESET",phoneNumber:a},C(c,b));return c.u};
N.prototype.sendPasswordResetSms=N.prototype.Ng;N.prototype.Zf=function(a,b,c,d){E("wilddog.auth().sendPasswordResetSms",3,4,arguments.length);F("wilddog.auth().sendPasswordResetSms",4,d,!0);sc("wilddog.auth().sendPasswordResetSms",2,b);var e=new B;Dd(this.ea,{phoneNumber:a,password:c,smsCode:b},C(e,d));return e.u};N.prototype.confirmPasswordResetSms=N.prototype.Zf;
N.prototype.pe=function(a,b){E("wilddog.auth().fetchProvidersForEmail",1,2,arguments.length);F("wilddog.auth().fetchProvidersForEmail",2,b,!0);var c=new B;this.ea.pe(a,C(c,b));return c.u};N.prototype.fetchProvidersForEmail=N.prototype.pe;N.prototype.Vg=function(a,b){E("wilddog.auth().signInWithCustomToken",1,2,arguments.length);F("wilddog.auth().signInWithCustomToken",2,b,!0);var c=new B;rc(this.ea,{providerId:"custom",token:a},C(c,b));return c.u};N.prototype.signInWithCustomToken=N.prototype.Vg;
N.prototype.Wg=function(a,b,c){E("wilddog.auth().signInWithEmailAndPassword",2,3,arguments.length);F("wilddog.auth().signInWithEmailAndPassword",3,c,!0);var d=new B;rc(this.ea,{providerId:"password",password:b,email:a},C(d,c));return d.u};N.prototype.signInWithEmailAndPassword=N.prototype.Wg;
N.prototype.Xg=function(a,b,c){E("wilddog.auth().signInWithPhoneAndPassword",2,3,arguments.length);F("wilddog.auth().signInWithPhoneAndPassword",3,c,!0);var d=new B;rc(this.ea,{providerId:"password",password:b,phoneNumber:a},C(d,c));return d.u};N.prototype.signInWithPhoneAndPassword=N.prototype.Xg;N.prototype.$g=function(a){E("wilddog.auth().signOut",0,1,arguments.length);F("wilddog.auth().signOut",1,a,!0);var b=new B;uc(this.ea,C(b,a));return b.u};N.prototype.signOut=N.prototype.$g;
N.prototype.$f=function(a,b,c){E("wilddog.auth().createUserWithEmailAndPassword",2,3,arguments.length);F("wilddog.auth().createUserWithEmailAndPassword",3,c,!0);var d=new B;Ad(this.ea,{email:a,password:b},C(d,c));return d.u};N.prototype.createUserWithEmailAndPassword=N.prototype.$f;
N.prototype.ag=function(a,b,c){E("wilddog.auth().createUserWithPhoneAndPassword",2,3,arguments.length);F("wilddog.auth().createUserWithPhoneAndPassword",3,c,!0);var d=new B;Ad(this.ea,{phoneNumber:a,password:b},C(d,c));return d.u};N.prototype.createUserWithPhoneAndPassword=N.prototype.ag;N.prototype.Yg=function(a,b){E("wilddog.auth().signInWithPopup",1,2,arguments.length);pc("wilddog.auth().signInWithPopup",a);var c=new B;wc(this.ea,a,{authType:"login"},C(c,b));return c.u};
N.prototype.signInWithPopup=N.prototype.Yg;N.prototype.Zg=function(a,b){E("wilddog.auth().signInWithRedirect",1,2,arguments.length);pc("wilddog.auth().signInWithRedirect",a);var c=new B;xc(this.ea,a,{authType:"login"},C(c,b));return c.u};N.prototype.signInWithRedirect=N.prototype.Zg;
N.prototype.Ug=function(a,b){E("wilddog.auth().signInWithCredential",1,2,arguments.length);pc("wilddog.auth().signInWithCredential",a);var c={};"password"==a.provider?(c.providerId=a.provider,c.email=a.email,c.phoneNumber=a.phone,c.password=a.password):(c.providerId=a.provider,c.accessToken=a.accessToken,c.openId=a.openId||a.email);c.authType="login";var d=new B;rc(this.ea,c,C(d,b));return d.u};N.prototype.signInWithCredential=N.prototype.Ug;function ae(){this.Ze="DEFAULT";this.ug={};this.$c={};this.he=this.app=null}ae.prototype.qg=function(a,b){var c=b||this.Ze;this.$c[c]=new z(a,c);b==this.Ze||null==b?this.app=this.$c[c]:this[c]=this.$c[c];return this.$c[c]};ae.prototype.initializeApp=ae.prototype.qg;ae.prototype.Ie=function(a,b){this.ug[a]=b;Eb(a,b);this[a]=function(){if(this.app)return this.app[a]();throw Error("Default application not initialized!Please call wilddog.initializeApp first.");}};ae.prototype.regService=ae.prototype.Ie;
ae.prototype.Se=CLIENT_VERSION;ae.prototype.SDK_VERSION=ae.prototype.Se;var be=new ae;function ce(a,b){return vb(a.name,b.name)}function de(a,b){return vb(a,b)};function ee(){}var fe={};function ge(a){return r(a.compare,a)}ee.prototype.ud=function(a,b){return 0!==this.compare(new O("[MIN_NAME]",a),new O("[MIN_NAME]",b))};function he(a){this.ic=a}ma(he,ee);h=he.prototype;h.Gc=function(a){return!a.S(this.ic).f()};h.compare=function(a,b){var c=a.node.S(this.ic),d=b.node.S(this.ic),c=c.Ac(d);return 0===c?vb(a.name,b.name):c};h.Lc=function(a,b){var c=P(a),c=Q.V(this.ic,c);return new O(b,c)};h.Mc=function(){var a=Q.V(this.ic,ie);return new O("[MAX_NAME]",a)};
h.toString=function(){return this.ic};function je(){}ma(je,ee);h=je.prototype;h.compare=function(a,b){var c=a.node.H(),d=b.node.H(),c=c.Ac(d);return 0===c?vb(a.name,b.name):c};h.Gc=function(a){return!a.H().f()};h.ud=function(a,b){return!a.H().fa(b.H())};h.Mc=function(){return new O("[MAX_NAME]",new ke("[PRIORITY-POST]",ie))};h.Lc=function(a,b){var c=P(a);return new O(b,new ke("[PRIORITY-POST]",c))};h.toString=function(){return".priority"};var R=new je;function le(){}ma(le,ee);h=le.prototype;
h.compare=function(a,b){return vb(a.name,b.name)};h.Gc=function(){throw jb("KeyIndex.isDefinedOn not expected to be called.");};h.ud=function(){return!1};h.Mc=function(){return new O("[MAX_NAME]",Q)};h.Lc=function(a){v(q(a),"KeyIndex indexValue must always be a string.");return new O(a,Q)};h.toString=function(){return".key"};var me=new le;function ne(){}ma(ne,ee);h=ne.prototype;h.compare=function(a,b){var c=a.node.Ac(b.node);return 0===c?vb(a.name,b.name):c};h.Gc=function(){return!0};
h.ud=function(a,b){return!a.fa(b)};h.Mc=function(){return oe};h.Lc=function(a,b){var c=P(a);return new O(b,c)};h.toString=function(){return".value"};var pe=new ne;function qe(a,b){this.vd=a;this.jc=b}qe.prototype.get=function(a){var b=G(this.vd,a);if(!b)throw Error("No index defined for "+a);return b===fe?null:b};function re(a,b,c){var d=Qa(a.vd,function(d,f){var e=G(a.jc,f);v(e,"Missing index implementation for "+f);if(d===fe){if(e.Gc(b.node)){for(var k=[],l=c.cc(se),m=S(l);m;)m.name!=b.name&&k.push(m),m=S(l);k.push(b);return te(k,ge(e))}return fe}e=c.get(b.name);k=d;e&&(k=k.remove(new O(b.name,e)));return k.Ya(b,b.node)});return new qe(d,a.jc)}
function ue(a,b,c){var d=Qa(a.vd,function(a){if(a===fe)return a;var d=c.get(b.name);return d?a.remove(new O(b.name,d)):a});return new qe(d,a.jc)}var ve=new qe({".priority":fe},{".priority":R});function O(a,b){this.name=a;this.node=b}function se(a,b){return new O(a,b)};function ke(a,b){this.J=a;v(p(this.J)&&null!==this.J,"LeafNode shouldn't be created with null/undefined value.");this.ha=b||Q;we(this.ha);this.Fb=null}h=ke.prototype;h.T=function(){return!0};h.H=function(){return this.ha};h.ia=function(a){return new ke(this.J,a)};h.S=function(a){return".priority"===a?this.ha:Q};h.va=function(a){return a.f()?this:".priority"===J(a)?this.ha:Q};h.Sa=function(){return!1};h.gf=function(){return null};
h.V=function(a,b){return".priority"===a?this.ia(b):b.f()&&".priority"!==a?this:Q.V(a,b).ia(this.ha)};h.L=function(a,b){var c=J(a);if(null===c)return b;if(b.f()&&".priority"!==c)return this;v(".priority"!==c||1===Gd(a),".priority must be the last token in a path");return this.V(c,Q.L(K(a),b))};h.f=function(){return!1};h.Gb=function(){return 0};h.R=function(a){return a&&!this.H().f()?{".value":this.La(),".priority":this.H().R()}:this.La()};
h.hash=function(){if(null===this.Fb){var a="";this.ha.f()||(a+="priority:"+xe(this.ha.R())+":");var b=typeof this.J,a=a+(b+":"),a="number"===b?a+zb(this.J):a+this.J;this.Fb=mb(a)}return this.Fb};h.La=function(){return this.J};h.Ac=function(a){if(a===Q)return 1;if(a instanceof T)return-1;v(a.T(),"Unknown node type");var b=typeof a.J,c=typeof this.J,d=Ca(ye,b),e=Ca(ye,c);v(0<=d,"Unknown leaf type: "+b);v(0<=e,"Unknown leaf type: "+c);return d===e?"object"===c?0:this.J<a.J?-1:this.J===a.J?0:1:e-d};
var ye=["object","boolean","number","string"];ke.prototype.wb=function(){return this};ke.prototype.Hc=function(){return!0};ke.prototype.fa=function(a){return a===this?!0:a.T()?this.J===a.J&&this.ha.fa(a.ha):!1};ke.prototype.toString=function(){return t(this.R(!0))};function ze(a,b){this.Xa=a;this.Fa=b?b:Ae}h=ze.prototype;h.Ya=function(a,b){return new ze(this.Xa,this.Fa.Ya(a,b,this.Xa).ba(null,null,Be,null,null))};h.remove=function(a){return new ze(this.Xa,this.Fa.remove(a,this.Xa).ba(null,null,Be,null,null))};h.get=function(a){for(var b,c=this.Fa;!c.f();){b=this.Xa(a,c.key);if(0===b)return c.value;0>b?c=c.left:0<b&&(c=c.right)}return null};
function Ce(a,b){for(var c,d=a.Fa,e=null;!d.f();){c=a.Xa(b,d.key);if(0===c){if(d.left.f())return e?e.key:null;for(d=d.left;!d.right.f();)d=d.right;return d.key}0>c?d=d.left:0<c&&(e=d,d=d.right)}throw Error("Attempted to find predecessor key for a nonexistent key.  What gives?");}h.f=function(){return this.Fa.f()};h.count=function(){return this.Fa.count()};h.Oc=function(){return this.Fa.Oc()};h.lc=function(){return this.Fa.lc()};h.ra=function(a){return this.Fa.ra(a)};
h.cc=function(a){return new De(this.Fa,null,this.Xa,!1,a)};h.dc=function(a,b){return new De(this.Fa,a,this.Xa,!1,b)};h.fc=function(a,b){return new De(this.Fa,a,this.Xa,!0,b)};h.hf=function(a){return new De(this.Fa,null,this.Xa,!0,a)};function De(a,b,c,d,e){this.Qd=e||null;this.Ae=d;for(this.$a=[];!a.f();)if(e=b?c(a.key,b):1,d&&(e*=-1),0>e)a=this.Ae?a.left:a.right;else if(0===e){this.$a.push(a);break}else this.$a.push(a),a=this.Ae?a.right:a.left}
function S(a){if(0===a.$a.length)return null;var b=a.$a.pop(),c;c=a.Qd?a.Qd(b.key,b.value):{key:b.key,value:b.value};if(a.Ae)for(b=b.left;!b.f();)a.$a.push(b),b=b.right;else for(b=b.right;!b.f();)a.$a.push(b),b=b.left;return c}function Ee(a){if(0===a.$a.length)return null;var b;b=a.$a;b=b[b.length-1];return a.Qd?a.Qd(b.key,b.value):{key:b.key,value:b.value}}function Fe(a,b,c,d,e){this.key=a;this.value=b;this.color=null!=c?c:Ge;this.left=null!=d?d:Ae;this.right=null!=e?e:Ae}var Ge=!0,Be=!1;h=Fe.prototype;
h.ba=function(a,b,c,d,e){return new Fe(null!=a?a:this.key,null!=b?b:this.value,null!=c?c:this.color,null!=d?d:this.left,null!=e?e:this.right)};h.count=function(){return this.left.count()+1+this.right.count()};h.f=function(){return!1};h.ra=function(a){return this.left.ra(a)||a(this.key,this.value)||this.right.ra(a)};function He(a){return a.left.f()?a:He(a.left)}h.Oc=function(){return He(this).key};h.lc=function(){return this.right.f()?this.key:this.right.lc()};
h.Ya=function(a,b,c){var d,e;e=this;d=c(a,e.key);e=0>d?e.ba(null,null,null,e.left.Ya(a,b,c),null):0===d?e.ba(null,b,null,null,null):e.ba(null,null,null,null,e.right.Ya(a,b,c));return Ie(e)};function Je(a){if(a.left.f())return Ae;a.left.la()||a.left.left.la()||(a=Ke(a));a=a.ba(null,null,null,Je(a.left),null);return Ie(a)}
h.remove=function(a,b){var c,d;c=this;if(0>b(a,c.key))c.left.f()||c.left.la()||c.left.left.la()||(c=Ke(c)),c=c.ba(null,null,null,c.left.remove(a,b),null);else{c.left.la()&&(c=Le(c));c.right.f()||c.right.la()||c.right.left.la()||(c=Me(c),c.left.left.la()&&(c=Le(c),c=Me(c)));if(0===b(a,c.key)){if(c.right.f())return Ae;d=He(c.right);c=c.ba(d.key,d.value,null,null,Je(c.right))}c=c.ba(null,null,null,null,c.right.remove(a,b))}return Ie(c)};h.la=function(){return this.color};
function Ie(a){a.right.la()&&!a.left.la()&&(a=Ne(a));a.left.la()&&a.left.left.la()&&(a=Le(a));a.left.la()&&a.right.la()&&(a=Me(a));return a}function Ke(a){a=Me(a);a.right.left.la()&&(a=a.ba(null,null,null,null,Le(a.right)),a=Ne(a),a=Me(a));return a}function Ne(a){return a.right.ba(null,null,a.color,a.ba(null,null,Ge,null,a.right.left),null)}function Le(a){return a.left.ba(null,null,a.color,null,a.ba(null,null,Ge,a.left.right,null))}
function Me(a){return a.ba(null,null,!a.color,a.left.ba(null,null,!a.left.color,null,null),a.right.ba(null,null,!a.right.color,null,null))}function Oe(){}h=Oe.prototype;h.ba=function(){return this};h.Ya=function(a,b){return new Fe(a,b,null)};h.remove=function(){return this};h.count=function(){return 0};h.f=function(){return!0};h.ra=function(){return!1};h.Oc=function(){return null};h.lc=function(){return null};h.la=function(){return!1};var Ae=new Oe;function T(a,b,c){this.A=a;(this.ha=b)&&we(this.ha);a.f()&&v(!this.ha||this.ha.f(),"An empty node cannot have a priority");this.Db=c;this.Fb=null}h=T.prototype;h.T=function(){return!1};h.H=function(){return this.ha||Q};h.ia=function(a){return this.A.f()?this:new T(this.A,a,this.Db)};h.S=function(a){if(".priority"===a)return this.H();a=this.A.get(a);return null===a?Q:a};h.va=function(a){var b=J(a);return null===b?this:this.S(b).va(K(a))};h.Sa=function(a){return null!==this.A.get(a)};
h.V=function(a,b){v(b,"We should always be passing snapshot nodes");if(".priority"===a)return this.ia(b);var c=new O(a,b),d,e;b.f()?(d=this.A.remove(a),c=ue(this.Db,c,this.A)):(d=this.A.Ya(a,b),c=re(this.Db,c,this.A));e=d.f()?Q:this.ha;return new T(d,e,c)};h.L=function(a,b){var c=J(a);if(null===c)return b;v(".priority"!==J(a)||1===Gd(a),".priority must be the last token in a path");var d=this.S(c).L(K(a),b);return this.V(c,d)};h.f=function(){return this.A.f()};h.Gb=function(){return this.A.count()};
var Pe=/^(0|[1-9]\d*)$/;h=T.prototype;h.R=function(a){if(this.f())return null;var b={},c=0,d=0,e=!0;this.Y(R,function(f,g){b[f]=g.R(a);c++;e&&Pe.test(f)?d=Math.max(d,Number(f)):e=!1});if(!a&&e&&d<2*c){var f=[],g;for(g in b)f[g]=b[g];return f}a&&!this.H().f()&&(b[".priority"]=this.H().R());return b};h.hash=function(){if(null===this.Fb){var a="";this.H().f()||(a+="priority:"+xe(this.H().R())+":");this.Y(R,function(b,c){var d=c.hash();""!==d&&(a+=":"+b+":"+d)});this.Fb=""===a?"":mb(a)}return this.Fb};
h.gf=function(a,b,c){return(c=Qe(this,c))?(a=Ce(c,new O(a,b)))?a.name:null:Ce(this.A,a)};function Re(a,b){var c;c=(c=Qe(a,b))?(c=c.Oc())&&c.name:a.A.Oc();return c?new O(c,a.A.get(c)):null}function Se(a,b){var c;c=(c=Qe(a,b))?(c=c.lc())&&c.name:a.A.lc();return c?new O(c,a.A.get(c)):null}h.Y=function(a,b){var c=Qe(this,a);return c?c.ra(function(a){return b(a.name,a.node)}):this.A.ra(b)};h.cc=function(a){return this.dc(Te,a)};
h.dc=function(a,b){var c=Qe(this,b);if(c)return c.dc(a,function(a){return a});for(var c=this.A.dc(a.name,se),d=Ee(c);null!=d&&0>b.compare(d,a);)S(c),d=Ee(c);return c};h.hf=function(a){return this.fc(a.Mc(),a)};h.fc=function(a,b){var c=Qe(this,b);if(c)return c.fc(a,function(a){return a});for(var c=this.A.fc(a.name,se),d=Ee(c);null!=d&&0<b.compare(d,a);)S(c),d=Ee(c);return c};h.Ac=function(a){return this.f()?a.f()?0:-1:a.T()||a.f()?1:a===ie?-1:0};
h.wb=function(a){if(a===me||Xa(this.Db.jc,a.toString()))return this;var b=this.Db,c=this.A;v(a!==me,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var d=[],e=!1,c=c.cc(se),f=S(c);f;)e=e||a.Gc(f.node),d.push(f),f=S(c);d=e?te(d,ge(a)):fe;e=a.toString();c=ab(b.jc);c[e]=a;a=ab(b.vd);a[e]=d;return new T(this.A,this.ha,new qe(a,c))};h.Hc=function(a){return a===me||Xa(this.Db.jc,a.toString())};
h.fa=function(a){if(a===this)return!0;if(a.T())return!1;if(this.H().fa(a.H())&&this.A.count()===a.A.count()){var b=this.cc(R);a=a.cc(R);for(var c=S(b),d=S(a);c&&d;){if(c.name!==d.name||!c.node.fa(d.node))return!1;c=S(b);d=S(a)}return null===c&&null===d}return!1};function Qe(a,b){return b===me?null:a.Db.get(b.toString())}h.toString=function(){return t(this.R(!0))};function P(a,b){if(null===a)return Q;var c=null;"object"===typeof a&&".priority"in a?c=a[".priority"]:"undefined"!==typeof b&&(c=b);v(null===c||"string"===typeof c||"number"===typeof c||"object"===typeof c&&".sv"in c,"Invalid priority type found: "+typeof c);"object"===typeof a&&".value"in a&&null!==a[".value"]&&(a=a[".value"]);if("object"!==typeof a||".sv"in a)return new ke(a,P(c));if(a instanceof Array){var d=Q,e=a;u(e,function(a,b){if(Gc(e,b)&&"."!==b.substring(0,1)){var c=P(a);if(c.T()||!c.f())d=
d.V(b,c)}});return d.ia(P(c))}var f=[],g=!1,k=a;Hc(k,function(a){if("string"!==typeof a||"."!==a.substring(0,1)){var b=P(k[a]);b.f()||(g=g||!b.H().f(),f.push(new O(a,b)))}});if(0==f.length)return Q;var l=te(f,ce,function(a){return a.name},de);if(g){var m=te(f,ge(R));return new T(l,P(c),new qe({".priority":m},{".priority":R}))}return new T(l,P(c),ve)}var Ue=Math.log(2);
function Ve(a){this.count=parseInt(Math.log(a+1)/Ue,10);this.Ye=this.count-1;this.Vf=a+1&parseInt(Array(this.count+1).join("1"),2)}function We(a){var b=!(a.Vf&1<<a.Ye);a.Ye--;return b}
function te(a,b,c,d){function e(b,d){var f=d-b;if(0==f)return null;if(1==f){var g=a[b],k=c?c(g):g;return new Fe(k,g.node,Be,null,null)}var g=parseInt(f/2,10)+b,f=e(b,g),L=e(g+1,d),g=a[g],k=c?c(g):g;return new Fe(k,g.node,Be,f,L)}a.sort(b);var f=function(b){function d(b,d){var k=A-b,l=A;A-=b;var l=e(k+1,l),k=a[k],m=c?c(k):k,l=new Fe(m,k.node,d,null,l);f?f.left=l:g=l;f=l}for(var f=null,g=null,A=a.length,L=0;L<b.count;++L){var da=We(b),vc=Math.pow(2,b.count-(L+1));da?d(vc,Be):(d(vc,Be),d(vc,Ge))}return g}(new Ve(a.length));
return null!==f?new ze(d||b,f):new ze(d||b)}function xe(a){return"number"===typeof a?"number:"+zb(a):"string:"+a}function we(a){if(a.T()){var b=a.R();v("string"===typeof b||"number"===typeof b||"object"===typeof b&&Gc(b,".sv"),"Priority must be a string or number.")}else v(a===ie||a.f(),"priority of unexpected type.");v(a===ie||a.H().f(),"Priority nodes can't have a priority of their own.")}var Q=new T(new ze(de),null,ve);function Xe(){T.call(this,new ze(de),Q,ve)}ma(Xe,T);h=Xe.prototype;
h.Ac=function(a){return a===this?0:1};h.fa=function(a){return a===this};h.H=function(){return this};h.S=function(){return Q};h.f=function(){return!1};var ie=new Xe,Te=new O("[MIN_NAME]",Q),oe=new O("[MAX_NAME]",ie);function U(a,b,c){this.I=a;this.Z=b;this.g=c}U.prototype.R=function(){E("Wilddog.DataSnapshot.val",0,0,arguments.length);return this.I.R()};U.prototype.val=U.prototype.R;U.prototype.cf=function(){E("Wilddog.DataSnapshot.exportVal",0,0,arguments.length);return this.I.R(!0)};U.prototype.exportVal=U.prototype.cf;U.prototype.hg=function(){E("Wilddog.DataSnapshot.exists",0,0,arguments.length);return!this.I.f()};U.prototype.exists=U.prototype.hg;
U.prototype.w=function(a){E("Wilddog.DataSnapshot.child",0,1,arguments.length);fa(a)&&(a=String(a));Xd("Wilddog.DataSnapshot.child",a);var b=new H(a),c=this.Z.w(b);return new U(this.I.va(b),c,R)};U.prototype.child=U.prototype.w;U.prototype.Sa=function(a){E("Wilddog.DataSnapshot.hasChild",1,1,arguments.length);Xd("Wilddog.DataSnapshot.hasChild",a);var b=new H(a);return!this.I.va(b).f()};U.prototype.hasChild=U.prototype.Sa;
U.prototype.H=function(){E("Wilddog.DataSnapshot.getPriority",0,0,arguments.length);return this.I.H().R()};U.prototype.getPriority=U.prototype.H;U.prototype.forEach=function(a){E("Wilddog.DataSnapshot.forEach",1,1,arguments.length);F("Wilddog.DataSnapshot.forEach",1,a,!1);if(this.I.T())return!1;var b=this;return!!this.I.Y(this.g,function(c,d){return a(new U(d,b.Z.w(c),R))})};U.prototype.forEach=U.prototype.forEach;
U.prototype.qd=function(){E("Wilddog.DataSnapshot.hasChildren",0,0,arguments.length);return this.I.T()?!1:!this.I.f()};U.prototype.hasChildren=U.prototype.qd;U.prototype.name=function(){x("Wilddog.DataSnapshot.name() being deprecated. Please use Wilddog.DataSnapshot.key() instead.");E("Wilddog.DataSnapshot.name",0,0,arguments.length);return this.key()};U.prototype.name=U.prototype.name;U.prototype.key=function(){E("Wilddog.DataSnapshot.key",0,0,arguments.length);return this.Z.key()};
U.prototype.key=U.prototype.key;U.prototype.Gb=function(){E("Wilddog.DataSnapshot.numChildren",0,0,arguments.length);return this.I.Gb()};U.prototype.numChildren=U.prototype.Gb;U.prototype.qc=function(){E("Wilddog.DataSnapshot.ref",0,0,arguments.length);return this.Z};U.prototype.ref=U.prototype.qc;function Ye(){Cb.call(this,["online"]);this.Kb=!0;if("undefined"!==typeof window&&"undefined"!==typeof window.addEventListener){this.Kb=window.navigator?window.navigator.onLine:!0;var a=this;window.addEventListener("online",function(){a.Kb||(a.Kb=!0,a.be("online",!0))},!1);window.addEventListener("offline",function(){a.Kb&&(a.Kb=!1,a.be("online",!1))},!1)}}ma(Ye,Cb);Ye.prototype.od=function(a){v("online"===a,"Unknown event type: "+a);return this.Kb};ba(Ye);function Ze(){Cb.call(this,["visible"]);var a,b;"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(b="visibilitychange",a="hidden"):"undefined"!==typeof document.mozHidden?(b="mozvisibilitychange",a="mozHidden"):"undefined"!==typeof document.msHidden?(b="msvisibilitychange",a="msHidden"):"undefined"!==typeof document.webkitHidden&&(b="webkitvisibilitychange",a="webkitHidden"));this.vc=!0;if(b){var c=this;document.addEventListener(b,
function(){var b=!document[a];b!==c.vc&&(c.vc=b,c.be("visible",b))},!1)}}ma(Ze,Cb);Ze.prototype.od=function(a){v("visible"===a,"Unknown event type: "+a);return this.vc};ba(Ze);var $e,af=null;"undefined"!=typeof require&&"undefined"!==typeof module&&module.exports?af=require("engine.io-client"):"undefined"!=typeof window?af=window.eio:"undefined"!=typeof global&&(af=global.eio);$e=af;function bf(a,b,c,d,e,f,g){this.id=a;this.o=qb("c:"+this.id+":");this.Za=c;this.Ke=null;this.Gd=d;this.Sc=e;this.Da=f;this.xg=g;this.B=b;this.da=0;this.o("Connection created");cf(this)}function cf(a){df(a,function(b){a.Pa=b;a.Pa.on("open",ef(a));a.Pa.on("error",ff(a))})}
function ef(a){return function(){a.tc&&(clearTimeout(a.tc),delete a.tc);a.Pa.on("message",gf(a));a.Pa.on("close",hf(a))}}
function gf(a){return function(b){if(null==b)throw Error("data is null");if(0!=b.charAt(0))if(2==b.charAt(0)){var c=null;try{c=JSON.parse(b.substr(1))}catch(d){throw d;}if("object"!=typeof c||2>c.length)throw Error("decodedData in wrong format");b=c[1];"wd"==c[0]?"c"==b.t?(c=b.d,"h"==c.t?jf(a,c.d):"r"==c.t?(c=c.d,a.o("Reset packet received.  New host: "+c),a.B.Vd||(a.Ke=c,b=a.B.ka,b[b.indexOf(a.Za)]=c,kf(a.B,b),a.close())):"s"==c.t&&(a.xg(c.d),a.close())):"d"==b.t&&a.Gd(b.d):a.o("eventType not known")}else 1!=
b.charAt(0)&&a.o("data format error")}}function hf(a){return function(){2!==a.da&&(a.o("Closing realtime connection."),a.da=2,a.Da&&(a.Da(a.Za,a.Ke),a.Da=null))}}function ff(a){return function(){a.tc&&(clearTimeout(a.tc),delete a.tc);a.close()}}
function jf(a,b){var c=b.ts,d=b.v,e=b.h;a.sessionId=b.s;"1.0"!=d&&x("Protocol version mismatch detected");0==a.da&&(e==a.Za||a.B.Vd?(a.da=1,a.o("realtime state connected"),lf(a.B,a.Za),a.Sc&&(a.Sc(c,a.Za),a.Sc=null)):(c=a.B.ka.indexOf(a.Za),d=a.B.ka,0<=c&&(d[c]=e),kf(a.B,d),a.o("updateHost ",d.toString()),a.Pa.close(),a.Za=e,df(a,function(b){a.Pa=b;a.Pa.on("open",ef(a));a.Pa.on("error",ff(a))})))}
function df(a,b){var c=["polling","websocket"],d=(a.B.Pb?"https://":"http://")+a.Za+"?v=1.0&cv="+CLIENT_VERSION;mf(a.B)&&(d=d+"&ns="+a.B.Ce);a.sessionId&&(d=d+"&s="+a.sessionId);0<a.B.rb.length&&(d=d+"&fst="+encodeURIComponent(a.B.rb.join(",")));var e;e=Uc.ze?"Default":Uc.get("UUID");e||(e=a.me(),Uc.set("UUID",e));var f={path:"/.ws",rememberUpgrade:!0};"undefined"==typeof document&&(f.jsonp=!1);a.B.ph?f.transports=["websocket"]:null!=c&&(f.transports=c);c=$e(d+"&did="+e,f);a.tc=setTimeout(function(){hf(a)()},
3E3);lb("new Socket_",typeof c);b(c)}bf.prototype.lb=function(a){a="2"+JSON.stringify(["wd",{t:"d",d:a}]);lb("sendRequest by eio",a);this.Pa.send(a)};bf.prototype.close=function(){2!==this.da&&(this.o("Closing realtime connection."),this.da=2,this.Pa&&this.Pa.close(),this.Da&&(this.Da(this.Za,this.Ke),this.Da=null))};bf.prototype.me=function(){for(var a=0,b="";32>a;)b+="0123456789abcdefghijklmnopqrstuvwxyz"[Math.floor(36*Math.random())],a++;return b};function nf(a,b,c,d){this.id=of++;this.o=qb("p:"+this.id+":");this.bd=this.mf=this.ye=!1;this.ma={};this.wa=[];this.Uc=0;this.Qc=[];this.qa=!1;this.j={};this.na=1E3;this.Bd=3E5;this.Jb=b;this.Pc=c;this.Ge=d;this.B=a;this.Me=null;this.Pd={};this.Jg=0;this.Ic=this.bc=null;this.ad=0;pf(this,0);Ze.ac().Hb("visible",this.Cg,this);-1===a.host.indexOf("wd.local")&&Ye.ac().Hb("online",this.zg,this)}var of=0,qf=0;h=nf.prototype;
h.lb=function(a,b,c){var d=++this.Jg;a={r:d,a:a,b:b};this.o(t(a));v(this.qa,"sendRequest call when we're not connected not allowed.");this.Ma.lb(a);c&&(this.Pd[d]=c)};h.nf=function(a,b,c,d){var e=rf(a),f=a.path.toString();this.o("Listen called for "+f+" "+e);this.ma[f]=this.ma[f]||{};v(!this.ma[f][e],"listen() called twice for same path/queryId.");a={P:d,rd:b,query:a,tag:c};this.ma[f][e]=a;this.qa&&sf(this,a)};
function sf(a,b){var c=b.query,d=c.path.toString(),e=rf(c);a.o("Listen on "+d+" for "+e);var f={p:d};b.tag&&(f.q=tf(c.D),f.t=b.tag);f.h=b.rd();a.lb("q",f,function(f){var g=f.d,l=f.s,m=f.c;if(g&&"object"===typeof g&&Gc(g,"w")){var A=G(g,"w");ea(A)&&0<=Ca(A,"no_index")&&x("Using an unspecified index. Consider adding "+('".indexOn": "'+c.D.g.toString()+'"')+" at "+c.path.toString()+" to your security rules for better performance")}(a.ma[d]&&a.ma[d][e])===b&&(a.o("listen response",f),"ok"!==l&&uf(a,d,
e),b.P&&b.P(l,g,m))})}h.he=function(a,b,c){this.Qa={cg:a,df:!1,yb:b,ed:c};this.o("Authenticating using credential: "+a);vf(this);40==a.length&&(this.o("Admin auth credential detected.  Reducing max reconnect time."),this.Bd=3E4)};h.If=function(a){delete this.Qa;this.qa&&this.lb("unauth",{},function(b){a(b.s,b.d,b.c||null)})};
function vf(a){var b=a.Qa;a.qa&&b&&a.lb("auth",{cred:b.cg},function(c){var d=c.s,e=c.d||"error";c=c.c||null;"ok"!==d&&a.Qa===b&&delete a.Qa;b.df?"ok"!==d&&b.ed&&b.ed(d,e,c):(b.df=!0,b.yb&&b.yb(d,e))})}h.Jf=function(a,b){var c=a.path.toString(),d=rf(a);this.o("Unlisten called for "+c+" "+d);if(uf(this,c,d)&&this.qa){var e=tf(a.D);this.o("Unlisten on "+c+" for "+d);c={p:c};b&&(c.q=e,c.t=b);this.lb("n",c)}};h.Fe=function(a,b,c){this.qa?wf(this,"o",a,b,c):this.Qc.push({Lb:a,action:"o",data:b,P:c})};
h.sf=function(a,b,c){this.qa?wf(this,"om",a,b,c):this.Qc.push({Lb:a,action:"om",data:b,P:c})};h.Fd=function(a,b){this.qa?wf(this,"oc",a,null,b):this.Qc.push({Lb:a,action:"oc",data:null,P:b})};function wf(a,b,c,d,e){c={p:c,d:d};a.o("onDisconnect "+b,c);a.lb(b,c,function(a){e&&setTimeout(function(){e(a.s,a.d,a.c)},Math.floor(0))})}h.put=function(a,b,c,d){xf(this,"p",a,b,c,d)};h.qf=function(a,b,c,d){xf(this,"m",a,b,c,d)};
function xf(a,b,c,d,e,f){d={p:c,d:d};p(f)&&(d.h=f);a.wa.push({action:b,request:d,P:e});a.Uc++;b=a.wa.length-1;a.qa?yf(a,b):a.o("Buffering put: "+c)}function yf(a,b){var c=a.wa[b].action,d=a.wa[b].request,e=a.wa[b].P;a.wa[b].Eg=a.qa;a.lb(c,d,function(d){a.o(c+" response",d);delete a.wa[b];a.Uc--;0===a.Uc&&(a.wa=[]);e&&e(d.s,d.d,d.c)})}h.Je=function(a){if(this.qa){a={c:a};this.o("reportStats",a);var b=this;this.lb("s",a,function(a){"ok"!==a.s&&b.o("reportStats","Error sending stats: "+a.d,"Code:"+a.c)})}};
h.wg=function(a){if("r"in a){this.o("from server: "+t(a));var b=a.r,c=this.Pd[b];c&&(delete this.Pd[b],c(a.b))}else{if("error"in a)throw"A server-side error has occurred: "+a.error;"a"in a&&(b=a.a,c=a.b,this.o("handleServerMessage",b,c),"d"===b?this.Jb(c.p,c.d,!1,c.t):"m"===b?this.Jb(c.p,c.d,!0,c.t):"c"===b?zf(this,c.p,c.q):"ac"===b?(a=c.s,b=c.d,c=this.Qa,delete this.Qa,c&&c.ed&&c.ed(a,b)):"sd"===b?this.Me?this.Me(c):"msg"in c&&"undefined"!==typeof console&&console.log("WILDDOG: "+c.msg.replace("\n",
"\nWILDDOG: ")):rb("Unrecognized action received from server: "+t(b)+"\nAre you using the latest client?"))}};
h.Sc=function(a,b){if(!1===this.qa){this.o("connection ready");this.qa=!0;this.Ma=this.j[b].za;for(var c in this.j)this.j.hasOwnProperty(c)&&(clearTimeout(this.j[c].De),delete this.j[c].De);delete this.j[b];this.Ic=(new Date).getTime();this.Ge({serverTimeOffset:a-(new Date).getTime()});c=Uc.ze?"Default":Uc.get("UUID");c||(c=this.me(),Uc.set("UUID",c));var d={};d["sdk.js."+CLIENT_VERSION.replace(/\./g,"-")]=1;d.did=c;ed()&&(d["framework.cordova"]=1);this.Je(d);Af(this);this.Pc(!0)}else this.j[b].za.close(),
delete this.j[b]};function pf(a,b,c){v(!a.Ma,"Scheduling a connect when we're already connected/ing?");Bf(a,function(){var a=c||this.B.ka[0];this.j[a]=this.j[a]||{na:1E3,ad:0};this.j[a].ib&&clearTimeout(this.j[a].ib);var e=this;this.j[a].ib=setTimeout(function(){e.j[a]&&e.j[a].ib&&(e.j[a].ib=null,Cf(e,a))},Math.floor(b))}.bind(a))}
h.Cg=function(a){if(a&&!this.vc){this.o("Window became visible.  Reducing delay.");this.na=1E3;var b=!1,c;for(c in this.j)this.j.hasOwnProperty(c)&&c.za&&(b=!0,c.na=1E3);this.Ma||b||this.bd||pf(this,0)}this.vc=a};
h.zg=function(a){if(a){this.o("Browser went online.");this.na=1E3;a=!1;for(var b in this.j)this.j.hasOwnProperty(b)&&b.za&&(a=!0,b.na=1E3);this.Ma||a||this.bd||(this.bc&&clearTimeout(this.bc),pf(this,0))}else for(b in this.o("Browser went offline.  Killing connection."),this.Ma&&this.Ma.close(),this.j)this.j.hasOwnProperty(b)&&b.za&&b.za.close()};
h.Ag=function(a,b){this.o("data client disconnected");if(b)delete this.j[a];else if(this.qa&&this.Ma.Za!=a||-1==this.B.ka.indexOf(a)){delete this.j[a];return}var c=b||a;this.Pc(!1);this.qa=!1;this.Ma=null;this.j[a]&&delete this.j[a].za;for(var d=0;d<this.wa.length;d++){var e=this.wa[d];e&&"h"in e.request&&e.Eg&&(e.P&&e.P("disconnect"),delete this.wa[d],this.Uc--)}0===this.Uc&&(this.wa=[]);this.Pd={};if(Df(this)){this.j[c]=this.j[c]||{na:1E3,ad:0};this.j[c].ad++;var d=!0,f;for(f in this.j)this.j.hasOwnProperty(f)&&
5>this.j[f].ad&&(d=!1);e=this.B;!nd.Ud&&null!=c&&0>e.rb.indexOf(c)&&c!=e.host&&(e.rb.push(c),w.set("failHosts",JSON.stringify(e.rb)));if(d&&Object.getOwnPropertyNames(this.j).length==this.B.ka.length&&!this.B.Vd){this.o("error while connecting",c);kf(this.B,[]);for(f in this.j)this.j.hasOwnProperty(f)&&this.j[f].ib&&clearTimeout(this.j[f].ib);this.j={};pf(this,0)}else this.vc?this.Ic&&(3E4<(new Date).getTime()-this.Ic&&(this.j[c].na=1E3),this.Ic=null):(this.o("Window isn't visible.  Delaying reconnect."),
this.j[c].na=this.Bd,this.j[c].xd=(new Date).getTime()),f=Math.max(0,this.j[c].na-((new Date).getTime()-this.j[c].xd)),f*=Math.random(),this.o("Trying to reconnect in "+f+"ms"),pf(this,f,c),this.j[c].na=Math.min(this.Bd,1.3*this.j[c].na)}};
function Cf(a,b){if(!a.j[b]||!a.j[b].za){a.o("Making a connection attempt");a.j[b].xd=(new Date).getTime();a.Ic=null;var c=r(a.wg,a),d=r(a.Sc,a),e=r(a.Ag,a),f=a.id+":"+qf++;a.j[b].za=new bf(f,a.B,b,c,d,e,function(b){x(b+" ("+a.B.toString()+")");a.mf=!0});var g=a.B.ka[a.B.ka.indexOf(b)+1];g&&(a.j[b].De=a.j[b].De||setTimeout(function(){Df(a)&&!a.Ma&&pf(a,0,g)},1E4))}}
h.Fc=function(){this.ye=!0;if(this.Ma)this.Ma.close();else for(var a in this.j)this.j.hasOwnProperty(a)&&(a.za?a.za.close():a.ib&&(clearTimeout(a.ib),a.ib=null))};h.resume=function(){this.ye=!1;this.na=1E3;var a=!1,b;for(b in this.j)this.j.hasOwnProperty(b)&&b.za&&(a=!0,b.na=1E3);this.Ma||a||pf(this,0)};function zf(a,b,c){c=c?Fa(c,function(a){return xb(a)}).join("$"):"default";(a=uf(a,b,c))&&a.P&&a.P("permission_denied")}
function uf(a,b,c){b=(new H(b)).toString();var d;p(a.ma[b])?(d=a.ma[b][c],delete a.ma[b][c],0===Sa(a.ma[b])&&delete a.ma[b]):d=void 0;return d}function Af(a){vf(a);u(a.ma,function(b){u(b,function(b){sf(a,b)})});for(var b=0;b<a.wa.length;b++)a.wa[b]&&yf(a,b);for(;a.Qc.length;)b=a.Qc.shift(),wf(a,b.action,b.Lb,b.data,b.P)}function Df(a){var b;b=Ye.ac().Kb;return!a.mf&&!a.ye&&b}h.me=function(){for(var a=0,b="";32>a;)b+="0123456789abcdefghijklmnopqrstuvwxyz"[Math.floor(36*Math.random())],a++;return b};
function Bf(a,b){if(0!=a.B.ka.length&&a.B.ka)b(a.B.ka);else{a.xd=(new Date).getTime();var c=md(["XHR","JSONP","NodeHttp","WxHttp"]),c=Ea(c,function(a){return"function"===typeof a.isAvailable&&a.isAvailable()});if(0===c.length)setTimeout(function(){a.close()},0);else{var c=new (c.shift())({method:"GET"}),d=("undefined"==typeof document?"http":"https")+"://ns.wilddog.com/v1/lookup?appId="+a.B.Ce;a.bd=!0;c.open(d,null,function(c,d){a.bd=!1;if(d&&(d.errcode||d.message))throw c=Error(d.message||"Unknown error!"),
c.code=d.errcode,c;if(c||!d.nssList){var e=Math.max(0,a.na-((new Date).getTime()-a.xd)),e=Math.random()*e;a.o("Trying to nslookup in "+e+"ms");a.bc&&(clearTimeout(a.bc),a.bc=null);a.bc=setTimeout(function(){Df(a)&&pf(a,0)},e);a.na=Math.min(a.Bd,1.3*a.na)}else kf(a.B,d.nssList),b(d.nssList)})}}};function Ef(a,b){this.o=qb("p:rest:");this.B=a;this.Jb=b;this.Qa=null;this.ma={}}function Ff(a,b){if(p(b))return"tag$"+b;var c=a.D;v(Gf(c)&&c.g==R,"should have a tag if it's not a default query.");return a.path.toString()}h=Ef.prototype;
h.nf=function(a,b,c,d){var e=a.path.toString();this.o("Listen called for "+e+" "+rf(a));var f=Ff(a,c),g={};this.ma[f]=g;a=Hf(a.D);var k=this;If(this,e+".json",a,function(a,b){var l=b;404===a&&(a=l=null);null===a&&k.Jb(e,l,!1,c);G(k.ma,f)===g&&d(a?401==a?"permission_denied":"rest_error:"+a:"ok",null)})};h.Jf=function(a,b){var c=Ff(a,b);delete this.ma[c]};h.he=function(a,b){this.Qa=a;var c=Jc(a),d=c.data,c=c.ke&&c.ke.exp;b&&b("ok",{auth:d,expires:c})};h.If=function(a){this.Qa=null;a("ok",null)};
h.Fe=function(){};h.sf=function(){};h.Fd=function(){};h.put=function(){};h.qf=function(){};h.Je=function(){};
function If(a,b,c,d){c=c||{};c.format="export";a.Qa&&(c.auth=a.Qa);var e=(a.B.Pb?"https://":"http://")+a.B.host+b+"?"+Wc(c);a.o("Sending REST request for "+e);var f=new XMLHttpRequest;f.onreadystatechange=function(){if(d&&4===f.readyState){a.o("REST Response for "+e+" received. status:",f.status,"response:",f.responseText);var b=null;if(200<=f.status&&300>f.status){try{b=wa(f.responseText)}catch(k){x("Failed to parse JSON response for "+e+": "+f.responseText)}d(null,b)}else 401!==f.status&&404!==
f.status&&x("Got unsuccessful REST response for "+e+" Status: "+f.status),d(f.status);d=null}};f.open("GET",e,!0);f.send()};function Jf(){this.Rd=Q}Jf.prototype.m=function(a){return this.Rd.va(a)};Jf.prototype.toString=function(){return this.Rd.toString()};function Kf(){this.set={}}h=Kf.prototype;h.add=function(a,b){this.set[a]=null!==b?b:!0};h.contains=function(a){return Gc(this.set,a)};h.get=function(a){return this.contains(a)?this.set[a]:void 0};h.remove=function(a){delete this.set[a]};h.clear=function(){this.set={}};h.f=function(){return $a(this.set)};h.count=function(){return Sa(this.set)};function Lf(a,b){u(a.set,function(a,d){b(d,a)})}h.keys=function(){var a=[];u(this.set,function(b,c){a.push(c)});return a};function Mf(){this.A=this.J=null}Mf.prototype.find=function(a){if(null!=this.J)return this.J.va(a);if(a.f()||null==this.A)return null;var b=J(a);a=K(a);return this.A.contains(b)?this.A.get(b).find(a):null};function Nf(a,b,c){if(b.f())a.J=c,a.A=null;else if(null!==a.J)a.J=a.J.L(b,c);else{null==a.A&&(a.A=new Kf);var d=J(b);a.A.contains(d)||a.A.add(d,new Mf);a=a.A.get(d);b=K(b);Nf(a,b,c)}}
function Of(a,b){if(b.f())return a.J=null,a.A=null,!0;if(null!==a.J){if(a.J.T())return!1;var c=a.J;a.J=null;c.Y(R,function(b,c){Nf(a,new H(b),c)});return Of(a,b)}return null!==a.A?(c=J(b),b=K(b),a.A.contains(c)&&Of(a.A.get(c),b)&&a.A.remove(c),a.A.f()?(a.A=null,!0):!1):!0}function Pf(a,b,c){null!==a.J?c(b,a.J):a.Y(function(a,e){var d=new H(b.toString()+"/"+a);Pf(e,d,c)})}Mf.prototype.Y=function(a){null!==this.A&&Lf(this.A,function(b,c){a(b,c)})};function Qf(a,b){this.type=Rf;this.source=Sf;this.path=a;this.Le=b}Qf.prototype.Tc=function(){return this.path.f()?this:new Qf(K(this.path),this.Le)};Qf.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" ack write revert="+this.Le+")"};function Tf(a,b,c){this.type=Uf;this.source=a;this.path=b;this.children=c}Tf.prototype.Tc=function(a){if(this.path.f())return a=this.children.subtree(new H(a)),a.f()?null:a.value?new Vf(this.source,M,a.value):new Tf(this.source,M,a);v(J(this.path)===a,"Can't get a merge for a child not on the path of the operation");return new Tf(this.source,K(this.path),this.children)};Tf.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"};function Vf(a,b,c){this.type=Wf;this.source=a;this.path=b;this.Ta=c}Vf.prototype.Tc=function(a){return this.path.f()?new Vf(this.source,M,this.Ta.S(a)):new Vf(this.source,K(this.path),this.Ta)};Vf.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" overwrite: "+this.Ta.toString()+")"};function Xf(a,b){this.type=Yf;this.source=a;this.path=b}Xf.prototype.Tc=function(){return this.path.f()?new Xf(this.source,M):new Xf(this.source,K(this.path))};Xf.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" listen_complete)"};var Wf=0,Uf=1,Rf=2,Yf=3;function Zf(a,b,c,d){this.re=a;this.ef=b;this.Nb=c;this.Re=d;v(!d||b,"Tagged queries must be from server.")}var Sf=new Zf(!0,!1,null,!1),$f=new Zf(!1,!0,null,!1);Zf.prototype.toString=function(){return this.re?"user":this.Re?"server(queryID="+this.Nb+")":"server"};function ag(a,b){this.value=a;this.children=b||bg}var bg=new ze(function(a,b){return a===b?0:a<b?-1:1});function cg(a){var b=dg;u(a,function(a,d){b=b.set(new H(d),a)});return b}h=ag.prototype;h.f=function(){return null===this.value&&this.children.f()};function eg(a,b,c){if(null!=a.value&&c(a.value))return{path:M,value:a.value};if(b.f())return null;var d=J(b);a=a.children.get(d);return null!==a?(b=eg(a,K(b),c),null!=b?{path:(new H(d)).w(b.path),value:b.value}:null):null}
function fg(a,b){return eg(a,b,function(){return!0})}h.subtree=function(a){if(a.f())return this;var b=this.children.get(J(a));return null!==b?b.subtree(K(a)):dg};h.set=function(a,b){if(a.f())return new ag(b,this.children);var c=J(a),d=(this.children.get(c)||dg).set(K(a),b),c=this.children.Ya(c,d);return new ag(this.value,c)};
h.remove=function(a){if(a.f())return this.children.f()?dg:new ag(null,this.children);var b=J(a),c=this.children.get(b);return c?(a=c.remove(K(a)),b=a.f()?this.children.remove(b):this.children.Ya(b,a),null===this.value&&b.f()?dg:new ag(this.value,b)):this};h.get=function(a){if(a.f())return this.value;var b=this.children.get(J(a));return b?b.get(K(a)):null};
function gg(a,b,c){if(b.f())return c;var d=J(b);b=gg(a.children.get(d)||dg,K(b),c);d=b.f()?a.children.remove(d):a.children.Ya(d,b);return new ag(a.value,d)}function hg(a,b){return ig(a,M,b)}function ig(a,b,c){var d={};a.children.ra(function(a,f){d[a]=ig(f,b.w(a),c)});return c(b,a.value,d)}function jg(a,b,c){return kg(a,b,M,c)}function kg(a,b,c,d){var e=a.value?d(c,a.value):!1;if(e)return e;if(b.f())return null;e=J(b);return(a=a.children.get(e))?kg(a,K(b),c.w(e),d):null}
function lg(a,b,c){if(!b.f()){var d=!0;a.value&&(d=c(M,a.value));!0===d&&(d=J(b),(a=a.children.get(d))&&mg(a,K(b),M.w(d),c))}}function mg(a,b,c,d){if(b.f())return a;a.value&&d(c,a.value);var e=J(b);return(a=a.children.get(e))?mg(a,K(b),c.w(e),d):dg}function ng(a,b){og(a,M,b)}function og(a,b,c){a.children.ra(function(a,e){og(e,b.w(a),c)});a.value&&c(b,a.value)}function pg(a,b){a.children.ra(function(a,d){d.value&&b(a,d.value)})}var dg=new ag(null);
ag.prototype.toString=function(){var a={};ng(this,function(b,c){a[b.toString()]=c.toString()});return t(a)};function qg(a,b,c){this.I=a;this.O=b;this.Yb=c}function rg(a,b){return a.O&&!a.Yb||a.I.Sa(b)}qg.prototype.m=function(){return this.I};function sg(a,b){this.K=a;this.Sd=b}function tg(a,b,c,d){return new sg(new qg(b,c,d),a.Sd)}function ug(a){return a.K.O?a.K.m():null}sg.prototype.F=function(){return this.Sd};function vg(a){return a.Sd.O?a.Sd.m():null};function V(a,b,c,d){this.type=a;this.Ua=b;this.hb=c;this.Ee=d;this.Md=void 0};function wg(a,b,c,d){this.ne=b;this.Td=c;this.Md=d;this.md=a}wg.prototype.ec=function(){var a=this.Td.qc();return"value"===this.md?a.path:a.parent().path};wg.prototype.te=function(){return this.md};wg.prototype.Zb=function(){return this.ne.Zb(this)};wg.prototype.toString=function(){return this.ec().toString()+":"+this.md+":"+t(this.Td.cf())};function xg(a,b,c){this.ne=a;this.error=b;this.path=c}xg.prototype.ec=function(){return this.path};xg.prototype.te=function(){return"cancel"};
xg.prototype.Zb=function(){return this.ne.Zb(this)};xg.prototype.toString=function(){return this.path.toString()+":cancel"};function yg(a,b,c){this.Wb=a;this.zb=b;this.Ab=c||null}h=yg.prototype;h.Bf=function(a){return"value"===a};h.createEvent=function(a,b){var c=b.D.g;return new wg("value",this,new U(a.Ua,b.qc(),c))};h.Zb=function(a){var b=this.Ab;if("cancel"===a.te()){v(this.zb,"Raising a cancel event on a listener with no cancel callback");var c=this.zb;return function(){c.call(b,a.error)}}var d=this.Wb;return function(){d.call(b,a.Td)}};h.Xe=function(a,b){return this.zb?new xg(this,a,b):null};
h.matches=function(a){return a instanceof yg?a.Wb&&this.Wb?a.Wb===this.Wb&&a.Ab===this.Ab:!0:!1};h.jf=function(){return null!==this.Wb};function zg(a,b,c){this.pa=a;this.zb=b;this.Ab=c}h=zg.prototype;h.Bf=function(a){a="children_added"===a?"child_added":a;return Wa(this.pa,"children_removed"===a?"child_removed":a)};h.Xe=function(a,b){return this.zb?new xg(this,a,b):null};
h.createEvent=function(a,b){v(null!=a.hb,"Child events should have a childName.");var c=b.qc().w(a.hb);return new wg(a.type,this,new U(a.Ua,c,b.D.g),a.Md)};h.Zb=function(a){var b=this.Ab;if("cancel"===a.te()){v(this.zb,"Raising a cancel event on a listener with no cancel callback");var c=this.zb;return function(){c.call(b,a.error)}}var d=this.pa[a.md];return function(){d.call(b,a.Td,a.Md)}};
h.matches=function(a){if(a instanceof zg){if(!this.pa||!a.pa)return!0;if(this.Ab===a.Ab){var b=Sa(a.pa);if(b===Sa(this.pa)){if(1===b){var b=Ta(a.pa),c=Ta(this.pa);return c===b&&(!a.pa[b]||!this.pa[c]||a.pa[b]===this.pa[c])}return Ra(this.pa,function(b,c){return a.pa[c]===b})}}}return!1};h.jf=function(){return null!==this.pa};function Ag(a){this.Z=a;this.g=a.D.g}function Bg(a,b,c,d){var e=[],f=[];Da(b,function(b){"child_changed"===b.type&&a.g.ud(b.Ee,b.Ua)&&f.push(new V("child_moved",b.Ua,b.hb))});Cg(a,e,"child_removed",b,d,c);Cg(a,e,"child_added",b,d,c);Cg(a,e,"child_moved",f,d,c);Cg(a,e,"child_changed",b,d,c);Cg(a,e,"value",b,d,c);return e}function Cg(a,b,c,d,e,f){d=Ea(d,function(a){return a.type===c});La(d,r(a.Yf,a));Da(d,function(c){var d=Dg(a,c,f);Da(e,function(e){e.Bf(c.type)&&b.push(e.createEvent(d,a.Z))})})}
function Dg(a,b,c){"value"!==b.type&&"child_removed"!==b.type&&(b.Md=c.gf(b.hb,b.Ua,a.g));return b}Ag.prototype.Yf=function(a,b){if(null==a.hb||null==b.hb)throw jb("Should only compare child_ events.");return this.g.compare(new O(a.hb,a.Ua),new O(b.hb,b.Ua))};function Eg(){}Eg.prototype.ff=function(){return null};Eg.prototype.se=function(){return null};var Fg=new Eg;function Gg(a,b,c){this.Kf=a;this.Va=b;this.Id=c}Gg.prototype.ff=function(a){var b=this.Va.K;if(rg(b,a))return b.m().S(a);b=null!=this.Id?new qg(this.Id,!0,!1):this.Va.F();return this.Kf.gb(a,b)};Gg.prototype.se=function(a,b,c){var d=null!=this.Id?this.Id:vg(this.Va);a=this.Kf.je(d,b,1,c,a);return 0===a.length?null:a[0]};function Hg(a,b){this.de=a;this.Wf=b}function Ig(a){this.N=a}
Ig.prototype.mb=function(a,b,c,d){var e=new Jg,f;if(b.type===Wf)b.source.re?c=Kg(this,a,b.path,b.Ta,c,d,e):(v(b.source.ef,"Unknown source."),f=b.source.Re,c=Lg(this,a,b.path,b.Ta,c,d,f,e));else if(b.type===Uf)b.source.re?c=Mg(this,a,b.path,b.children,c,d,e):(v(b.source.ef,"Unknown source."),f=b.source.Re,c=Ng(this,a,b.path,b.children,c,d,f,e));else if(b.type===Rf)if(b.Le)if(f=b.path,null!=c.sc(f))c=a;else{b=new Gg(c,a,d);d=a.K.m();if(f.f()||".priority"===J(f))a.F().O?b=c.Ca(vg(a)):(b=a.F().m(),v(b instanceof
T,"serverChildren would be complete if leaf node"),b=c.zc(b)),b=this.N.Ba(d,b,e);else{f=J(f);var g=c.gb(f,a.F());null==g&&rg(a.F(),f)&&(g=d.S(f));b=null!=g?this.N.L(d,f,g,b,e):a.K.m().Sa(f)?this.N.L(d,f,Q,b,e):d;b.f()&&a.F().O&&(d=c.Ca(vg(a)),d.T()&&(b=this.N.Ba(b,d,e)))}d=a.F().O||null!=c.sc(M);c=tg(a,b,d,this.N.Ra())}else c=Og(this,a,b.path,c,d,e);else if(b.type===Yf)d=b.path,b=a.F(),f=b.m(),g=b.O||d.f(),c=Pg(this,new sg(a.K,new qg(f,g,b.Yb)),d,c,Fg,e);else throw jb("Unknown operation type: "+b.type);
e=Ua(e.qb);d=c;b=d.K;b.O&&(f=b.m().T()||b.m().f(),g=ug(a),(0<e.length||!a.K.O||f&&!b.m().fa(g)||!b.m().H().fa(g.H()))&&e.push(new V("value",ug(d))));return new Hg(c,e)};
function Pg(a,b,c,d,e,f){var g=b.K;if(null!=d.sc(c))return b;var k;if(c.f())v(b.F().O,"If change path is empty, we must have complete server data"),b.F().Yb?(e=vg(b),d=d.zc(e instanceof T?e:Q)):d=d.Ca(vg(b)),f=a.N.Ba(b.K.m(),d,f);else{var l=J(c);if(".priority"==l)v(1==Gd(c),"Can't have a priority with additional path components"),f=g.m(),k=b.F().m(),d=d.dd(c,f,k),f=null!=d?a.N.ia(f,d):g.m();else{var m=K(c);rg(g,l)?(k=b.F().m(),d=d.dd(c,g.m(),k),d=null!=d?g.m().S(l).L(m,d):g.m().S(l)):d=d.gb(l,b.F());
f=null!=d?a.N.L(g.m(),l,d,e,f):g.m()}}return tg(b,f,g.O||c.f(),a.N.Ra())}function Lg(a,b,c,d,e,f,g,k){var l=b.F();g=g?a.N:a.N.$b();if(c.f())d=g.Ba(l.m(),d,null);else if(g.Ra()&&!l.Yb)d=l.m().L(c,d),d=g.Ba(l.m(),d,null);else{var m=J(c);if((c.f()?!l.O||l.Yb:!rg(l,J(c)))&&1<Gd(c))return b;d=l.m().S(m).L(K(c),d);d=".priority"==m?g.ia(l.m(),d):g.L(l.m(),m,d,Fg,null)}l=l.O||c.f();b=new sg(b.K,new qg(d,l,g.Ra()));return Pg(a,b,c,e,new Gg(e,b,f),k)}
function Kg(a,b,c,d,e,f,g){var k=b.K;e=new Gg(e,b,f);if(c.f())g=a.N.Ba(b.K.m(),d,g),a=tg(b,g,!0,a.N.Ra());else if(f=J(c),".priority"===f)g=a.N.ia(b.K.m(),d),a=tg(b,g,k.O,k.Yb);else{var l=K(c);c=k.m().S(f);if(!l.f()){var m=e.ff(f);d=null!=m?".priority"===Hd(l)&&m.va(l.parent()).f()?m:m.L(l,d):Q}c.fa(d)?a=b:(g=a.N.L(k.m(),f,d,e,g),a=tg(b,g,k.O,a.N.Ra()))}return a}
function Mg(a,b,c,d,e,f,g){var k=b;ng(d,function(d,m){var l=c.w(d);rg(b.K,J(l))&&(k=Kg(a,k,l,m,e,f,g))});ng(d,function(d,m){var l=c.w(d);rg(b.K,J(l))||(k=Kg(a,k,l,m,e,f,g))});return k}function Qg(a,b){ng(b,function(b,d){a=a.L(b,d)});return a}
function Ng(a,b,c,d,e,f,g,k){if(b.F().m().f()&&!b.F().O)return b;var l=b;c=c.f()?d:gg(dg,c,d);var m=b.F().m();c.children.ra(function(c,d){if(m.Sa(c)){var A=b.F().m().S(c),A=Qg(A,d);l=Lg(a,l,new H(c),A,e,f,g,k)}});c.children.ra(function(c,d){var A=!b.F().O&&null==d.value;m.Sa(c)||A||(A=b.F().m().S(c),A=Qg(A,d),l=Lg(a,l,new H(c),A,e,f,g,k))});return l}
function Og(a,b,c,d,e,f){if(null!=d.sc(c))return b;var g=new Gg(d,b,e),k=e=b.K.m();if(b.F().O){if(c.f())e=d.Ca(vg(b)),k=a.N.Ba(b.K.m(),e,f);else if(".priority"===J(c)){var l=d.gb(J(c),b.F());null==l||e.f()||e.H().fa(l)||(k=a.N.ia(e,l))}else l=J(c),e=d.gb(l,b.F()),null!=e&&(k=a.N.L(b.K.m(),l,e,g,f));e=!0}else if(b.K.O||c.f())k=e,e=b.K.m(),e.T()||e.Y(R,function(c){var e=d.gb(c,b.F());null!=e&&(k=a.N.L(k,c,e,g,f))}),e=b.K.O;else{l=J(c);if(1==Gd(c)||rg(b.K,l))c=d.gb(l,b.F()),null!=c&&(k=a.N.L(e,l,c,g,
f));e=!1}return tg(b,k,e,a.N.Ra())};function Rg(a,b){this.Z=a;var c=a.D,d=new Sg(c.g),c=Gf(c)?new Sg(c.g):c.sa?new Tg(c):new Ug(c);this.yf=new Ig(c);var e=b.F(),f=b.K,g=d.Ba(Q,e.m(),null),k=c.Ba(Q,f.m(),null);this.Va=new sg(new qg(k,f.O,c.Ra()),new qg(g,e.O,d.Ra()));this.jb=[];this.eg=new Ag(a)}h=Rg.prototype;h.F=function(){return this.Va.F().m()};h.sb=function(a){var b=vg(this.Va);return b&&(Gf(this.Z.D)||!a.f()&&!b.S(J(a)).f())?b.va(a):null};h.f=function(){return 0===this.jb.length};h.Tb=function(a){this.jb.push(a)};
h.ub=function(a,b){var c=[];if(b){v(null==a,"A cancel should cancel all event registrations.");var d=this.Z.path;Da(this.jb,function(a){(a=a.Xe(b,d))&&c.push(a)})}if(a){for(var e=[],f=0;f<this.jb.length;++f){var g=this.jb[f];if(!g.matches(a))e.push(g);else if(a.jf()){e=e.concat(this.jb.slice(f+1));break}}this.jb=e}else this.jb=[];return c};
h.mb=function(a,b,c){a.type===Uf&&null!==a.source.Nb&&(v(vg(this.Va),"We should always have a full cache before handling merges"),v(ug(this.Va),"Missing event cache, even though we have a server cache"));var d=this.Va;a=this.yf.mb(d,a,b,c);b=this.yf;c=a.de;v(c.K.m().Hc(b.N.g),"Event snap not indexed");v(c.F().m().Hc(b.N.g),"Server snap not indexed");v(a.de.F().O||!d.F().O,"Once a server snap is complete, it should never go back");this.Va=a.de;return Vg(this,a.Wf,a.de.K.m(),null)};
function Wg(a,b){var c=a.Va.K,d=[];c.m().T()||c.m().Y(R,function(a,b){d.push(new V("child_added",b,a))});c.O&&d.push(new V("value",c.m()));return Vg(a,d,c.m(),b)}function Vg(a,b,c,d){return Bg(a.eg,b,c,d?[d]:a.jb)};function Xg(){this.Ga={}}h=Xg.prototype;h.f=function(){return $a(this.Ga)};h.mb=function(a,b,c){var d=a.source.Nb;if(null!==d)return d=G(this.Ga,d),v(null!=d,"SyncTree gave us an op for an invalid query."),d.mb(a,b,c);var e=[];u(this.Ga,function(d){e=e.concat(d.mb(a,b,c))});return e};h.Tb=function(a,b,c,d,e){var f=rf(a),g=G(this.Ga,f);g||((g=c.Ca(e?d:null))?c=!0:(g=d instanceof T?c.zc(d):Q,c=!1),g=new Rg(a,new sg(new qg(g,c,!1),new qg(d,e,!1))),this.Ga[f]=g);g.Tb(b);return Wg(g,b)};
h.ub=function(a,b,c){var d=rf(a),e=[],f=[],g=null!=Yg(this);if("default"===d){var k=this;u(this.Ga,function(a,d){f=f.concat(a.ub(b,c));a.f()&&(delete k.Ga[d],Gf(a.Z.D)||e.push(a.Z))})}else{var l=G(this.Ga,d);l&&(f=f.concat(l.ub(b,c)),l.f()&&(delete this.Ga[d],Gf(l.Z.D)||e.push(l.Z)))}g&&null==Yg(this)&&e.push(new W(a.G.M,a.G,a.path));return{Ig:e,fg:f}};function Zg(a){return Ea(Ua(a.Ga),function(a){return!Gf(a.Z.D)})}h.sb=function(a){var b=null;u(this.Ga,function(c){b=b||c.sb(a)});return b};
function $g(a,b){if(Gf(b.D))return Yg(a);var c=rf(b);return G(a.Ga,c)}function Yg(a){return Za(a.Ga,function(a){return Gf(a.Z.D)})||null};function ah(a){this.aa=a}var bh=new ah(new ag(null));function ch(a,b,c){if(b.f())return new ah(new ag(c));var d=fg(a.aa,b);if(null!=d){var e=d.path,d=d.value;b=I(e,b);d=d.L(b,c);return new ah(a.aa.set(e,d))}a=gg(a.aa,b,new ag(c));return new ah(a)}function dh(a,b,c){var d=a;Hc(c,function(a,c){d=ch(d,b.w(a),c)});return d}ah.prototype.Nd=function(a){if(a.f())return bh;a=gg(this.aa,a,dg);return new ah(a)};function eh(a,b){var c=fg(a.aa,b);return null!=c?a.aa.get(c.path).va(I(c.path,b)):null}
function fh(a){var b=[],c=a.aa.value;null!=c?c.T()||c.Y(R,function(a,c){b.push(new O(a,c))}):a.aa.children.ra(function(a,c){null!=c.value&&b.push(new O(a,c.value))});return b}function gh(a,b){if(b.f())return a;var c=eh(a,b);return null!=c?new ah(new ag(c)):new ah(a.aa.subtree(b))}ah.prototype.f=function(){return this.aa.f()};ah.prototype.apply=function(a){return hh(M,this.aa,a)};
function hh(a,b,c){if(null!=b.value)return c.L(a,b.value);var d=null;b.children.ra(function(b,f){".priority"===b?(v(null!==f.value,"Priority writes must always be leaf nodes"),d=f.value):c=hh(a.w(b),f,c)});c.va(a).f()||null===d||(c=c.L(a.w(".priority"),d));return c};function ih(){this.X=bh;this.Ia=[];this.Jc=-1}h=ih.prototype;
h.Nd=function(a){var b=Ja(this.Ia,function(b){return b.fe===a});v(0<=b,"removeWrite called with nonexistent writeId.");var c=this.Ia[b];this.Ia.splice(b,1);for(var d=c.visible,e=!1,f=this.Ia.length-1;d&&0<=f;){var g=this.Ia[f];g.visible&&(f>=b&&jh(g,c.path)?d=!1:c.path.contains(g.path)&&(e=!0));f--}if(d){if(e)this.X=kh(this.Ia,lh,M),this.Jc=0<this.Ia.length?this.Ia[this.Ia.length-1].fe:-1;else if(c.Ta)this.X=this.X.Nd(c.path);else{var k=this;u(c.children,function(a,b){k.X=k.X.Nd(c.path.w(b))})}return c.path}return null};
h.Ca=function(a,b,c,d){if(c||d){var e=gh(this.X,a);return!d&&e.f()?b:d||null!=b||null!=eh(e,M)?(e=kh(this.Ia,function(b){return(b.visible||d)&&(!c||!(0<=Ca(c,b.fe)))&&(b.path.contains(a)||a.contains(b.path))},a),b=b||Q,e.apply(b)):null}e=eh(this.X,a);if(null!=e)return e;e=gh(this.X,a);return e.f()?b:null!=b||null!=eh(e,M)?(b=b||Q,e.apply(b)):null};
h.zc=function(a,b){var c=Q,d=eh(this.X,a);if(d)d.T()||d.Y(R,function(a,b){c=c.V(a,b)});else if(b){var e=gh(this.X,a);b.Y(R,function(a,b){var d=gh(e,new H(a)).apply(b);c=c.V(a,d)});Da(fh(e),function(a){c=c.V(a.name,a.node)})}else e=gh(this.X,a),Da(fh(e),function(a){c=c.V(a.name,a.node)});return c};h.dd=function(a,b,c,d){v(c||d,"Either existingEventSnap or existingServerSnap must exist");a=a.w(b);if(null!=eh(this.X,a))return null;a=gh(this.X,a);return a.f()?d.va(b):a.apply(d.va(b))};
h.gb=function(a,b,c){a=a.w(b);var d=eh(this.X,a);return null!=d?d:rg(c,b)?gh(this.X,a).apply(c.m().S(b)):null};h.sc=function(a){return eh(this.X,a)};h.je=function(a,b,c,d,e,f){var g;a=gh(this.X,a);g=eh(a,M);if(null==g)if(null!=b)g=a.apply(b);else return[];g=g.wb(f);if(g.f()||g.T())return[];b=[];a=ge(f);e=e?g.fc(c,f):g.dc(c,f);for(f=S(e);f&&b.length<d;)0!==a(f,c)&&b.push(f),f=S(e);return b};
function jh(a,b){return a.Ta?a.path.contains(b):!!Ya(a.children,function(c,d){return a.path.w(d).contains(b)})}function lh(a){return a.visible}
function kh(a,b,c){for(var d=bh,e=0;e<a.length;++e){var f=a[e];if(b(f)){var g=f.path;if(f.Ta)c.contains(g)?(g=I(c,g),d=ch(d,g,f.Ta)):g.contains(c)&&(g=I(g,c),d=ch(d,M,f.Ta.va(g)));else if(f.children)if(c.contains(g))g=I(c,g),d=dh(d,g,f.children);else{if(g.contains(c))if(g=I(g,c),g.f())d=dh(d,M,f.children);else if(f=G(f.children,J(g)))f=f.va(K(g)),d=ch(d,M,f)}else throw jb("WriteRecord should have .snap or .children");}}return d}function mh(a,b){this.Rb=a;this.aa=b}h=mh.prototype;
h.Ca=function(a,b,c){return this.aa.Ca(this.Rb,a,b,c)};h.zc=function(a){return this.aa.zc(this.Rb,a)};h.dd=function(a,b,c){return this.aa.dd(this.Rb,a,b,c)};h.sc=function(a){return this.aa.sc(this.Rb.w(a))};h.je=function(a,b,c,d,e){return this.aa.je(this.Rb,a,b,c,d,e)};h.gb=function(a,b){return this.aa.gb(this.Rb,a,b)};h.w=function(a){return new mh(this.Rb.w(a),this.aa)};function nh(a){this.Aa=dg;this.Mb=new ih;this.Qe={};this.pc={};this.Kc=a}function oh(a,b,c,d,e){var f=a.Mb,g=e;v(d>f.Jc,"Stacking an older write on top of newer ones");p(g)||(g=!0);f.Ia.push({path:b,Ta:c,fe:d,visible:g});g&&(f.X=ch(f.X,b,c));f.Jc=d;return e?ph(a,new Vf(Sf,b,c)):[]}function qh(a,b,c,d){var e=a.Mb;v(d>e.Jc,"Stacking an older merge on top of newer ones");e.Ia.push({path:b,children:c,fe:d,visible:!0});e.X=dh(e.X,b,c);e.Jc=d;c=cg(c);return ph(a,new Tf(Sf,b,c))}
function rh(a,b,c){c=c||!1;b=a.Mb.Nd(b);return null==b?[]:ph(a,new Qf(b,c))}function sh(a,b,c){c=cg(c);return ph(a,new Tf($f,b,c))}function th(a,b,c,d){d=uh(a,d);if(null!=d){var e=vh(d);d=e.path;e=e.Nb;b=I(d,b);c=new Vf(new Zf(!1,!0,e,!0),b,c);return wh(a,d,c)}return[]}function xh(a,b,c,d){if(d=uh(a,d)){var e=vh(d);d=e.path;e=e.Nb;b=I(d,b);c=cg(c);c=new Tf(new Zf(!1,!0,e,!0),b,c);return wh(a,d,c)}return[]}
nh.prototype.Tb=function(a,b){var c=a.path,d=null,e=!1;lg(this.Aa,c,function(a,b){var f=I(a,c);d=b.sb(f);e=e||null!=Yg(b);return!d});var f=this.Aa.get(c);f?(e=e||null!=Yg(f),d=d||f.sb(M)):(f=new Xg,this.Aa=this.Aa.set(c,f));var g;null!=d?g=!0:(g=!1,d=Q,pg(this.Aa.subtree(c),function(a,b){var c=b.sb(M);c&&(d=d.V(a,c))}));var k=null!=$g(f,a);if(!k&&!Gf(a.D)){var l=yh(a);v(!Wa(this.pc,l),"View does not exist, but we have a tag");var m=zh++;this.pc[l]=m;this.Qe["_"+m]=l}g=f.Tb(a,b,new mh(c,this.Mb),d,
g);k||e||(f=$g(f,a),g=g.concat(Ah(this,a,f)));return g};
nh.prototype.ub=function(a,b,c){var d=a.path,e=this.Aa.get(d),f=[];if(e&&("default"===rf(a)||null!=$g(e,a))){f=e.ub(a,b,c);e.f()&&(this.Aa=this.Aa.remove(d));e=f.Ig;f=f.fg;b=-1!==Ja(e,function(a){return Gf(a.D)});var g=jg(this.Aa,d,function(a,b){return null!=Yg(b)});if(b&&!g&&(d=this.Aa.subtree(d),!d.f()))for(var d=Bh(d),k=0;k<d.length;++k){var l=d[k],m=l.Z,l=Ch(this,l);this.Kc.Ne(m,Dh(this,m),l.rd,l.P)}if(!g&&0<e.length&&!c)if(b)this.Kc.Yd(a,null);else{var A=this;Da(e,function(a){rf(a);var b=A.pc[yh(a)];
A.Kc.Yd(a,b)})}Eh(this,e)}return f};nh.prototype.Ca=function(a,b){var c=this.Mb,d=jg(this.Aa,a,function(b,c){var d=I(b,a);if(d=c.sb(d))return d});return c.Ca(a,d,b,!0)};function Bh(a){return hg(a,function(a,c,d){if(c&&null!=Yg(c))return[Yg(c)];var b=[];c&&(b=Zg(c));u(d,function(a){b=b.concat(a)});return b})}function Eh(a,b){for(var c=0;c<b.length;++c){var d=b[c];if(!Gf(d.D)){var d=yh(d),e=a.pc[d];delete a.pc[d];delete a.Qe["_"+e]}}}
function Ah(a,b,c){var d=b.path,e=Dh(a,b);c=Ch(a,c);b=a.Kc.Ne(b,e,c.rd,c.P);d=a.Aa.subtree(d);if(e)v(null==Yg(d.value),"If we're adding a query, it shouldn't be shadowed");else for(e=hg(d,function(a,b,c){if(!a.f()&&b&&null!=Yg(b))return[Yg(b).Z];var d=[];b&&(d=d.concat(Fa(Zg(b),function(a){return a.Z})));u(c,function(a){d=d.concat(a)});return d}),d=0;d<e.length;++d)c=e[d],a.Kc.Yd(c,Dh(a,c));return b}
function Ch(a,b){var c=b.Z,d=Dh(a,c);return{rd:function(){return(b.F()||Q).hash()},P:function(b,f,g){if("ok"===b)return d?(f=c.path,(g=uh(a,d))?(b=vh(g),g=b.path,b=b.Nb,f=I(g,f),f=new Xf(new Zf(!1,!0,b,!0),f),g=wh(a,g,f)):g=[]):g=ph(a,new Xf($f,c.path)),g;b=(b||"error").toUpperCase();f&&(b+=": "+f);f=Error(b);f.code=g;x(f.message);return a.ub(c,null,f)}}}function yh(a){return a.path.toString()+"$"+rf(a)}
function vh(a){var b=a.indexOf("$");v(-1!==b&&b<a.length-1,"Bad queryKey.");return{Nb:a.substr(b+1),path:new H(a.substr(0,b))}}function uh(a,b){var c=a.Qe,d="_"+b;return null!==c&&d in c?c[d]:void 0}function Dh(a,b){var c=yh(b);return G(a.pc,c)}var zh=1;function wh(a,b,c){var d=a.Aa.get(b);v(d,"Missing sync point for query tag that we're tracking");return d.mb(c,new mh(b,a.Mb),null)}function ph(a,b){return Fh(a,b,a.Aa,null,new mh(M,a.Mb))}
function Fh(a,b,c,d,e){if(b.path.f())return Gh(a,b,c,d,e);var f=c.get(M);null==d&&null!=f&&(d=f.sb(M));var g=[],k=J(b.path),l=b.Tc(k);if((c=c.children.get(k))&&l)var m=d?d.S(k):null,k=e.w(k),g=g.concat(Fh(a,l,c,m,k));f&&(g=g.concat(f.mb(b,e,d)));return g}function Gh(a,b,c,d,e){var f=c.get(M);null==d&&null!=f&&(d=f.sb(M));var g=[];c.children.ra(function(c,f){var k=d?d.S(c):null,l=e.w(c),L=b.Tc(c);L&&(g=g.concat(Gh(a,L,f,k,l)))});f&&(g=g.concat(f.mb(b,e,d)));return g};function Hh(){this.Bc={}}Hh.prototype.get=function(){return ab(this.Bc)};function Ih(a){this.Xf=a;this.yd=null}Ih.prototype.get=function(){var a=this.Xf.get(),b=ab(a);if(this.yd)for(var c in this.yd)b[c]-=this.yd[c];this.yd=a;return b};function Jh(a,b){this.Gf={};this.Wd=new Ih(a);this.oa=b;var c=1E4+2E4*Math.random();setTimeout(r(this.zf,this),Math.floor(c))}Jh.prototype.zf=function(){var a=this.Wd.get(),b={},c=!1,d;for(d in a)0<a[d]&&Gc(this.Gf,d)&&(b[d]=a[d],c=!0);c&&this.oa.Je(b);setTimeout(r(this.zf,this),Math.floor(6E5*Math.random()))};var Kh={},Lh={};function Mh(a){a=a.toString();Kh[a]||(Kh[a]=new Hh);return Kh[a]}function Nh(a,b){var c=a.toString();Lh[c]||(Lh[c]=b());return Lh[c]};function Oh(a,b){return a&&"object"===typeof a?(v(".sv"in a,"Unexpected leaf node or priority contents"),b[a[".sv"]]):a}function Ph(a,b){var c=new Mf;Pf(a,new H(""),function(a,e){Nf(c,a,Qh(e,b))});return c}function Qh(a,b){var c=a.H().R(),c=Oh(c,b),d;if(a.T()){var e=Oh(a.La(),b);return e!==a.La()||c!==a.H().R()?new ke(e,P(c)):a}d=a;c!==a.H().R()&&(d=d.ia(new ke(c)));a.Y(R,function(a,c){var e=Qh(c,b);e!==c&&(d=d.V(a,e))});return d};function Rh(){this.children={};this.fd=0;this.value=null}function Sh(a,b,c){this.Cd=a?a:"";this.Ea=b?b:null;this.I=c?c:new Rh}function Th(a,b){for(var c=b instanceof H?b:new H(b),d=a,e;null!==(e=J(c));)var f=G(d.I.children,e)||new Rh,d=new Sh(e,d,f),c=K(c);return d}h=Sh.prototype;h.La=function(){return this.I.value};function Uh(a,b){v("undefined"!==typeof b,"Cannot set value to undefined");a.I.value=b;Vh(a)}h.clear=function(){this.I.value=null;this.I.children={};this.I.fd=0;Vh(this)};
h.qd=function(){return 0<this.I.fd};h.f=function(){return null===this.La()&&!this.qd()};h.Y=function(a){var b=this;u(this.I.children,function(c,d){a(new Sh(d,b,c))})};function Wh(a,b,c,d){c&&!d&&b(a);a.Y(function(a){Wh(a,b,!0,d)});c&&d&&b(a)}function Xh(a,b){for(var c=a.parent();null!==c&&!b(c);)c=c.parent()}h.path=function(){return new H(null===this.Ea?this.Cd:this.Ea.path()+"/"+this.Cd)};h.name=function(){return this.Cd};h.parent=function(){return this.Ea};
function Vh(a){if(null!==a.Ea){var b=a.Ea,c=a.Cd,d=a.f(),e=Gc(b.I.children,c);d&&e?(delete b.I.children[c],b.I.fd--,Vh(b)):d||e||(b.I.children[c]=a.I,b.I.fd++,Vh(b))}};function Yh(){this.Bb=[]}function Zh(a,b){for(var c=null,d=0;d<b.length;d++){var e=b[d],f=e.ec();null===c||f.fa(c.ec())||(a.Bb.push(c),c=null);null===c&&(c=new $h(f));c.add(e)}c&&a.Bb.push(c)}function ai(a,b,c){Zh(a,c);bi(a,function(a){return a.fa(b)})}function ci(a,b,c){Zh(a,c);bi(a,function(a){return a.contains(b)||b.contains(a)})}
function bi(a,b){for(var c=!0,d=0;d<a.Bb.length;d++){var e=a.Bb[d];if(e)if(e=e.ec(),b(e)){for(var e=a.Bb[d],f=0;f<e.nd.length;f++){var g=e.nd[f];if(null!==g){e.nd[f]=null;var k=g.Zb();ob&&lb("event: "+g.toString());Bb(k)}}a.Bb[d]=null}else c=!1}c&&(a.Bb=[])}function $h(a){this.xa=a;this.nd=[]}$h.prototype.add=function(a){this.nd.push(a)};$h.prototype.ec=function(){return this.xa};function di(a,b,c){this.B=b;this.M=a;this.Xd=Mh(b);this.ja=new Yh;this.Dd=1;this.oa=this.kb=null;c||0<=("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)?(this.oa=new Ef(this.B,r(this.Jb,this)),setTimeout(r(this.Pc,this,!0),0)):this.oa=this.kb=new nf(this.B,r(this.Jb,this),r(this.Pc,this),r(this.Ge,this));this.ah=Nh(b,r(function(){return new Jh(this.Xd,this.oa)},this));this.uc=
new Sh;this.we=new Jf;var d=this;this.wd=new nh({Ne:function(a,b,c,k){b=[];c=d.we.m(a.path);c.f()||(b=ph(d.wd,new Vf($f,a.path,c)),setTimeout(function(){k("ok")},0));return b},Yd:aa});this.Hf=function(a){a&&a.signIn?d.oa.he(a.idToken,function(b,c){d.fb(b,c,a)},function(a,b){ei(d,a,b)}):d.oa.If(function(a,b){ei(d,a,b)})};this.M.bind(this.M.Ha.Na,this.Hf);fi(this,"connected",!1);this.Da=new Mf;this.ld=0;this.xe=null;this.U=new nh({Ne:function(a,b,c,k){d.oa.nf(a,c,b,function(b,c,e){b=k(b,c,e);ci(d.ja,
a.path,b)});return[]},Yd:function(a,b){d.oa.Jf(a,b)}})}h=di.prototype;h.fb=function(){this.Ib(!0)};function ei(a,b,c){a.Ib(!1);"expired_token"==b&&a.M.emit(a.M.Ha.cd,{status:b,reason:c})}h.toString=function(){return(this.B.Pb?"https://":"http://")+this.B.host};h.name=function(){return this.B.Ce};function gi(a){a=a.we.m(new H(".info/serverTimeOffset")).R()||0;return(new Date).getTime()+a}function hi(a){a=a={timestamp:gi(a)};a.timestamp=a.timestamp||(new Date).getTime();return a}
h.Jb=function(a,b,c,d){this.ld++;var e=new H(a);b=this.xe?this.xe(a,b):b;a=[];d?c?(b=Qa(b,function(a){return P(a)}),a=xh(this.U,e,b,d)):(b=P(b),a=th(this.U,e,b,d)):c?(d=Qa(b,function(a){return P(a)}),a=sh(this.U,e,d)):(d=P(b),a=ph(this.U,new Vf($f,e,d)));d=e;0<a.length&&(d=ii(this,e));ci(this.ja,d,a)};h.Pc=function(a){fi(this,"connected",a);!1===a&&ji(this)};h.Ge=function(a){var b=this;yb(a,function(a,d){fi(b,d,a)})};h.Ib=function(a){fi(this,"authenticated",a)};
function fi(a,b,c){b=new H("/.info/"+b);c=P(c);var d=a.we;d.Rd=d.Rd.L(b,c);c=ph(a.wd,new Vf($f,b,c));ci(a.ja,b,c)}h.vb=function(a,b,c,d){this.o("set",{path:a.toString(),value:b,wh:c});var e=hi(this);b=P(b,c);var e=Qh(b,e),f=this.Dd++,e=oh(this.U,a,e,f,!0);Zh(this.ja,e);var g=this;this.oa.put(a.toString(),b.R(!0),function(b,c,e){var k="ok"===b;k||x("set at "+a+" failed: "+b);k=rh(g.U,f,!k);ci(g.ja,a,k);ki(d,b,c,e)});e=li(this,a);ii(this,e);ci(this.ja,e,[])};
h.update=function(a,b,c){this.o("update",{path:a.toString(),value:b});var d=!0,e=hi(this),f={};u(b,function(a,b){d=!1;var c=P(a);f[b]=Qh(c,e)});if(d)lb("update() called with empty data.  Don't do anything."),ki(c,"ok");else{var g=this.Dd++,k=qh(this.U,a,f,g);Zh(this.ja,k);var l=this;this.oa.qf(a.toString(),b,function(b,d,e){var f="ok"===b;f||x("update at "+a+" failed: "+b);var f=rh(l.U,g,!f),k=a;0<f.length&&(k=ii(l,a));ci(l.ja,k,f);ki(c,b,d,e)});b=li(this,a);ii(this,b);ci(this.ja,a,[])}};
function ji(a){a.o("onDisconnectEvents");var b=hi(a),c=[];Pf(Ph(a.Da,b),M,function(b,e){c=c.concat(ph(a.U,new Vf($f,b,e)));var d=li(a,b);ii(a,d)});a.Da=new Mf;ci(a.ja,M,c)}h.Fd=function(a,b){var c=this;this.oa.Fd(a.toString(),function(d,e,f){"ok"===d&&Of(c.Da,a);ki(b,d,e,f)})};function mi(a,b,c,d){var e=P(c);a.oa.Fe(b.toString(),e.R(!0),function(c,g,k){"ok"===c&&Nf(a.Da,b,e);ki(d,c,g,k)})}
function ni(a,b,c,d,e){var f=P(c,d);a.oa.Fe(b.toString(),f.R(!0),function(c,d,l){"ok"===c&&Nf(a.Da,b,f);ki(e,c,d,l)})}function oi(a,b,c,d){var e=!0,f;for(f in c)e=!1;e?(lb("onDisconnect().update() called with empty data.  Don't do anything."),ki(d,"ok")):a.oa.sf(b.toString(),c,function(e,f,l){if("ok"===e)for(var g in c)if(c.hasOwnProperty(g)){var k=P(c[g]);Nf(a.Da,b.w(g),k)}ki(d,e,f,l)})}function pi(a,b,c){c=".info"===J(b.path)?a.wd.Tb(b,c):a.U.Tb(b,c);ai(a.ja,b.path,c)}h.Fc=function(){this.kb&&this.kb.Fc()};
h.resume=function(){this.kb&&this.kb.resume()};h.Oe=function(a){if("undefined"!==typeof console){a?(this.Wd||(this.Wd=new Ih(this.Xd)),a=this.Wd.get()):a=this.Xd.get();var b=Ga(Va(a),function(a,b){return Math.max(b.length,a)},0),c;for(c in a)if(a.hasOwnProperty(c)){for(var d=a[c],e=c.length;e<b+2;e++)c+=" ";console.log(c+d)}}};h.Pe=function(a){var b=this.Xd,c;p(c)||(c=1);Gc(b.Bc,a)||(b.Bc[a]=0);b.Bc[a]+=c;this.ah.Gf[a]=!0};h.o=function(a){var b="";this.kb&&(b=this.kb.id+":");lb(b,arguments)};
function ki(a,b,c,d){a&&Bb(function(){if("ok"==b)a(null);else{var e=(b||"error").toUpperCase();c&&(e+=": "+(c||"Unknown error"));e=Error(e);e.code=d||29999;a(e)}})};function qi(a,b,c,d,e){this.host=a.toLowerCase();this.domain=this.host.substr(this.host.indexOf(".")+1);this.Pb=b;this.Ce=c;this.ph=d;this.Kd=e||"";nd.Ud?(this.Vd=!0,this.ka=[nd.Ud]):(this.ka=(a=Uc.get("host:"+a))&&a.split(",ts:")[1]>=Date.now()-6E5?a.split(",ts:")[0].split(","):[],this.Vd=!1);this.rb=JSON.parse(w.get("failHosts"))||[]}function mf(a){return a.host!==a.ka}qi.prototype.lf=function(){return"wilddogio.com"!==this.domain&&"wilddogio-demo.com"!==this.domain};
function kf(a,b){nd.Ud||(null==b||0==b.length?(a.ka=[],Uc.remove("host:"+a.host)):(a.ka=b,Uc.set("host:"+a.host,a.ka.toString()+",ts:"+Date.now())))}qi.prototype.toString=function(){var a=(this.Pb?"https://":"http://")+this.host;this.Kd&&(a+="<"+this.Kd+">");return a};function lf(a,b){if(!nd.Ud){var c=a.rb.indexOf(b);0<=c&&(a.rb.splice(c,1),w.set("failHosts",JSON.stringify(a.rb)))}};function ri(a,b,c,d,e){function f(){}a.o("transaction on "+b);var g=new W(a.M,a,b);g.Hb("value",f);c={path:b,update:c,P:d,status:null,order:ib(),Ve:e,Df:0,ce:function(){g.mc("value",f)},ge:null,Ja:null,hd:null,jd:null,kd:null};d=a.U.Ca(b,void 0)||Q;c.hd=d;d=c.update(d.R());if(p(d)){Rd("transaction failed: Data returned ",d,c.path);c.status=1;e=Th(a.uc,b);var k=e.La()||[];k.push(c);Uh(e,k);"object"===typeof d&&null!==d&&Gc(d,".priority")?(k=G(d,".priority"),v(Pd(k),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):
k=(a.U.Ca(b)||Q).H().R();e=hi(a);d=P(d,k);e=Qh(d,e);c.jd=d;c.kd=e;c.Ja=a.Dd++;c=oh(a.U,b,e,c.Ja,c.Ve);ci(a.ja,b,c);si(a)}else c.ce(),c.jd=null,c.kd=null,c.P&&(a=new U(c.hd,new W(a.M,a,c.path),R),c.P(null,!1,a))}function si(a,b){var c=b||a.uc;b||ti(a,c);if(null!==c.La()){var d=ui(a,c);v(0<d.length,"Sending zero length transaction queue");Ha(d,function(a){return 1===a.status})&&vi(a,c.path(),d)}else c.qd()&&c.Y(function(b){si(a,b)})}
function vi(a,b,c){for(var d=Fa(c,function(a){return a.Ja}),e=a.U.Ca(b,d)||Q,d=e,e=e.hash(),f=0;f<c.length;f++){var g=c[f];v(1===g.status,"tryToSendTransactionQueue_: items in queue should all be run.");g.status=2;g.Df++;var k=I(b,g.path),d=d.L(k,g.jd)}var d=d.R(!0),l=a.M;a.oa.put(b.toString(),d,function(d){a.o("transaction put response",{path:b.toString(),status:d});var e=[];if("ok"===d){d=[];for(f=0;f<c.length;f++){c[f].status=3;e=e.concat(rh(a.U,c[f].Ja));if(c[f].P){var g=c[f].kd,k=new W(l,a,c[f].path);
d.push(r(c[f].P,null,null,!0,new U(g,k,R)))}c[f].ce()}ti(a,Th(a.uc,b));si(a);ci(a.ja,b,e);for(f=0;f<d.length;f++)Bb(d[f])}else{if("datastale"===d)for(f=0;f<c.length;f++)c[f].status=4===c[f].status?5:1;else for(x("transaction at "+b.toString()+" failed: "+d),f=0;f<c.length;f++)c[f].status=5,c[f].ge=d;ii(a,b)}},e)}function ii(a,b){var c=wi(a,b),d=c.path(),c=ui(a,c);xi(a,c,d);return d}
function xi(a,b,c){if(0!==b.length){for(var d=[],e=[],f=Fa(b,function(a){return a.Ja}),g=0;g<b.length;g++){var k=b[g],l=I(c,k.path),m=!1,A;v(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null.");if(5===k.status)m=!0,A=k.ge,e=e.concat(rh(a.U,k.Ja,!0));else if(1===k.status)if(25<=k.Df)m=!0,A="maxretry",e=e.concat(rh(a.U,k.Ja,!0));else{var L=a.U.Ca(k.path,f)||Q;k.hd=L;var da=b[g].update(L.R());p(da)?(Rd("transaction failed: Data returned ",da,k.path),l=P(da),"object"===typeof da&&
null!=da&&Gc(da,".priority")||(l=l.ia(L.H())),L=k.Ja,da=hi(a),da=Qh(l,da),k.jd=l,k.kd=da,k.Ja=a.Dd++,Ka(f,L),e=e.concat(oh(a.U,k.path,da,k.Ja,k.Ve)),e=e.concat(rh(a.U,L,!0))):(m=!0,A="nodata",e=e.concat(rh(a.U,k.Ja,!0)))}ci(a.ja,c,e);e=[];m&&(b[g].status=3,setTimeout(b[g].ce,Math.floor(0)),b[g].P&&("nodata"===A?(k=new W(a.M,a,b[g].path),d.push(r(b[g].P,null,null,!1,new U(b[g].hd,k,R)))):("maxretry"==A?(k=Error("maxretries: The transaction had too many retries!"),k.code=26203):"set"==A?(k=Error("overriddenbyset: The transaction was overridden by a subsequent set!"),
k.code=26204):(k=Error("user_code_exception: User code called from the SyncReference runloop threw an exception!"),k.code=26202),d.push(r(b[g].P,null,k,!1,null)))))}ti(a,a.uc);for(g=0;g<d.length;g++)Bb(d[g]);si(a)}}function wi(a,b){for(var c,d=a.uc;null!==(c=J(b))&&null===d.La();)d=Th(d,c),b=K(b);return d}function ui(a,b){var c=[];yi(a,b,c);c.sort(function(a,b){return a.order-b.order});return c}
function yi(a,b,c){var d=b.La();if(null!==d)for(var e=0;e<d.length;e++)c.push(d[e]);b.Y(function(b){yi(a,b,c)})}function ti(a,b){var c=b.La();if(c){for(var d=0,e=0;e<c.length;e++)3!==c[e].status&&(c[d]=c[e],d++);c.length=d;Uh(b,0<c.length?c:null)}b.Y(function(b){ti(a,b)})}function li(a,b){var c=wi(a,b).path(),d=Th(a.uc,b);Xh(d,function(b){zi(a,b)});zi(a,d);Wh(d,function(b){zi(a,b)});return c}
function zi(a,b){var c=b.La();if(null!==c){for(var d=[],e=[],f=-1,g=0;g<c.length;g++)if(4!==c[g].status)if(2===c[g].status)v(f===g-1,"All SENT items should be at beginning of queue."),f=g,c[g].status=4,c[g].ge="set";else if(v(1===c[g].status,"Unexpected transaction status in abort"),c[g].ce(),e=e.concat(rh(a.U,c[g].Ja,!0)),c[g].P){var k=Error("overriddenbyset: The transaction was overridden by a subsequent set!");k.code=26204;d.push(r(c[g].P,null,k,!1,null))}-1===f?Uh(b,null):c.length=f+1;ci(a.ja,
b.path(),e);for(g=0;g<d.length;g++)Bb(d[g])}};function Ai(){this.bb={};this.nh=!1}ba(Ai);Ai.prototype.Fc=function(a){for(var b in this.bb[a.name])this.bb[a.name].hasOwnProperty(b)&&this.bb[a.name][b].Fc()};Ai.prototype.resume=function(a){for(var b in this.bb[a.name])this.bb[a.name].hasOwnProperty(b)&&this.bb[a.name][b].resume()};function Bi(a){var b=this;this.pb=a;this.$d="*";gd()?this.Nc=this.td=Yc():(this.Nc=window.opener,this.td=window);if(!b.Nc)throw"Unable to find relay frame";Zc(this.td,"message",r(this.Gd,this));Zc(this.td,"message",r(this.rf,this));try{Ci(this,{a:"ready"})}catch(c){Zc(this.Nc,"load",function(){Ci(b,{a:"ready"})})}Zc(window,"unload",r(this.Bg,this))}function Ci(a,b){b=t(b);gd()?a.Nc.doPost(b,a.$d):a.Nc.postMessage(b,a.$d)}
Bi.prototype.Gd=function(a){var b=this,c;try{c=wa(a.data)}catch(d){}c&&"request"===c.a&&($c(window,"message",this.Gd),this.$d=a.origin,this.pb&&setTimeout(function(){b.pb(b.$d,c.d,function(a,c){b.Tf=!c;b.pb=void 0;Ci(b,{a:"response",d:a,forceKeepWindowOpen:c})})},0))};Bi.prototype.Bg=function(){try{$c(this.td,"message",this.rf)}catch(a){}this.pb&&(Ci(this,{a:"error",d:"unknown closed window"}),this.pb=void 0);try{window.close()}catch(a){}};Bi.prototype.rf=function(a){if(this.Tf&&"die"===a.data)try{window.close()}catch(b){}};function X(a){this.dh=a}X.prototype.mg=function(){return this.dh.G.Hf};X.prototype.getAuthTokenListener=X.prototype.mg;X.prototype.jg=function(){na.za.qh.ig();na.za.Lf.uh()};X.prototype.forceLongPolling=X.prototype.jg;X.prototype.kg=function(){na.za.Lf.ig()};X.prototype.forceWebSockets=X.prototype.kg;X.prototype.Rg=function(a,b){a.G.kb.Me=b};X.prototype.setSecurityDebugCallback=X.prototype.Rg;X.prototype.Oe=function(a,b){a.G.Oe(b)};X.prototype.stats=X.prototype.Oe;X.prototype.Pe=function(a,b){a.G.Pe(b)};
X.prototype.statsIncrementCounter=X.prototype.Pe;X.prototype.ld=function(a){return a.G.ld};X.prototype.dataUpdateCount=X.prototype.ld;X.prototype.rg=function(a,b){a.G.xe=b};X.prototype.interceptServerData=X.prototype.rg;X.prototype.yg=function(a){new Bi(a)};X.prototype.onLoginPopupOpen=X.prototype.yg;X.prototype.Pg=function(a){Fc=a};X.prototype.setAuthenticationServer=X.prototype.Pg;function Y(a,b){this.Vc=a;this.xa=b}Y.prototype.cancel=function(a){E("Wilddog.onDisconnect().cancel",0,1,arguments.length);F("Wilddog.onDisconnect().cancel",1,a,!0);var b=new B;this.Vc.Fd(this.xa,C(b,a));return b.u};Y.prototype.cancel=Y.prototype.cancel;Y.prototype.cancel=Y.prototype.cancel;
Y.prototype.remove=function(a){E("Wilddog.onDisconnect().remove",0,1,arguments.length);Zd("Wilddog.onDisconnect().remove",this.xa);F("Wilddog.onDisconnect().remove",1,a,!0);var b=new B;mi(this.Vc,this.xa,null,C(b,a));return b.u};Y.prototype.remove=Y.prototype.remove;Y.prototype.remove=Y.prototype.remove;
Y.prototype.set=function(a,b){E("Wilddog.onDisconnect().set",1,2,arguments.length);Zd("Wilddog.onDisconnect().set",this.xa);Qd("Wilddog.onDisconnect().set",a,this.xa,!1);F("Wilddog.onDisconnect().set",2,b,!0);var c=new B;mi(this.Vc,this.xa,a,C(c,b));return c.u};Y.prototype.set=Y.prototype.set;Y.prototype.set=Y.prototype.set;
Y.prototype.vb=function(a,b,c){E("Wilddog.onDisconnect().setWithPriority",2,3,arguments.length);Zd("Wilddog.onDisconnect().setWithPriority",this.xa);Qd("Wilddog.onDisconnect().setWithPriority",a,this.xa,!1);Ud("Wilddog.onDisconnect().setWithPriority",2,b);F("Wilddog.onDisconnect().setWithPriority",3,c,!0);var d=new B;ni(this.Vc,this.xa,a,b,C(d,c));return d.u};Y.prototype.setWithPriority=Y.prototype.vb;Y.prototype.setWithPriority=Y.prototype.vb;
Y.prototype.update=function(a,b){E("Wilddog.onDisconnect().update",1,2,arguments.length);Zd("Wilddog.onDisconnect().update",this.xa);if(ea(a)){for(var c={},d=0;d<a.length;++d)c[""+d]=a[d];a=c;x("Passing an Array to Wilddog.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Td("Wilddog.onDisconnect().update",a,this.xa);F("Wilddog.onDisconnect().update",2,b,!0);c=new B;
oi(this.Vc,this.xa,a,C(c,b));return c.u};Y.prototype.update=Y.prototype.update;Y.prototype.update=Y.prototype.update;function Sg(a){this.g=a}h=Sg.prototype;h.L=function(a,b,c,d,e){v(a.Hc(this.g),"A node must be indexed if only a child is updated");d=a.S(b);if(d.fa(c))return a;null!=e&&(c.f()?a.Sa(b)?Di(e,new V("child_removed",d,b)):v(a.T(),"A child remove without an old child only makes sense on a leaf node"):d.f()?Di(e,new V("child_added",c,b)):Di(e,new V("child_changed",c,b,d)));return a.T()&&c.f()?a:a.V(b,c).wb(this.g)};
h.Ba=function(a,b,c){null!=c&&(a.T()||a.Y(R,function(a,e){b.Sa(a)||Di(c,new V("child_removed",e,a))}),b.T()||b.Y(R,function(b,e){if(a.Sa(b)){var d=a.S(b);d.fa(e)||Di(c,new V("child_changed",e,b,d))}else Di(c,new V("child_added",e,b))}));return b.wb(this.g)};h.ia=function(a,b){return a.f()?Q:a.ia(b)};h.Ra=function(){return!1};h.$b=function(){return this};function Ug(a){this.ve=new Sg(a.g);this.g=a.g;var b;a.ta?(b=Ei(a),b=a.g.Lc(Fi(a),b)):b=Te;this.Xc=b;a.ua?(b=Gi(a),a=a.g.Lc(Hi(a),b)):a=a.g.Mc();this.Ec=a}h=Ug.prototype;h.matches=function(a){return 0>=this.g.compare(this.Xc,a)&&0>=this.g.compare(a,this.Ec)};h.L=function(a,b,c,d,e){this.matches(new O(b,c))||(c=Q);return this.ve.L(a,b,c,d,e)};h.Ba=function(a,b,c){b.T()&&(b=Q);var d=b.wb(this.g),d=d.ia(Q),e=this;b.Y(R,function(a,b){e.matches(new O(a,b))||(d=d.V(a,Q))});return this.ve.Ba(a,d,c)};
h.ia=function(a){return a};h.Ra=function(){return!0};h.$b=function(){return this.ve};function Tg(a){this.ya=new Ug(a);this.g=a.g;v(a.sa,"Only valid if limit has been set");this.ga=a.ga;this.Ob=!Ii(a)}h=Tg.prototype;h.L=function(a,b,c,d,e){this.ya.matches(new O(b,c))||(c=Q);return a.S(b).fa(c)?a:a.Gb()<this.ga?this.ya.$b().L(a,b,c,d,e):Ji(this,a,b,c,d,e)};
h.Ba=function(a,b,c){var d;if(b.T()||b.f())d=Q.wb(this.g);else if(2*this.ga<b.Gb()&&b.Hc(this.g)){d=Q.wb(this.g);b=this.Ob?b.fc(this.ya.Ec,this.g):b.dc(this.ya.Xc,this.g);for(var e=0;0<b.$a.length&&e<this.ga;){var f=S(b),g;if(g=this.Ob?0>=this.g.compare(this.ya.Xc,f):0>=this.g.compare(f,this.ya.Ec))d=d.V(f.name,f.node),e++;else break}}else{d=b.wb(this.g);d=d.ia(Q);var k,l,m;if(this.Ob){b=d.hf(this.g);k=this.ya.Ec;l=this.ya.Xc;var A=ge(this.g);m=function(a,b){return A(b,a)}}else b=d.cc(this.g),k=this.ya.Xc,
l=this.ya.Ec,m=ge(this.g);for(var e=0,L=!1;0<b.$a.length;)f=S(b),!L&&0>=m(k,f)&&(L=!0),(g=L&&e<this.ga&&0>=m(f,l))?e++:d=d.V(f.name,Q)}return this.ya.$b().Ba(a,d,c)};h.ia=function(a){return a};h.Ra=function(){return!0};h.$b=function(){return this.ya.$b()};
function Ji(a,b,c,d,e,f){var g;if(a.Ob){var k=ge(a.g);g=function(a,b){return k(b,a)}}else g=ge(a.g);v(b.Gb()==a.ga,"");var l=new O(c,d),m=a.Ob?Re(b,a.g):Se(b,a.g),A=a.ya.matches(l);if(b.Sa(c)){var L=b.S(c),m=e.se(a.g,m,a.Ob);null!=m&&m.name==c&&(m=e.se(a.g,m,a.Ob));e=null==m?1:g(m,l);if(A&&!d.f()&&0<=e)return null!=f&&Di(f,new V("child_changed",d,c,L)),b.V(c,d);null!=f&&Di(f,new V("child_removed",L,c));b=b.V(c,Q);return null!=m&&a.ya.matches(m)?(null!=f&&Di(f,new V("child_added",m.node,m.name)),b.V(m.name,
m.node)):b}return d.f()?b:A&&0<=g(m,l)?(null!=f&&(Di(f,new V("child_removed",m.node,m.name)),Di(f,new V("child_added",d,c))),b.V(c,d).V(m.name,Q)):b};function Jg(){this.qb={}}
function Di(a,b){var c=b.type,d=b.hb;v("child_added"==c||"child_changed"==c||"child_removed"==c,"Only child changes supported for tracking");v(".priority"!==d,"Only non-priority child changes can be tracked.");var e=G(a.qb,d);if(e){var f=e.type;if("child_added"==c&&"child_removed"==f)a.qb[d]=new V("child_changed",b.Ua,d,e.Ua);else if("child_removed"==c&&"child_added"==f)delete a.qb[d];else if("child_removed"==c&&"child_changed"==f)a.qb[d]=new V("child_removed",e.Ee,d);else if("child_changed"==c&&
"child_added"==f)a.qb[d]=new V("child_added",b.Ua,d);else if("child_changed"==c&&"child_changed"==f)a.qb[d]=new V("child_changed",b.Ua,d,e.Ee);else throw jb("Illegal combination of changes: "+b+" occurred after "+e);}else a.qb[d]=b};function Ki(){this.Xb=this.ua=this.Qb=this.ta=this.sa=!1;this.ga=0;this.Sb="";this.kc=null;this.Eb="";this.hc=null;this.Cb="";this.g=R}var Li=new Ki;function Ii(a){return""===a.Sb?a.ta:"l"===a.Sb}function Fi(a){v(a.ta,"Only valid if start has been set");return a.kc}function Ei(a){v(a.ta,"Only valid if start has been set");return a.Qb?a.Eb:"[MIN_NAME]"}function Hi(a){v(a.ua,"Only valid if end has been set");return a.hc}
function Gi(a){v(a.ua,"Only valid if end has been set");return a.Xb?a.Cb:"[MAX_NAME]"}function Mi(a){var b=new Ki;b.sa=a.sa;b.ga=a.ga;b.ta=a.ta;b.kc=a.kc;b.Qb=a.Qb;b.Eb=a.Eb;b.ua=a.ua;b.hc=a.hc;b.Xb=a.Xb;b.Cb=a.Cb;b.g=a.g;return b}h=Ki.prototype;h.Be=function(a){var b=Mi(this);b.sa=!0;b.ga=a;b.Sb="";return b};h.zd=function(a){var b=Mi(this);b.sa=!0;b.ga=a;b.Sb="l";return b};h.Ad=function(a){var b=Mi(this);b.sa=!0;b.ga=a;b.Sb="r";return b};
h.Wc=function(a,b){var c=Mi(this);c.ta=!0;p(a)||(a=null);c.kc=a;null!=b?(c.Qb=!0,c.Eb=b):(c.Qb=!1,c.Eb="");return c};h.Dc=function(a,b){var c=Mi(this);c.ua=!0;p(a)||(a=null);c.hc=a;p(b)?(c.Xb=!0,c.Cb=b):(c.yh=!1,c.Cb="");return c};function Ni(a,b){var c=Mi(a);c.g=b;return c}function tf(a){var b={};a.ta&&(b.sp=a.kc,a.Qb&&(b.sn=a.Eb));a.ua&&(b.ep=a.hc,a.Xb&&(b.en=a.Cb));if(a.sa){b.l=a.ga;var c=a.Sb;""===c&&(c=Ii(a)?"l":"r");b.vf=c}a.g!==R&&(b.i=a.g.toString());return b}
function Gf(a){return!(a.ta||a.ua||a.sa)}function Hf(a){var b={};if(Gf(a)&&a.g==R)return b;var c;a.g===R?c="$priority":a.g===pe?c="$value":a.g===me?c="$key":(v(a.g instanceof he,"Unrecognized index type!"),c=a.g.toString());b.orderBy=t(c);a.ta&&(b.startAt=t(a.kc),a.Qb&&(b.startAt+=","+t(a.Eb)));a.ua&&(b.endAt=t(a.hc),a.Xb&&(b.endAt+=","+t(a.Cb)));a.sa&&(Ii(a)?b.limitToFirst=a.ga:b.limitToLast=a.ga);return b}h.toString=function(){return t(tf(this))};function Z(a,b,c,d){this.G=a;this.path=b;this.D=c;this.oc=d}
function Oi(a){var b=null,c=null;a.ta&&(b=Fi(a));a.ua&&(c=Hi(a));if(a.g===me){if(a.ta){if("[MIN_NAME]"!=Ei(a))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!==typeof b)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.");}if(a.ua){if("[MAX_NAME]"!=Gi(a))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!==
typeof c)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.");}}else if(a.g===R){if(null!=b&&!Pd(b)||null!=c&&!Pd(c))throw Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).");}else if(v(a.g instanceof he||a.g===pe,"unknown index type."),null!=b&&"object"===typeof b||null!=c&&"object"===typeof c)throw Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.");
}function Pi(a){if(a.ta&&a.ua&&a.sa&&(!a.sa||""===a.Sb))throw Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.");}function Qi(a,b){if(!0===a.oc)throw Error(b+": You can't combine multiple orderBy calls.");}Z.prototype.qc=function(a){E("Query.ref",0,1,arguments.length);a&&Yd("Query.ref",a);return new W(this.app,this.G,a?this.path.w(a):this.path)};Z.prototype.ref=Z.prototype.qc;
Z.prototype.Hb=function(a,b,c,d){E("Query.on",2,4,arguments.length);Vd("Query.on",a,!1);F("Query.on",2,b,!1);var e=Ri("Query.on",c,d);if("value"===a)pi(this.G,this,new yg(b,e.cancel||null,e.context||null));else{var f={};f[a]=b;pi(this.G,this,new zg(f,e.cancel,e.context))}return b};Z.prototype.on=Z.prototype.Hb;
Z.prototype.mc=function(a,b,c){E("Query.off",0,3,arguments.length);Vd("Query.off",a,!0);F("Query.off",2,b,!0);Fd("Query.off",3,c);var d=null,e=null;"value"===a?d=new yg(b||null,null,c||null):a&&(b&&(e={},e[a]=b),d=new zg(e,null,c||null));e=this.G;d=".info"===J(this.path)?e.wd.ub(this,d):e.U.ub(this,d);ai(e.ja,this.path,d)};Z.prototype.off=Z.prototype.mc;
Z.prototype.Hd=function(a,b,c,d){function e(c){k&&(k=!1,g.mc(a,e),b&&b.call(f.context,c),l.resolve(c))}E("Query.once",1,4,arguments.length);Vd("Query.once",a,!1);F("Query.once",2,b,!0);var f=Ri("Query.once",c,d),g=this,k=!0,l=new B;nc(l.u);this.Hb(a,e,function(b){g.mc(a,e);f.cancel&&f.cancel.call(f.context,b);l.reject(b)});return l.u};Z.prototype.once=Z.prototype.Hd;Z.prototype.once=Z.prototype.Hd;
Z.prototype.Be=function(a){x("Query.limit() being deprecated. Please use Query.limitToFirst() or Query.limitToLast() instead.");E("Query.limit",1,1,arguments.length);if(!fa(a)||Math.floor(a)!==a||0>=a)throw Error("Query.limit: First argument must be a positive integer.");if(this.D.sa)throw Error("Query.limit: Limit was already set (by another call to limit, limitToFirst, orlimitToLast.");var b=this.D.Be(a);Pi(b);return new Z(this.G,this.path,b,this.oc)};Z.prototype.limit=Z.prototype.Be;
Z.prototype.zd=function(a){E("Query.limitToFirst",1,1,arguments.length);if(!fa(a)||Math.floor(a)!==a||0>=a)throw Error("Query.limitToFirst: First argument must be a positive integer.");if(this.D.sa)throw Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new Z(this.G,this.path,this.D.zd(a),this.oc)};Z.prototype.limitToFirst=Z.prototype.zd;Z.prototype.limitToFirst=Z.prototype.zd;
Z.prototype.Ad=function(a){E("Query.limitToLast",1,1,arguments.length);if(!fa(a)||Math.floor(a)!==a||0>=a)throw Error("Query.limitToLast: First argument must be a positive integer.");if(this.D.sa)throw Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new Z(this.G,this.path,this.D.Ad(a),this.oc)};Z.prototype.limitToLast=Z.prototype.Ad;Z.prototype.limitToLast=Z.prototype.Ad;
Z.prototype.tf=function(a){E("Query.orderByChild",1,1,arguments.length);if("$key"===a)throw Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===a)throw Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===a)throw Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');Wd("Query.orderByChild",1,a,!1);Qi(this,"Query.orderByChild");var b=Ni(this.D,new he(a));Oi(b);return new Z(this.G,
this.path,b,!0)};Z.prototype.orderByChild=Z.prototype.tf;Z.prototype.orderByChild=Z.prototype.tf;Z.prototype.uf=function(){E("Query.orderByKey",0,0,arguments.length);Qi(this,"Query.orderByKey");var a=Ni(this.D,me);Oi(a);return new Z(this.G,this.path,a,!0)};Z.prototype.orderByKey=Z.prototype.uf;Z.prototype.orderByKey=Z.prototype.uf;Z.prototype.wf=function(){E("Query.orderByPriority",0,0,arguments.length);Qi(this,"Query.orderByPriority");var a=Ni(this.D,R);Oi(a);return new Z(this.G,this.path,a,!0)};
Z.prototype.orderByPriority=Z.prototype.wf;Z.prototype.orderByPriority=Z.prototype.wf;Z.prototype.xf=function(){E("Query.orderByValue",0,0,arguments.length);Qi(this,"Query.orderByValue");var a=Ni(this.D,pe);Oi(a);return new Z(this.G,this.path,a,!0)};Z.prototype.orderByValue=Z.prototype.xf;Z.prototype.orderByValue=Z.prototype.xf;
Z.prototype.Wc=function(a,b){E("Query.startAt",0,2,arguments.length);Qd("Query.startAt",a,this.path,!0);Wd("Query.startAt",2,b,!0);var c=this.D.Wc(a,b);Pi(c);Oi(c);if(this.D.ta)throw Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");p(a)||(b=a=null);return new Z(this.G,this.path,c,this.oc)};Z.prototype.startAt=Z.prototype.Wc;Z.prototype.startAt=Z.prototype.Wc;
Z.prototype.Dc=function(a,b){E("Query.endAt",0,2,arguments.length);Qd("Query.endAt",a,this.path,!0);Wd("Query.endAt",2,b,!0);var c=this.D.Dc(a,b);Pi(c);Oi(c);if(this.D.ua)throw Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new Z(this.G,this.path,c,this.oc)};Z.prototype.endAt=Z.prototype.Dc;Z.prototype.endAt=Z.prototype.Dc;
Z.prototype.af=function(a,b){E("Query.equalTo",1,2,arguments.length);Qd("Query.equalTo",a,this.path,!1);Wd("Query.equalTo",2,b,!0);if(this.D.ta)throw Error("Query.equalTo: Starting point was already set (by another call to endAt or equalTo).");if(this.D.ua)throw Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.Wc(a,b).Dc(a,b)};Z.prototype.equalTo=Z.prototype.af;Z.prototype.equalTo=Z.prototype.af;
Z.prototype.toString=function(){E("Query.toString",0,0,arguments.length);for(var a=this.path,b="",c=a.ca;c<a.C.length;c++)""!==a.C[c]&&(b+="/"+encodeURIComponent(String(a.C[c])));return this.G.toString()+(b||"/")};Z.prototype.toString=Z.prototype.toString;function rf(a){a=xb(tf(a.D));return"{}"===a?"default":a}
function Ri(a,b,c){var d={cancel:null,context:null};if(b&&c)d.cancel=b,F(a,3,d.cancel,!0),d.context=c,Fd(a,4,d.context);else if(b)if("object"===typeof b&&null!==b)d.context=b;else if("function"===typeof b)d.cancel=b;else throw Error(Ed(a,3,!0)+" must either be a cancel callback or a context object.");return d};function Si(a,b){this.committed=a;this.snapshot=b};var Ti=function(){var a=0,b=[];return function(c){var d=c===a;a=c;for(var e=Array(8),f=7;0<=f;f--)e[f]="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(c%64),c=Math.floor(c/64);v(0===c,"Cannot push at time == 0");c=e.join("");if(d){for(f=11;0<=f&&63===b[f];f--)b[f]=0;b[f]++}else for(f=0;12>f;f++)b[f]=Math.floor(64*Math.random());for(f=0;12>f;f++)c+="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(b[f]);v(20===c.length,"nextPushId: Length should be 20.");
return c}}();function W(a,b,c){this.app=a;if(!b&&!c){b=a.options.syncURL;c=!0===a.options.websocketOnly?!0:!1;if(!b)throw Error("Could not find 'syncURL' in options.");a=tb(b);var d=a.bh;"wilddog"===a.domain&&sb(a.host+" is no longer supported. Please use <YOUR WILDDOG>.wilddogio.com instead");d||sb("Cannot parse Wilddog url. Please use https://<YOUR WILDDOG>.wilddogio.com");a.Pb||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&x("Insecure Wilddog access from a secure page. Please use https.");
if(a.Lb){var e=a.Lb;e&&(e=e.replace(/^\/*\.info(\/|$)/,"/"));q(e)&&0!==e.length&&!Nd.test(e)||sb("App syncURL was an invalid path: "+b+'. Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')}b=new qi(a.host,a.Pb,d,"ws"===a.scheme||"wss"===a.scheme||c);a=new H(a.Lb);c=Ai.ac();d=this.app;e=b.toString();c.bb[d.name]||(c.bb[d.name]={});var f=G(c.bb[d.name],e);f||(f=new di(d,b,c.nh),c.bb[d.name][e]=f);b=f;c=a}Z.call(this,b,c,Li,!1);this.INTERNAL=new X(this)}ma(W,Z);
W.prototype.name=function(){x("Wilddog.name() being deprecated. Please use Wilddog.key() instead.");E("Wilddog.name",0,0,arguments.length);return this.key()};W.prototype.name=W.prototype.name;W.prototype.key=function(){E("Wilddog.key",0,0,arguments.length);return this.path.f()?null:Hd(this.path)};W.prototype.key=W.prototype.key;
W.prototype.w=function(a){E("Wilddog.child",1,1,arguments.length);fa(a)?a=String(a):a instanceof H||(null===J(this.path)?Yd("Wilddog.child",a):Xd("Wilddog.child",a));return new W(this.app,this.G,this.path.w(a))};W.prototype.child=W.prototype.w;W.prototype.parent=function(){E("Wilddog.parent",0,0,arguments.length);var a=this.path.parent();return null===a?null:new W(this.app,this.G,a)};W.prototype.parent=W.prototype.parent;
W.prototype.root=function(){E("Wilddog.ref",0,0,arguments.length);for(var a=this;null!==a.parent();)a=a.parent();return a};W.prototype.root=W.prototype.root;W.prototype.set=function(a,b){E("Wilddog.set",1,2,arguments.length);Zd("Wilddog.set",this.path);Qd("Wilddog.set",a,this.path,!1);F("Wilddog.set",2,b,!0);var c=new B;this.G.vb(this.path,a,null,C(c,b));return c.u};W.prototype.set=W.prototype.set;
W.prototype.update=function(a,b){E("Wilddog.update",1,2,arguments.length);Zd("Wilddog.update",this.path);if(ea(a)){for(var c={},d=0;d<a.length;++d)c[""+d]=a[d];a=c;x("Passing an Array to Wilddog.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Td("Wilddog.update",a,this.path);F("Wilddog.update",2,b,!0);c=new B;this.G.update(this.path,a,C(c,b));return c.u};W.prototype.update=W.prototype.update;
W.prototype.vb=function(a,b,c){E("Wilddog.setWithPriority",2,3,arguments.length);Zd("Wilddog.setWithPriority",this.path);Qd("Wilddog.setWithPriority",a,this.path,!1);Ud("Wilddog.setWithPriority",2,b);F("Wilddog.setWithPriority",3,c,!0);if(".length"===this.key()||".keys"===this.key())throw"Wilddog.setWithPriority failed: "+this.key()+" is a read-only object.";var d=new B;this.G.vb(this.path,a,b,C(d,c));return d.u};W.prototype.setWithPriority=W.prototype.vb;
W.prototype.remove=function(a){E("Wilddog.remove",0,1,arguments.length);Zd("Wilddog.remove",this.path);F("Wilddog.remove",1,a,!0);return this.set(null,a)};W.prototype.remove=W.prototype.remove;
W.prototype.transaction=function(a,b,c){E("Wilddog.transaction",1,3,arguments.length);Zd("Wilddog.transaction",this.path);F("Wilddog.transaction",1,a,!1);F("Wilddog.transaction",2,b,!0);if(p(c)&&"boolean"!=typeof c)throw Error(Ed("Wilddog.transaction",3,!0)+"must be a boolean.");if(".length"===this.key()||".keys"===this.key())throw"Wilddog.transaction failed: "+this.key()+" is a read-only object.";"undefined"===typeof c&&(c=!0);var d=new B;ga(b)&&nc(d.u);ri(this.G,this.path,a,function(a,c,g){a?d.reject(a):
d.resolve(new Si(c,g));ga(b)&&b(a,c,g)},c);return d.u};W.prototype.transaction=W.prototype.transaction;W.prototype.Qg=function(a,b){E("Wilddog.setPriority",1,2,arguments.length);Zd("Wilddog.setPriority",this.path);Ud("Wilddog.setPriority",1,a);F("Wilddog.setPriority",2,b,!0);var c=new B;this.G.vb(this.path.w(".priority"),a,null,C(c,b));return c.u};W.prototype.setPriority=W.prototype.Qg;
W.prototype.push=function(a,b){E("Wilddog.push",0,2,arguments.length);Zd("Wilddog.push",this.path);Qd("Wilddog.push",a,this.path,!0);F("Wilddog.push",2,b,!0);var c=gi(this.G),d=Ti(c),c=this.w(d);if(null!=a){var e=this,f=c.set(a,b).then(function(){return e.w(d)});c.then=r(f.then,f);c["catch"]=r(f.then,f,void 0);ga(b)&&nc(f)}return c};W.prototype.push=W.prototype.push;W.prototype.onDisconnect=function(){Zd("Wilddog.onDisconnect",this.path);return new Y(this.G,this.path)};W.prototype.onDisconnect=W.prototype.onDisconnect;
function Ui(){E("Wilddog.goOffline",0,0,arguments.length);Ai.ac().Fc(this.app)}la("module$exports$wd$sync$Sync.goOffline",Ui);function Vi(){E("Wilddog.goOnline",0,0,arguments.length);Ai.ac().resume(this.app)}la("module$exports$wd$sync$Sync.goOnline",Vi);var Wi={TIMESTAMP:{".sv":"timestamp"}};la("module$exports$wd$sync$Sync.ServerValue",Wi);la("module$exports$wd$sync$Sync.Context",Ai);W.prototype.og=Ui;W.prototype.goOffline=W.prototype.og;W.prototype.pg=Vi;W.prototype.goOnline=W.prototype.pg;
W.prototype.$e=function(a,b){v(!b||!0===a||!1===a,"Can't turn on custom loggers persistently.");!0===a?("undefined"!==typeof console&&("function"===typeof console.log?ob=r(console.log,console):"object"===typeof console.log&&(ob=function(a){console.log(a)})),b&&w.set("logging_enabled",!0)):a?ob=a:(ob=null,w.remove("logging_enabled"))};W.prototype.enableLogging=W.prototype.$e;W.prototype.Mf=Wi;W.prototype.ServerValue=W.prototype.Mf;nd&&nd.Dg&&nd.Dg(Z);be.Ie("sync",function(a){return new W(a)});be.Ie("auth",function(a){null==a.Ue&&(a.Ue=new N(a));return a.Ue});
(function(a){a.auth=a.auth?a.auth:{};[{id:"password",name:"Wilddog",xb:"phoneOrEmail",eb:"password"},{id:"password",name:"Email",xb:"email",eb:"password"},{id:"qq",name:"QQ",xb:"accessToken",eb:"openId"},{id:"weibo",name:"Weibo",xb:"accessToken",eb:"openId"},{id:"weixin",name:"Weixin",xb:"accessToken",eb:"openId"},{id:"weixinmp",name:"Weixinmp",xb:"accessToken",eb:"openId"}].forEach(function(b){a.auth[b.name+"AuthProvider"]=function(){this.id=b.id;this.addScope=function(a){this.scope=a}};"Wilddog"==
b.name?(a.auth.WilddogAuthProvider.emailCredential=function(a,d){var c={};c.provider=b.id;c.email=a;c[b.eb]=d;return c},a.auth.WilddogAuthProvider.phoneCredential=function(a,d){var c={};c.provider=b.id;c.phoneNumber=a;c[b.eb]=d;return c}):a.auth[b.name+"AuthProvider"].credential="Email"==b.name?function(a,d){x("wilddog.auth.EmailAuthProvider being deprecated. Please usewilddog.auth.WilddogAuthProvider instead.");var c={};c.provider=b.id;c[b.xb]=a;c[b.eb]=d;return c}:function(a,d){var c={};c.provider=
b.id;c[b.xb]=a;c[b.eb]=d;return c}})})(be);if("WEB"==CLIENT_TYPE)"object"==typeof module&&module.exports&&(module.exports=be),"function"==typeof define&&define.amd&&define("wilddog",[],function(){return be}),"undefined"!=typeof window?window.wilddog=be:WorkerGlobalScope&&self&&(self.wilddog=be);else if("NODE"==CLIENT_TYPE||"WX"==CLIENT_TYPE||"RN"==CLIENT_TYPE)module.exports=be;
};ns.wrapper(ns.goog,ns.wd)})({goog:{},wd:{}})
